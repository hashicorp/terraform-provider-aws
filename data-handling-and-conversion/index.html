
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Contributor documentation and reference for the Terraform AWS Provider">
      
      
      
      
        <link rel="prev" href="../core-services/">
      
      
        <link rel="next" href="../debugging/">
      
      <link rel="icon" href="../images/hashicorp-black.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.0.6">
    
    
      
        <title>Data Handling and Conversion - Terraform AWS Provider - Contributor Guide</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.558e4712.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.2505c338.min.css">
      
      

    
    
    
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="hashicorp" data-md-color-primary="black" data-md-color-accent="blue">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#data-handling-and-conversion" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Terraform AWS Provider - Contributor Guide" class="md-header__button md-logo" aria-label="Terraform AWS Provider - Contributor Guide" data-md-component="logo">
      
  <img src="../images/hashicorp.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Terraform AWS Provider - Contributor Guide
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Data Handling and Conversion
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/hashicorp/terraform-provider-aws" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    hashicorp/terraform-provider-aws
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Terraform AWS Provider - Contributor Guide" class="md-nav__button md-logo" aria-label="Terraform AWS Provider - Contributor Guide" data-md-component="logo">
      
  <img src="../images/hashicorp.png" alt="logo">

    </a>
    Terraform AWS Provider - Contributor Guide
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/hashicorp/terraform-provider-aws" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    hashicorp/terraform-provider-aws
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Welcome
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2" tabindex="0" aria-expanded="false">
          Contribute
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Contribute" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Contribute
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../development-environment/" class="md-nav__link">
        Development Environment
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_2_2" type="checkbox" id="__nav_2_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2_2" tabindex="0" aria-expanded="false">
          Contribution Guides
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Contribution Guides" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_2">
          <span class="md-nav__icon md-icon"></span>
          Contribution Guides
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../add-a-new-service/" class="md-nav__link">
        Add a New AWS Service
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../add-a-new-resource/" class="md-nav__link">
        Add a New Resource Type
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../add-a-new-datasource/" class="md-nav__link">
        Add a New Data Source Type
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../add-a-new-ephemeral-resource/" class="md-nav__link">
        Add a New Ephemeral Resource Type
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../add-a-new-function/" class="md-nav__link">
        Add a New Function
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../add-a-new-region/" class="md-nav__link">
        Add a New AWS Region
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../add-resource-identity-support/" class="md-nav__link">
        Add Resource Identity Support
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../add-import-support/" class="md-nav__link">
        Add Resource Import Support
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../resource-filtering/" class="md-nav__link">
        Resource Filtering
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../resource-name-generation/" class="md-nav__link">
        Resource Name Generation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../resource-tagging/" class="md-nav__link">
        Resource Tagging
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../adding-a-tag-resource/" class="md-nav__link">
        Tag Resource
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../bugs-and-enhancements/" class="md-nav__link">
        Bugs and Enhancements
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../documentation-changes/" class="md-nav__link">
        Documentation Changes
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../running-and-writing-acceptance-tests/" class="md-nav__link">
        Acceptance Tests
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../acc-test-generation/" class="md-nav__link">
        Generated Acceptance Tests
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../unit-tests/" class="md-nav__link">
        Unit Tests
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../continuous-integration/" class="md-nav__link">
        Continuous Integration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../changelog-process/" class="md-nav__link">
        Changelog Process
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../raising-a-pull-request/" class="md-nav__link">
        Raising a Pull Request
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../prioritization/" class="md-nav__link">
        How We Prioritize
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      
      
        <label class="md-nav__link" for="__nav_3" tabindex="0" aria-expanded="true">
          Developer Reference
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Developer Reference" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Developer Reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../acc-test-environment-variables/" class="md-nav__link">
        Acceptance Test Environment Variables
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ai-agents/" class="md-nav__link">
        AI Agents
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_3_3" type="checkbox" id="__nav_3_3" >
      
      
      
        <label class="md-nav__link" for="__nav_3_3" tabindex="0" aria-expanded="false">
          AI Agent Guides
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="AI Agent Guides" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_3">
          <span class="md-nav__icon md-icon"></span>
          AI Agent Guides
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ai-agent-guides/go-vcr-migration/" class="md-nav__link">
        Go-VCR
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ai-agent-guides/list-resource/" class="md-nav__link">
        List Resource
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ai-agent-guides/arn-based-resource-identity/" class="md-nav__link">
        Resource Identity (ARN-based)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ai-agent-guides/parameterized-resource-identity/" class="md-nav__link">
        Resource Identity (Parameterized)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ai-agent-guides/smarterr/" class="md-nav__link">
        Smarterr
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../aws-sdk-go-base/" class="md-nav__link">
        AWS SDK Go Base
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-services/" class="md-nav__link">
        Core Services
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Data Handling and Conversion
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Data Handling and Conversion
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#data-conversions-in-terraform-providers" class="md-nav__link">
    Data Conversions in Terraform Providers
  </a>
  
    <nav class="md-nav" aria-label="Data Conversions in Terraform Providers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#implicit-state-passthrough" class="md-nav__link">
    Implicit State Passthrough
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#terraform-plugin-framework-versus-plugin-sdk-v2" class="md-nav__link">
    Terraform Plugin Framework versus Plugin SDK V2
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-conversions-in-the-terraform-aws-provider" class="md-nav__link">
    Data Conversions in the Terraform AWS Provider
  </a>
  
    <nav class="md-nav" aria-label="Data Conversions in the Terraform AWS Provider">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#type-mapping" class="md-nav__link">
    Type Mapping
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#default-values" class="md-nav__link">
    Default Values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zero-value-mapping" class="md-nav__link">
    Zero Value Mapping
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#root-attributes-versus-block-attributes" class="md-nav__link">
    Root Attributes Versus Block Attributes
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#recommended-implementations" class="md-nav__link">
    Recommended Implementations
  </a>
  
    <nav class="md-nav" aria-label="Recommended Implementations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#autoflex-for-terraform-plugin-framework-preferred" class="md-nav__link">
    AutoFlex for Terraform Plugin Framework (Preferred)
  </a>
  
    <nav class="md-nav" aria-label="AutoFlex for Terraform Plugin Framework (Preferred)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#customizing-struct-field-flexing" class="md-nav__link">
    Customizing Struct Field Flexing
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#overriding-default-behavior" class="md-nav__link">
    Overriding Default Behavior
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#troubleshooting" class="md-nav__link">
    Troubleshooting
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#manually-defined-flattening-and-expanding-functions" class="md-nav__link">
    Manually Defined Flattening and Expanding Functions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#expand-functions-for-blocks" class="md-nav__link">
    Expand Functions for Blocks
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flatten-functions-for-blocks" class="md-nav__link">
    Flatten Functions for Blocks
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#root-bool-and-aws-boolean" class="md-nav__link">
    Root Bool and AWS Boolean
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#root-float-and-aws-float" class="md-nav__link">
    Root Float and AWS Float
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#root-int-and-aws-integer" class="md-nav__link">
    Root Int and AWS Integer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#root-list-of-resource-and-aws-list-of-structure" class="md-nav__link">
    Root List of Resource and AWS List of Structure
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#root-list-of-resource-and-aws-structure" class="md-nav__link">
    Root List of Resource and AWS Structure
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#root-list-of-string-and-aws-list-of-string" class="md-nav__link">
    Root List of String and AWS List of String
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#root-map-of-string-and-aws-map-of-string" class="md-nav__link">
    Root Map of String and AWS Map of String
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#root-set-of-resource-and-aws-list-of-structure" class="md-nav__link">
    Root Set of Resource and AWS List of Structure
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#root-set-of-string-and-aws-list-of-string" class="md-nav__link">
    Root Set of String and AWS List of String
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#root-string-and-aws-string" class="md-nav__link">
    Root String and AWS String
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#root-string-and-aws-timestamp" class="md-nav__link">
    Root String and AWS Timestamp
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nested-bool-and-aws-boolean" class="md-nav__link">
    Nested Bool and AWS Boolean
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nested-float-and-aws-float" class="md-nav__link">
    Nested Float and AWS Float
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nested-int-and-aws-integer" class="md-nav__link">
    Nested Int and AWS Integer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nested-list-of-resource-and-aws-list-of-structure" class="md-nav__link">
    Nested List of Resource and AWS List of Structure
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nested-list-of-resource-and-aws-structure" class="md-nav__link">
    Nested List of Resource and AWS Structure
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nested-list-of-typestring-and-aws-list-of-string" class="md-nav__link">
    Nested List of TypeString and AWS List of String
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nested-map-of-string-and-aws-map-of-string" class="md-nav__link">
    Nested Map of String and AWS Map of String
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nested-set-of-resource-and-aws-list-of-structure" class="md-nav__link">
    Nested Set of Resource and AWS List of Structure
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nested-set-of-typestring-and-aws-list-of-string" class="md-nav__link">
    Nested Set of TypeString and AWS List of String
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nested-typestring-and-aws-string" class="md-nav__link">
    Nested TypeString and AWS String
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nested-string-and-aws-timestamp" class="md-nav__link">
    Nested String and AWS Timestamp
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#further-guidelines" class="md-nav__link">
    Further Guidelines
  </a>
  
    <nav class="md-nav" aria-label="Further Guidelines">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#binary-values" class="md-nav__link">
    Binary Values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#destroy-state-values" class="md-nav__link">
    Destroy State Values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hashed-values" class="md-nav__link">
    Hashed Values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sensitive-values" class="md-nav__link">
    Sensitive Values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#virtual-attributes" class="md-nav__link">
    Virtual Attributes
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#glossary" class="md-nav__link">
    Glossary
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../debugging/" class="md-nav__link">
        Debugging
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../dependency-updates/" class="md-nav__link">
        Dependency Updates
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../design-decision-log/" class="md-nav__link">
        Design Decision Log
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../enhanced-region-support/" class="md-nav__link">
        Enhanced Region Support
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../error-handling/" class="md-nav__link">
        Error Handling
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../go-vcr/" class="md-nav__link">
        Go-VCR
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../id-attributes/" class="md-nav__link">
        ID Attributes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../makefile-cheat-sheet/" class="md-nav__link">
        Makefile Cheat Sheet
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../naming/" class="md-nav__link">
        Naming Standards
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../provider-design/" class="md-nav__link">
        Provider Design
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../skaff/" class="md-nav__link">
        Provider Scaffolding (skaff)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../regular-expressions/" class="md-nav__link">
        Regular Expressions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../resource-identity/" class="md-nav__link">
        Resource Identity
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../retries-and-waiters/" class="md-nav__link">
        Retries and Waiters
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../terraform-plugin-development-packages/" class="md-nav__link">
        Terraform Plugin Development Packages
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../terraform-plugin-migrations/" class="md-nav__link">
        Terraform Plugin Migrations
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../issue-reporting-and-lifecycle/" class="md-nav__link">
        Submit an Issue
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../faq/" class="md-nav__link">
        FAQ
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#data-conversions-in-terraform-providers" class="md-nav__link">
    Data Conversions in Terraform Providers
  </a>
  
    <nav class="md-nav" aria-label="Data Conversions in Terraform Providers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#implicit-state-passthrough" class="md-nav__link">
    Implicit State Passthrough
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#terraform-plugin-framework-versus-plugin-sdk-v2" class="md-nav__link">
    Terraform Plugin Framework versus Plugin SDK V2
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-conversions-in-the-terraform-aws-provider" class="md-nav__link">
    Data Conversions in the Terraform AWS Provider
  </a>
  
    <nav class="md-nav" aria-label="Data Conversions in the Terraform AWS Provider">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#type-mapping" class="md-nav__link">
    Type Mapping
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#default-values" class="md-nav__link">
    Default Values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zero-value-mapping" class="md-nav__link">
    Zero Value Mapping
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#root-attributes-versus-block-attributes" class="md-nav__link">
    Root Attributes Versus Block Attributes
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#recommended-implementations" class="md-nav__link">
    Recommended Implementations
  </a>
  
    <nav class="md-nav" aria-label="Recommended Implementations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#autoflex-for-terraform-plugin-framework-preferred" class="md-nav__link">
    AutoFlex for Terraform Plugin Framework (Preferred)
  </a>
  
    <nav class="md-nav" aria-label="AutoFlex for Terraform Plugin Framework (Preferred)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#customizing-struct-field-flexing" class="md-nav__link">
    Customizing Struct Field Flexing
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#overriding-default-behavior" class="md-nav__link">
    Overriding Default Behavior
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#troubleshooting" class="md-nav__link">
    Troubleshooting
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#manually-defined-flattening-and-expanding-functions" class="md-nav__link">
    Manually Defined Flattening and Expanding Functions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#expand-functions-for-blocks" class="md-nav__link">
    Expand Functions for Blocks
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flatten-functions-for-blocks" class="md-nav__link">
    Flatten Functions for Blocks
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#root-bool-and-aws-boolean" class="md-nav__link">
    Root Bool and AWS Boolean
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#root-float-and-aws-float" class="md-nav__link">
    Root Float and AWS Float
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#root-int-and-aws-integer" class="md-nav__link">
    Root Int and AWS Integer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#root-list-of-resource-and-aws-list-of-structure" class="md-nav__link">
    Root List of Resource and AWS List of Structure
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#root-list-of-resource-and-aws-structure" class="md-nav__link">
    Root List of Resource and AWS Structure
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#root-list-of-string-and-aws-list-of-string" class="md-nav__link">
    Root List of String and AWS List of String
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#root-map-of-string-and-aws-map-of-string" class="md-nav__link">
    Root Map of String and AWS Map of String
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#root-set-of-resource-and-aws-list-of-structure" class="md-nav__link">
    Root Set of Resource and AWS List of Structure
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#root-set-of-string-and-aws-list-of-string" class="md-nav__link">
    Root Set of String and AWS List of String
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#root-string-and-aws-string" class="md-nav__link">
    Root String and AWS String
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#root-string-and-aws-timestamp" class="md-nav__link">
    Root String and AWS Timestamp
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nested-bool-and-aws-boolean" class="md-nav__link">
    Nested Bool and AWS Boolean
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nested-float-and-aws-float" class="md-nav__link">
    Nested Float and AWS Float
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nested-int-and-aws-integer" class="md-nav__link">
    Nested Int and AWS Integer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nested-list-of-resource-and-aws-list-of-structure" class="md-nav__link">
    Nested List of Resource and AWS List of Structure
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nested-list-of-resource-and-aws-structure" class="md-nav__link">
    Nested List of Resource and AWS Structure
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nested-list-of-typestring-and-aws-list-of-string" class="md-nav__link">
    Nested List of TypeString and AWS List of String
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nested-map-of-string-and-aws-map-of-string" class="md-nav__link">
    Nested Map of String and AWS Map of String
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nested-set-of-resource-and-aws-list-of-structure" class="md-nav__link">
    Nested Set of Resource and AWS List of Structure
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nested-set-of-typestring-and-aws-list-of-string" class="md-nav__link">
    Nested Set of TypeString and AWS List of String
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nested-typestring-and-aws-string" class="md-nav__link">
    Nested TypeString and AWS String
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nested-string-and-aws-timestamp" class="md-nav__link">
    Nested String and AWS Timestamp
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#further-guidelines" class="md-nav__link">
    Further Guidelines
  </a>
  
    <nav class="md-nav" aria-label="Further Guidelines">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#binary-values" class="md-nav__link">
    Binary Values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#destroy-state-values" class="md-nav__link">
    Destroy State Values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hashed-values" class="md-nav__link">
    Hashed Values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sensitive-values" class="md-nav__link">
    Sensitive Values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#virtual-attributes" class="md-nav__link">
    Virtual Attributes
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#glossary" class="md-nav__link">
    Glossary
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  



<!-- Copyright IBM Corp. 2014, 2026 -->
<!-- SPDX-License-Identifier: MPL-2.0 -->

<!-- markdownlint-configure-file { "code-block-style": false } -->
<h1 id="data-handling-and-conversion">Data Handling and Conversion<a class="headerlink" href="#data-handling-and-conversion" title="Permanent link">#</a></h1>
<p>The Terraform AWS Provider codebase bridges the implementation of a <a href="https://www.terraform.io/plugin/how-terraform-works">Terraform Plugin</a> and an AWS API client to support AWS operations and data types as Terraform Resources. Data handling and conversion is a large portion of resource implementation given the domain-specific implementations of each side of the provider. The first is where Terraform is a generic infrastructure as code tool with a generic data model and the other is where the details are driven by AWS API data modeling concepts. This guide is intended to explain and show preferred Terraform AWS Provider code implementations required to successfully translate data between these two systems.</p>
<p>At the bottom of this documentation is a <a href="#glossary">Glossary section</a>, which may be a helpful reference while reading the other sections.</p>
<h2 id="data-conversions-in-terraform-providers">Data Conversions in Terraform Providers<a class="headerlink" href="#data-conversions-in-terraform-providers" title="Permanent link">#</a></h2>
<p>Before getting into highly specific documentation about the Terraform AWS Provider handling of data, it may be helpful to briefly highlight how Terraform Plugins (Terraform Providers in this case) interact with Terraform CLI and the Terraform State in general and where this documentation fits into the whole process.</p>
<p>There are two primary data flows that are typically handled by resources within a Terraform Provider.
Data is either converted from a planned new Terraform State into making a remote system request, referred to as "Expanding",
or a remote system response is converted into an applied new Terraform State, referred to as "Flattening".
The semantics of how the data of the planned new Terraform State is surfaced to the resource implementation is determined by where a resource is in its lifecycle and is mainly handled by Terraform CLI.
This concept can be explored further in the <a href="https://github.com/hashicorp/terraform/blob/main/docs/resource-instance-change-lifecycle.md">Terraform Resource Instance Change Lifecycle documentation</a>, with the caveat that some additional behaviors occur within the Terraform Plugin SDK as well (if the Terraform Plugin uses that implementation detail).</p>
<p>As a generic walkthrough, the following data handling occurs when creating a Terraform Resource:</p>
<ul>
<li>An operator creates a Terraform configuration with a new resource defined and runs <code>terraform apply</code></li>
<li>Terraform CLI merges an empty prior state for the resource, along with the given configuration state, to create a planned new state for the resource</li>
<li>Terraform CLI sends a Terraform Plugin Protocol request to create the new resource with its planned new state data</li>
<li>If the Terraform Plugin is using a higher-level library, such as the Terraform Plugin Framework, that library receives the request and translates the Terraform Plugin Protocol data types into the expected library types</li>
<li>Terraform Plugin invokes the resource creation function with the planned new state data<ul>
<li><strong>The planned new state data is converted into a remote system request (e.g., API creation request) that is invoked</strong></li>
<li><strong>The remote system response is received and the data is converted into an applied new state</strong></li>
</ul>
</li>
<li>If the Terraform Plugin is using a higher-level library, such as the Terraform Plugin Framework, that library translates the library types back into Terraform Plugin Protocol data types</li>
<li>Terraform Plugin responds to Terraform Plugin Protocol request with the new state data</li>
<li>Terraform CLI verifies and stores the new state</li>
</ul>
<p>The lines in bold above are the focus of this page.</p>
<h3 id="implicit-state-passthrough">Implicit State Passthrough<a class="headerlink" href="#implicit-state-passthrough" title="Permanent link">#</a></h3>
<p>An important behavior to note with Terraform State handling is if the value of a particular root attribute or block is not refreshed during plan or apply operations, then the prior Terraform State is implicitly deep copied to the new Terraform State for that attribute or block.</p>
<p>Given a resource with a writeable root attribute named <code>not_set_attr</code> that never explicitly writes a value, the following happens:</p>
<ul>
<li>If the Terraform configuration contains <code>not_set_attr = "anything"</code> on resource creation, the Terraform State contains <code>not_set_attr</code> equal to <code>"anything"</code> after apply.</li>
<li>If the Terraform configuration is updated to <code>not_set_attr = "updated"</code>, the Terraform State contains <code>not_set_attr</code> equal to <code>"updated"</code> after apply.</li>
<li>If the attribute was meant to be associated with a remote system value, it will never update the Terraform State on plan or apply with the remote value. Effectively, it cannot perform drift detection with the remote value.</li>
</ul>
<p>This however does <em>not</em> apply to nested attributes and blocks if the parent block is refreshed.
Given a resource with a root block named <code>parent</code>, with nested child attributes <code>set_attr</code> and <code>not_set_attr</code>, a read operation which updates the value of <code>parent</code> (and the nested <code>set_attr</code> attribute) will not copy the Terraform State for the nested <code>not_set_attr</code> attribute.</p>
<p>There are valid use cases for passthrough attribute values such as these (see the <a href="#virtual-attributes">Virtual Attributes section</a>), however the behavior can be confusing or incorrect for operators if the drift detection is expected.
Typically these types of drift detection issues can be discovered by implementing resource import testing with state verification.</p>
<h2 id="terraform-plugin-framework-versus-plugin-sdk-v2">Terraform Plugin Framework versus Plugin SDK V2<a class="headerlink" href="#terraform-plugin-framework-versus-plugin-sdk-v2" title="Permanent link">#</a></h2>
<p>Perhaps the most distinct difference between <a href="https://developer.hashicorp.com/terraform/plugin/framework">Terraform Plugin Framework</a> and <a href="https://developer.hashicorp.com/terraform/plugin/sdkv2">Terraform Plugin SDKv2</a> is data handling.
With Terraform Plugin Framework state data is strongly typed, while Plugin SDK V2 based resources represent state data generically (each attribute is an <code>interface{}</code>) and types must be asserted at runtime.
Strongly typed data eliminates an entire class of runtime bugs and crashes, but does require compile type declarations and a slightly different approach to reading and writing data.
The sections below contain examples for both plugin libraries, but Terraform Plugin Framework is <strong>required for all net-new resources</strong>.</p>
<h2 id="data-conversions-in-the-terraform-aws-provider">Data Conversions in the Terraform AWS Provider<a class="headerlink" href="#data-conversions-in-the-terraform-aws-provider" title="Permanent link">#</a></h2>
<p>To expand on the data handling that occurs specifically within the Terraform AWS Provider resource implementations, the above resource creation items become the below in practice given our current usage of the Terraform Plugin SDK:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">Terraform Plugin Framework (Preferred)</label><label for="__tabbed_1_2">Terraform Plugin SDK V2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<ul>
<li>The <code>Create</code> method of a resource is invoked with <code>resource.CreateRequest</code> containing the planned new state data (<code>req.Plan</code>) and an AWS API client (stored in the <code>Meta()</code> method of the resource struct).<ul>
<li>Before reaching this point, the <code>Plan</code> data was already translated from the Terraform Plugin Protocol data types by the Terraform Plugin Framework so values can be read by invoking <code>req.Plan.Get(ctx, &amp;plan)</code>, where <code>plan</code> is an instance of the struct representing the resources data.</li>
</ul>
</li>
<li>An AWS Go SDK operation input type (e.g., <code>ec2.CreateVpcInput</code>) is initialized</li>
<li>For each necessary field to configure in the operation input type, the data is read from the <code>plan</code> struct and converted into the AWS Go SDK type for the field (e.g., <code>*string</code>)</li>
<li>The AWS Go SDK operation is invoked and the output type (e.g., <code>*ec2.CreateVpcOutput</code>) is initialized</li>
<li>For each necessary Attribute, Block, or resource identifier to be saved in the state, the data is read from the AWS Go SDK type for the field (<code>*string</code>), if necessary converted into the equivalent Plugin Framework compatible type, and saved into a mutated data struct</li>
<li>Function is returned</li>
</ul>
</div>
<div class="tabbed-block">
<ul>
<li>The <code>CreateWithoutTimeout</code> function of a <code>schema.Resource</code> is invoked with <code>*schema.ResourceData</code> containing the planned new state data (conventionally named <code>d</code>) and an AWS API client (conventionally named <code>meta</code>).<ul>
<li>Before reaching this point, the <code>ResourceData</code> was already translated from the Terraform Plugin Protocol data types by the Terraform Plugin SDK so values can be read by invoking <code>d.Get()</code> and <code>d.GetOk()</code> receiver methods with Attribute and Block names from the <code>Schema</code> of the <code>schema.Resource</code>.</li>
</ul>
</li>
<li>An AWS Go SDK operation input type (e.g., <code>ec2.CreateVpcInput</code>) is initialized</li>
<li>For each necessary field to configure in the operation input type, the data is read from the <code>ResourceData</code> (e.g., <code>d.Get()</code>, <code>d.GetOk()</code>) and converted into the AWS Go SDK type for the field (e.g., <code>*string</code>)</li>
<li>The AWS Go SDK operation is invoked and the output type (e.g., <code>*ec2.CreateVpcOutput</code>) is initialized</li>
<li>For each necessary Attribute, Block, or resource identifier to be saved in the state, the data is read from the AWS Go SDK type for the field (<code>*string</code>), if necessary converted into a <code>ResourceData</code> compatible type, and saved into a mutated <code>ResourceData</code> (e.g., <code>d.Set()</code>, <code>d.SetId()</code>)</li>
<li>Function is returned</li>
</ul>
</div>
</div>
</div>
<h3 id="type-mapping">Type Mapping<a class="headerlink" href="#type-mapping" title="Permanent link">#</a></h3>
<p>To further understand the necessary data conversions used throughout the Terraform AWS Provider codebase between AWS Go SDK types and the Terraform Plugin SDK, the following table can be referenced for most scenarios:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:2"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">Terraform Plugin Framework (Preferred)</label><label for="__tabbed_2_2">Terraform Plugin SDK V2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<!-- markdownlint-disable no-inline-html --->
<table>
<thead>
<tr>
<th>AWS API Model</th>
<th>AWS Go SDK V2</th>
<th>Terraform Plugin Framework</th>
<th>Terraform Language/State</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>boolean</code></td>
<td><code>bool</code></td>
<td><code>types.Bool</code></td>
<td><code>bool</code></td>
</tr>
<tr>
<td><code>float</code></td>
<td><code>*float64</code></td>
<td><code>types.Float64</code></td>
<td><code>number</code></td>
</tr>
<tr>
<td><code>integer</code></td>
<td><code>*int64</code></td>
<td><code>types.Int64</code></td>
<td><code>number</code></td>
</tr>
<tr>
<td><code>list</code></td>
<td><code>[]*T</code></td>
<td><code>types.List</code> <br/><code>types.Set</code></td>
<td><code>list(any)</code><br/><code>set(any)</code></td>
</tr>
<tr>
<td><code>map</code></td>
<td><code>map[T1]*T2</code></td>
<td><code>types.Map</code></td>
<td><code>map(any)</code></td>
</tr>
<tr>
<td><code>string</code></td>
<td><code>*string</code></td>
<td><code>types.String</code></td>
<td><code>string</code></td>
</tr>
<tr>
<td><code>structure</code></td>
<td><code>struct</code></td>
<td><code>types.List</code> with <code>MaxItems: 1</code></td>
<td><code>list(object(any))</code></td>
</tr>
<tr>
<td><code>timestamp</code></td>
<td><code>*time.Time</code></td>
<td><code>types.String</code> (typically RFC3339 formatted)</td>
<td><code>string</code></td>
</tr>
</tbody>
</table>
<!-- markdownlint-enable no-inline-html --->
<p><a href="https://developer.hashicorp.com/terraform/plugin/framework/handling-data/types">Types</a> are built into the Terraform Plugin Framework library and handle null and unknown values in accordance with the <a href="https://developer.hashicorp.com/terraform/plugin/framework/handling-data/terraform-concepts#type-system">Terraform type system</a>.
This eliminates the need for any special handling of zero values and provides better change detection on unset values.</p>
</div>
<div class="tabbed-block">
<!-- markdownlint-disable no-inline-html --->
<table>
<thead>
<tr>
<th>AWS API Model</th>
<th>AWS Go SDK</th>
<th>Terraform Plugin SDK</th>
<th>Terraform Language/State</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>boolean</code></td>
<td><code>*bool</code></td>
<td><code>TypeBool</code> (<code>bool</code>)</td>
<td><code>bool</code></td>
</tr>
<tr>
<td><code>float</code></td>
<td><code>*float64</code></td>
<td><code>TypeFloat</code> (<code>float64</code>)</td>
<td><code>number</code></td>
</tr>
<tr>
<td><code>integer</code></td>
<td><code>*int64</code></td>
<td><code>TypeInt</code> (<code>int</code>)</td>
<td><code>number</code></td>
</tr>
<tr>
<td><code>list</code></td>
<td><code>[]*T</code></td>
<td><code>TypeList</code> (<code>[]interface{}</code> of <code>T</code>)<br/><code>TypeSet</code> (<code>*schema.Set</code> of <code>T</code>)</td>
<td><code>list(any)</code><br/><code>set(any)</code></td>
</tr>
<tr>
<td><code>map</code></td>
<td><code>map[T1]*T2</code></td>
<td><code>TypeMap</code> (<code>map[string]interface{}</code>)</td>
<td><code>map(any)</code></td>
</tr>
<tr>
<td><code>string</code></td>
<td><code>*string</code></td>
<td><code>TypeString</code> (<code>string</code>)</td>
<td><code>string</code></td>
</tr>
<tr>
<td><code>structure</code></td>
<td><code>struct</code></td>
<td><code>TypeList</code> (<code>[]interface{}</code> of <code>map[string]interface{}</code>) with <code>MaxItems: 1</code></td>
<td><code>list(object(any))</code></td>
</tr>
<tr>
<td><code>timestamp</code></td>
<td><code>*time.Time</code></td>
<td><code>TypeString</code> (typically RFC3339 formatted)</td>
<td><code>string</code></td>
</tr>
</tbody>
</table>
<!-- markdownlint-enable no-inline-html --->
<p>You may notice there are type encoding differences between the AWS Go SDK and Terraform Plugin SDK:</p>
<ul>
<li>AWS Go SDK types are all Go pointer types, while Terraform Plugin SDK types are not.</li>
<li>AWS Go SDK structures are the Go <code>struct</code> type, while there is no semantically equivalent Terraform Plugin SDK type. Instead they are represented as a slice of interfaces with an underlying map of interfaces.</li>
<li>AWS Go SDK types are all Go concrete types, while the Terraform Plugin SDK types for collections and maps are interfaces.</li>
<li>AWS Go SDK whole numeric type is always 64-bit, while the Terraform Plugin SDK type is implementation-specific.</li>
</ul>
<p>Conceptually, the first and second items above are the most problematic in the Terraform AWS Provider codebase. The first item because non-pointer types in Go cannot implement the concept of no value (<code>nil</code>). The <a href="#zero-value-mapping">Zero Value Mapping section</a> will go into more detail about the implications of this limitation. The second item because it can be confusing to always handle a structure ("object") type as a list.</p>
</div>
</div>
</div>
<h3 id="default-values">Default Values<a class="headerlink" href="#default-values" title="Permanent link">#</a></h3>
<p>If an AWS API sets a default value on the server side, no default should be set on the provider side.
Instead, the argument should be marked as <code>Optional</code> and <code>Computed</code>.
This avoids potential future conflicts if a server side default value changes.</p>
<p>As a general rule, provider side default values should be avoided unless strictly necessary for a resource to function properly.</p>
<h3 id="zero-value-mapping">Zero Value Mapping<a class="headerlink" href="#zero-value-mapping" title="Permanent link">#</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This section only applies to Plugin SDK V2 based resources. Terraform Plugin Framework based resources will handle null and unknown values distinctly from zero values.</p>
</div>
<p>As mentioned in the <a href="#type-mapping">Type Mapping section</a> for Terraform Plugin SDK V2, there is a discrepancy between how the Terraform Plugin SDK represents values and the reality that a Terraform State may not configure an Attribute.
These values will default to the matching underlying Go type "zero value" if not set:</p>
<table>
<thead>
<tr>
<th>Terraform Plugin SDK</th>
<th>Go Type</th>
<th>Zero Value</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>TypeBool</code></td>
<td><code>bool</code></td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>TypeFloat</code></td>
<td><code>float64</code></td>
<td><code>0.0</code></td>
</tr>
<tr>
<td><code>TypeInt</code></td>
<td><code>int</code></td>
<td><code>0</code></td>
</tr>
<tr>
<td><code>TypeString</code></td>
<td><code>string</code></td>
<td><code>""</code></td>
</tr>
</tbody>
</table>
<p>For Terraform resource logic this means that these special values must always be accounted for in implementation.
The semantics of the API and its meaning of the zero value will determine whether:</p>
<ul>
<li>If it is not used/needed, then generally the zero value can safely be used to store an "unset" value and should be ignored when sending to the API.</li>
<li>If it is used/needed, whether:<ul>
<li>A value can always be set and it is safe to always send to the API. Generally, boolean values fall into this category.</li>
<li>A different default/sentinel value must be used as the "unset" value so it can either match the default of the API or be ignored when sending to the API.</li>
<li>A special type implementation is required within the schema to work around the limitation.</li>
</ul>
</li>
</ul>
<p>The maintainers can provide guidance on appropriate solutions for cases not mentioned in the <a href="#recommended-implementations">Recommended Implementation section</a>.</p>
<h3 id="root-attributes-versus-block-attributes">Root Attributes Versus Block Attributes<a class="headerlink" href="#root-attributes-versus-block-attributes" title="Permanent link">#</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="3:2"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio" /><input id="__tabbed_3_2" name="__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="__tabbed_3_1">Terraform Plugin Framework (Preferred)</label><label for="__tabbed_3_2">Terraform Plugin SDK V2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>All Attributes and Blocks at the top level of a resource structs <code>Schema</code> method are considered "root" attributes.
These will always be handled with the <code>Plan</code> and <code>State</code> fields from the request and response pointers passed in as arguments the the CRUD methods on the resource struct.
Values are read from and written to the underlying data structure during CRUD operations, and finally written to state in the response object with a call like <code>resp.Diagnostics.Append(resp.State.Set(ctx, &amp;plan)...)</code>.</p>
</div>
<div class="tabbed-block">
<p>All Attributes and Blocks at the top level of <code>schema.Resource</code> <code>Schema</code> are considered "root" attributes.
These will always be handled with receiver methods on <code>ResourceData</code>, such as reading with <code>d.Get()</code>, <code>d.GetOk()</code>, etc. and writing with <code>d.Set()</code>.
Any nested Attributes and Blocks inside those root Blocks will then be handled with standard Go types according to the table in the <a href="#type-mapping">Type Mapping section</a>.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>While it is possible in certain type scenarios to deeply read and write ResourceData information for a Block Attribute, this practice is discouraged in preference of only handling root Attributes and Blocks.</p>
</div>
</div>
</div>
</div>
<h2 id="recommended-implementations">Recommended Implementations<a class="headerlink" href="#recommended-implementations" title="Permanent link">#</a></h2>
<p>Given the complexities around conversions between AWS and Terraform Plugin type systems, this section contains recommended implementations for Terraform AWS Provider resources.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Some of these coding patterns may not be well represented in the codebase, as refactoring the many older styles over years of community development is a large task.
However this is meant to represent the preferred implementations today.
These will continue to evolve as this codebase and the Terraform Plugin ecosystem changes.</p>
</div>
<p>When using the Terraform Plugin Framework, there are two approaches for flattening and expanding Terraform data.
The preferred is AutoFlex, which automatically converts between provider and AWS API structures by analyzing type information.
Alternatively, provider developers can define flattening and expanding functions manually.</p>
<p>When using the Terraform Plugin SDK v2, flattening and expanding functions must be defined manually.</p>
<h3 id="autoflex-for-terraform-plugin-framework-preferred">AutoFlex for Terraform Plugin Framework (Preferred)<a class="headerlink" href="#autoflex-for-terraform-plugin-framework-preferred" title="Permanent link">#</a></h3>
<p>AutoFlex provides two entry-point functions, <code>Flatten</code> and <code>Expand</code> defined in the package <code>github.com/hashicorp/terraform-provider-aws/internal/framework/flex</code>.
Without configuration, these two functions should be able to convert most provider and AWS API structures.</p>
<p>AutoFlex uses field names to map between the source and target structures:</p>
<ol>
<li>An exact, case-sensitive match</li>
<li>An exact, case-insensitive match</li>
<li>Comparing plural and singular field names</li>
<li>Adding a field name prefix set using the AutoFlex options function <code>flex.WithFieldNamePrefix</code>, e.g. Lex v2 Intents in <code>internal/service/lexv2models/intent.go</code></li>
</ol>
<p>By default, AutoFlex ignores fields with the name <code>Tags</code>, as AWS resource tags are <a href="../resource-tagging/">handled separately</a>.
Additional fields can be ignored and the <code>Tags</code> field can be included by passing optional <code>flex.AutoFlexOptionsFunc</code>s to <code>Flatten</code> or <code>Expand</code>.
For example, to add an additional ignored field, use</p>
<div class="highlight"><pre><span></span><code><span class="nx">diags</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">flex</span><span class="p">.</span><span class="nx">Expand</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span><span class="w"> </span><span class="nx">source</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">target</span><span class="p">,</span><span class="w"> </span><span class="nx">flex</span><span class="p">.</span><span class="nx">WithIgnoredFieldNamesAppend</span><span class="p">(</span><span class="s">&quot;OtherField&quot;</span><span class="p">))</span>
</code></pre></div>
<p>This will ignore both <code>Tags</code> and <code>OtherField</code>.
To empty the list of ignored fields, use <code>flex.WithNoIgoredFieldNames</code>.
For example, to include <code>Tags</code>, call</p>
<div class="highlight"><pre><span></span><code><span class="nx">diags</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">flex</span><span class="p">.</span><span class="nx">Expand</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span><span class="w"> </span><span class="nx">source</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">target</span><span class="p">,</span><span class="w"> </span><span class="nx">flex</span><span class="p">.</span><span class="nx">WithNoIgnoredFieldNames</span><span class="p">())</span>
</code></pre></div>
<p>AutoFlex is able to convert single-element lists from Terraform blocks into single struct or pointer values in AWS API structs.</p>
<h4 id="customizing-struct-field-flexing">Customizing Struct Field Flexing<a class="headerlink" href="#customizing-struct-field-flexing" title="Permanent link">#</a></h4>
<p>The flexing of individual struct fields can be customized by using Go struct tags, with the namespace <code>autoflex</code>.</p>
<p>Tag values are comma-separated lists of options, with a leading comma.</p>
<p>The option <code>legacy</code> can be used when migrating a resource or data source from the Terraform Plugin SDK to the Terraform Plugin Framework.
This will preserve certain behaviors from the Plugin SDK, such as treating zero-values, i.e. the empty string or a numeric zero, equivalently to <code>null</code> values.
This is equivalent to calling the <code>fwflex.&lt;Type&gt;&lt;To/From&gt;FrameworkLegacy</code> functions.</p>
<p>For example, from the struct <code>resourceManagedUserPoolClientModel</code> for the Cognito IDP Managed User Pool Client:</p>
<div class="highlight"><pre><span></span><code><span class="kd">type</span><span class="w"> </span><span class="nx">resourceManagedUserPoolClientModel</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">AccessTokenValidity</span><span class="w">                      </span><span class="nx">types</span><span class="p">.</span><span class="nx">Int64</span><span class="w">  </span><span class="s">`tfsdk:&quot;access_token_validity&quot; autoflex:&quot;,legacy&quot;`</span>
<span class="w">    </span><span class="nx">AllowedOauthFlows</span><span class="w">                        </span><span class="nx">types</span><span class="p">.</span><span class="nx">Set</span><span class="w">    </span><span class="s">`tfsdk:&quot;allowed_oauth_flows&quot;`</span>
<span class="w">    </span><span class="o">...</span>
<span class="w">    </span><span class="nx">ClientSecret</span><span class="w">                             </span><span class="nx">types</span><span class="p">.</span><span class="nx">String</span><span class="w"> </span><span class="s">`tfsdk:&quot;client_secret&quot;`</span>
<span class="w">    </span><span class="nx">DefaultRedirectUri</span><span class="w">                       </span><span class="nx">types</span><span class="p">.</span><span class="nx">String</span><span class="w"> </span><span class="s">`tfsdk:&quot;default_redirect_uri&quot; autoflex:&quot;,legacy&quot;`</span>
<span class="w">    </span><span class="o">...</span>
<span class="w">    </span><span class="nx">ID</span><span class="w">                                       </span><span class="nx">types</span><span class="p">.</span><span class="nx">String</span><span class="w"> </span><span class="s">`tfsdk:&quot;id&quot;`</span>
<span class="w">    </span><span class="nx">IdTokenValidity</span><span class="w">                          </span><span class="nx">types</span><span class="p">.</span><span class="nx">Int64</span><span class="w">  </span><span class="s">`tfsdk:&quot;id_token_validity&quot; autoflex:&quot;,legacy&quot;`</span>
<span class="w">    </span><span class="nx">LogoutUrls</span><span class="w">                               </span><span class="nx">types</span><span class="p">.</span><span class="nx">Set</span><span class="w">    </span><span class="s">`tfsdk:&quot;logout_urls&quot;`</span>
<span class="w">    </span><span class="o">...</span>
<span class="p">}</span>
</code></pre></div>
<p>The option <code>omitempty</code> can be used with <code>string</code> values to store a <code>null</code> value when an empty string is returned.</p>
<p>For example, from the struct <code>refreshOnDayModel</code> for the QuickSight Refresh Schedule:</p>
<div class="highlight"><pre><span></span><code><span class="kd">type</span><span class="w"> </span><span class="nx">refreshOnDayModel</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">DayOfMonth</span><span class="w"> </span><span class="nx">types</span><span class="p">.</span><span class="nx">String</span><span class="w"> </span><span class="s">`tfsdk:&quot;day_of_month&quot;`</span>
<span class="w">    </span><span class="nx">DayOfWeek</span><span class="w">  </span><span class="nx">types</span><span class="p">.</span><span class="nx">String</span><span class="w"> </span><span class="s">`tfsdk:&quot;day_of_week&quot; autoflex:&quot;,omitempty&quot;`</span>
<span class="p">}</span>
</code></pre></div>
<p>To completely ignore a field, use the tag value <code>-</code>.</p>
<p>For example, from the struct <code>scheduleModel</code> for the QuickSight Refresh Schedule:</p>
<div class="highlight"><pre><span></span><code><span class="kd">type</span><span class="w"> </span><span class="nx">scheduleModel</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">RefreshType</span><span class="w">        </span><span class="nx">types</span><span class="p">.</span><span class="nx">String</span><span class="w">                                           </span><span class="s">`tfsdk:&quot;refresh_type&quot;`</span>
<span class="w">    </span><span class="nx">ScheduleFrequency</span><span class="w">  </span><span class="nx">fwtypes</span><span class="p">.</span><span class="nx">ListNestedObjectValueOf</span><span class="p">[</span><span class="nx">refreshFrequencyModel</span><span class="p">]</span><span class="w"> </span><span class="s">`tfsdk:&quot;schedule_frequency&quot;`</span>
<span class="w">    </span><span class="nx">StartAfterDateTime</span><span class="w"> </span><span class="nx">types</span><span class="p">.</span><span class="nx">String</span><span class="w">                                           </span><span class="s">`tfsdk:&quot;start_after_date_time&quot; autoflex:&quot;-&quot;`</span>
<span class="p">}</span>
</code></pre></div>
<p>To ignore a field when expanding, but include it when flattening, use the option <code>noexpand</code>.
To ignore a field when flattening, but include it when expanding, use the option <code>noflatten</code>.</p>
<p>For example, from the struct <code>dataSourceReservedCacheNodeOfferingModel</code> for the ElastiCache Reserved Cache Node Offering:</p>
<div class="highlight"><pre><span></span><code><span class="kd">type</span><span class="w"> </span><span class="nx">dataSourceReservedCacheNodeOfferingModel</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">CacheNodeType</span><span class="w">      </span><span class="nx">types</span><span class="p">.</span><span class="nx">String</span><span class="w">            </span><span class="s">`tfsdk:&quot;cache_node_type&quot;`</span>
<span class="w">    </span><span class="nx">Duration</span><span class="w">           </span><span class="nx">fwtypes</span><span class="p">.</span><span class="nx">RFC3339Duration</span><span class="w"> </span><span class="s">`tfsdk:&quot;duration&quot; autoflex:&quot;,noflatten&quot;`</span>
<span class="w">    </span><span class="nx">FixedPrice</span><span class="w">         </span><span class="nx">types</span><span class="p">.</span><span class="nx">Float64</span><span class="w">           </span><span class="s">`tfsdk:&quot;fixed_price&quot;`</span>
<span class="w">    </span><span class="nx">OfferingID</span><span class="w">         </span><span class="nx">types</span><span class="p">.</span><span class="nx">String</span><span class="w">            </span><span class="s">`tfsdk:&quot;offering_id&quot;`</span>
<span class="w">    </span><span class="nx">OfferingType</span><span class="w">       </span><span class="nx">types</span><span class="p">.</span><span class="nx">String</span><span class="w">            </span><span class="s">`tfsdk:&quot;offering_type&quot;`</span>
<span class="w">    </span><span class="nx">ProductDescription</span><span class="w"> </span><span class="nx">types</span><span class="p">.</span><span class="nx">String</span><span class="w">            </span><span class="s">`tfsdk:&quot;product_description&quot;`</span>
<span class="p">}</span>
</code></pre></div>
<h4 id="overriding-default-behavior">Overriding Default Behavior<a class="headerlink" href="#overriding-default-behavior" title="Permanent link">#</a></h4>
<p>In some cases, flattening and expanding need conditional handling.
One important case is new AWS API implementations where the input or output structs make use of <a href="https://smithy.io/2.0/spec/aggregate-types.html#union">union types</a>.
The AWS implementation uses an interface as the common type, along with various concrete implementations.
Because the Terraform schema does not support union types (see <a href="https://github.com/hashicorp/terraform/issues/32587">this issue</a> for discussion), the provider defines nested schemas for each type with a restriction to allow only one.</p>
<p>To override flattening behavior, implement the interface <code>flex.Flattener</code> on the model.
The function should have a pointer receiver, as it will modify the struct in-place.
From the Mainframe Modernization (M2) environment (<code>internal/service/m2/environment.go</code>):</p>
<div class="highlight"><pre><span></span><code><span class="kd">type</span><span class="w"> </span><span class="nx">storageConfigurationModel</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">EFS</span><span class="w"> </span><span class="nx">fwtypes</span><span class="p">.</span><span class="nx">ListNestedObjectValueOf</span><span class="p">[</span><span class="nx">efsStorageConfigurationModel</span><span class="p">]</span><span class="w"> </span><span class="s">`tfsdk:&quot;efs&quot;`</span>
<span class="w">    </span><span class="nx">FSX</span><span class="w"> </span><span class="nx">fwtypes</span><span class="p">.</span><span class="nx">ListNestedObjectValueOf</span><span class="p">[</span><span class="nx">fsxStorageConfigurationModel</span><span class="p">]</span><span class="w"> </span><span class="s">`tfsdk:&quot;fsx&quot;`</span>
<span class="p">}</span>

<span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">m</span><span class="w"> </span><span class="o">*</span><span class="nx">storageConfigurationModel</span><span class="p">)</span><span class="w"> </span><span class="nx">Flatten</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">v</span><span class="w"> </span><span class="kt">any</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nx">diags</span><span class="w"> </span><span class="nx">diag</span><span class="p">.</span><span class="nx">Diagnostics</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">switch</span><span class="w"> </span><span class="nx">t</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">v</span><span class="p">.(</span><span class="kd">type</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="nx">awstypes</span><span class="p">.</span><span class="nx">StorageConfigurationMemberEfs</span><span class="p">:</span>
<span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="nx">model</span><span class="w"> </span><span class="nx">efsStorageConfigurationModel</span>
<span class="w">        </span><span class="nx">d</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">fwflex</span><span class="p">.</span><span class="nx">Flatten</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">Value</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">model</span><span class="p">)</span>
<span class="w">        </span><span class="nx">diags</span><span class="p">.</span><span class="nx">Append</span><span class="p">(</span><span class="nx">d</span><span class="o">...</span><span class="p">)</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="nx">diags</span><span class="p">.</span><span class="nx">HasError</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="nx">diags</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="nx">m</span><span class="p">.</span><span class="nx">EFS</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">fwtypes</span><span class="p">.</span><span class="nx">NewListNestedObjectValueOfPtrMust</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">model</span><span class="p">)</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nx">diags</span>

<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="nx">awstypes</span><span class="p">.</span><span class="nx">StorageConfigurationMemberFsx</span><span class="p">:</span>
<span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="nx">model</span><span class="w"> </span><span class="nx">fsxStorageConfigurationModel</span>
<span class="w">        </span><span class="nx">d</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">fwflex</span><span class="p">.</span><span class="nx">Flatten</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">Value</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">model</span><span class="p">)</span>
<span class="w">        </span><span class="nx">diags</span><span class="p">.</span><span class="nx">Append</span><span class="p">(</span><span class="nx">d</span><span class="o">...</span><span class="p">)</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="nx">diags</span><span class="p">.</span><span class="nx">HasError</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="nx">diags</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="nx">m</span><span class="p">.</span><span class="nx">FSX</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">fwtypes</span><span class="p">.</span><span class="nx">NewListNestedObjectValueOfPtrMust</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">model</span><span class="p">)</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nx">diags</span>

<span class="w">    </span><span class="k">default</span><span class="p">:</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nx">diags</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>To override expanding behavior, implement the interface <code>flex.Expander</code> on the model.
As the function should not modify the struct in-place, it should not have a pointer receiver.
From the Mainframe Modernization (M2) environment (<code>internal/service/m2/environment.go</code>):</p>
<div class="highlight"><pre><span></span><code><span class="kd">type</span><span class="w"> </span><span class="nx">storageConfigurationModel</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">EFS</span><span class="w"> </span><span class="nx">fwtypes</span><span class="p">.</span><span class="nx">ListNestedObjectValueOf</span><span class="p">[</span><span class="nx">efsStorageConfigurationModel</span><span class="p">]</span><span class="w"> </span><span class="s">`tfsdk:&quot;efs&quot;`</span>
<span class="w">    </span><span class="nx">FSX</span><span class="w"> </span><span class="nx">fwtypes</span><span class="p">.</span><span class="nx">ListNestedObjectValueOf</span><span class="p">[</span><span class="nx">fsxStorageConfigurationModel</span><span class="p">]</span><span class="w"> </span><span class="s">`tfsdk:&quot;fsx&quot;`</span>
<span class="p">}</span>

<span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">m</span><span class="w"> </span><span class="nx">storageConfigurationModel</span><span class="p">)</span><span class="w"> </span><span class="nx">Expand</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nx">result</span><span class="w"> </span><span class="kt">any</span><span class="p">,</span><span class="w"> </span><span class="nx">diags</span><span class="w"> </span><span class="nx">diag</span><span class="p">.</span><span class="nx">Diagnostics</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">switch</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="p">!</span><span class="nx">m</span><span class="p">.</span><span class="nx">EFS</span><span class="p">.</span><span class="nx">IsNull</span><span class="p">():</span>
<span class="w">        </span><span class="nx">efsStorageConfigurationData</span><span class="p">,</span><span class="w"> </span><span class="nx">d</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">m</span><span class="p">.</span><span class="nx">EFS</span><span class="p">.</span><span class="nx">ToPtr</span><span class="p">(</span><span class="nx">ctx</span><span class="p">)</span>
<span class="w">        </span><span class="nx">diags</span><span class="p">.</span><span class="nx">Append</span><span class="p">(</span><span class="nx">d</span><span class="o">...</span><span class="p">)</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="nx">diags</span><span class="p">.</span><span class="nx">HasError</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">diags</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="nx">r</span><span class="w"> </span><span class="nx">awstypes</span><span class="p">.</span><span class="nx">StorageConfigurationMemberEfs</span>
<span class="w">        </span><span class="nx">diags</span><span class="p">.</span><span class="nx">Append</span><span class="p">(</span><span class="nx">fwflex</span><span class="p">.</span><span class="nx">Expand</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span><span class="w"> </span><span class="nx">efsStorageConfigurationData</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">r</span><span class="p">.</span><span class="nx">Value</span><span class="p">)</span><span class="o">...</span><span class="p">)</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="nx">diags</span><span class="p">.</span><span class="nx">HasError</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">diags</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">r</span><span class="p">,</span><span class="w"> </span><span class="nx">diags</span>

<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="p">!</span><span class="nx">m</span><span class="p">.</span><span class="nx">FSX</span><span class="p">.</span><span class="nx">IsNull</span><span class="p">():</span>
<span class="w">        </span><span class="nx">fsxStorageConfigurationData</span><span class="p">,</span><span class="w"> </span><span class="nx">d</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">m</span><span class="p">.</span><span class="nx">FSX</span><span class="p">.</span><span class="nx">ToPtr</span><span class="p">(</span><span class="nx">ctx</span><span class="p">)</span>
<span class="w">        </span><span class="nx">diags</span><span class="p">.</span><span class="nx">Append</span><span class="p">(</span><span class="nx">d</span><span class="o">...</span><span class="p">)</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="nx">diags</span><span class="p">.</span><span class="nx">HasError</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">diags</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="nx">r</span><span class="w"> </span><span class="nx">awstypes</span><span class="p">.</span><span class="nx">StorageConfigurationMemberFsx</span>
<span class="w">        </span><span class="nx">diags</span><span class="p">.</span><span class="nx">Append</span><span class="p">(</span><span class="nx">fwflex</span><span class="p">.</span><span class="nx">Expand</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span><span class="w"> </span><span class="nx">fsxStorageConfigurationData</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">r</span><span class="p">.</span><span class="nx">Value</span><span class="p">)</span><span class="o">...</span><span class="p">)</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="nx">diags</span><span class="p">.</span><span class="nx">HasError</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">diags</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">r</span><span class="p">,</span><span class="w"> </span><span class="nx">diags</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">diags</span>
<span class="p">}</span>
</code></pre></div>
<p>In some cases, the result types for expanding will be different when creating or updating a resource.
For example, for the Verified Permissions identity source, the create operation takes a <code>Configuration</code> struct while the update operation takes an <code>UpdateConfiguration</code>, even though the contents are identical.
In this case, implement the interface <code>flex.TypedExpander</code> on the model.
From the Verified Permissions identity source (<code>internal/service/verifiedpermissions/identity_source.go</code>):</p>
<div class="highlight"><pre><span></span><code><span class="kd">type</span><span class="w"> </span><span class="nx">configuration</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">CognitoUserPoolConfiguration</span><span class="w"> </span><span class="nx">fwtypes</span><span class="p">.</span><span class="nx">ListNestedObjectValueOf</span><span class="p">[</span><span class="nx">cognitoUserPoolConfiguration</span><span class="p">]</span><span class="w"> </span><span class="s">`tfsdk:&quot;cognito_user_pool_configuration&quot;`</span>
<span class="w">    </span><span class="nx">OpenIDConnectConfiguration</span><span class="w">   </span><span class="nx">fwtypes</span><span class="p">.</span><span class="nx">ListNestedObjectValueOf</span><span class="p">[</span><span class="nx">openIDConnectConfiguration</span><span class="p">]</span><span class="w">   </span><span class="s">`tfsdk:&quot;open_id_connect_configuration&quot;`</span>
<span class="p">}</span>


<span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">m</span><span class="w"> </span><span class="nx">configuration</span><span class="p">)</span><span class="w"> </span><span class="nx">ExpandTo</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">targetType</span><span class="w"> </span><span class="nx">reflect</span><span class="p">.</span><span class="nx">Type</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nx">result</span><span class="w"> </span><span class="kt">any</span><span class="p">,</span><span class="w"> </span><span class="nx">diags</span><span class="w"> </span><span class="nx">diag</span><span class="p">.</span><span class="nx">Diagnostics</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">switch</span><span class="w"> </span><span class="nx">targetType</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="nx">reflect</span><span class="p">.</span><span class="nx">TypeFor</span><span class="p">[</span><span class="nx">awstypes</span><span class="p">.</span><span class="nx">Configuration</span><span class="p">]():</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nx">m</span><span class="p">.</span><span class="nx">expandToConfiguration</span><span class="p">(</span><span class="nx">ctx</span><span class="p">)</span>

<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="nx">reflect</span><span class="p">.</span><span class="nx">TypeFor</span><span class="p">[</span><span class="nx">awstypes</span><span class="p">.</span><span class="nx">UpdateConfiguration</span><span class="p">]():</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nx">m</span><span class="p">.</span><span class="nx">expandToUpdateConfiguration</span><span class="p">(</span><span class="nx">ctx</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">diags</span>
<span class="p">}</span>

<span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">m</span><span class="w"> </span><span class="nx">configuration</span><span class="p">)</span><span class="w"> </span><span class="nx">expandToConfiguration</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nx">result</span><span class="w"> </span><span class="nx">awstypes</span><span class="p">.</span><span class="nx">Configuration</span><span class="p">,</span><span class="w"> </span><span class="nx">diags</span><span class="w"> </span><span class="nx">diag</span><span class="p">.</span><span class="nx">Diagnostics</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">switch</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="p">!</span><span class="nx">m</span><span class="p">.</span><span class="nx">CognitoUserPoolConfiguration</span><span class="p">.</span><span class="nx">IsNull</span><span class="p">():</span>
<span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="nx">result</span><span class="w"> </span><span class="nx">awstypes</span><span class="p">.</span><span class="nx">ConfigurationMemberCognitoUserPoolConfiguration</span>
<span class="w">        </span><span class="nx">diags</span><span class="p">.</span><span class="nx">Append</span><span class="p">(</span><span class="nx">flex</span><span class="p">.</span><span class="nx">Expand</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span><span class="w"> </span><span class="nx">m</span><span class="p">.</span><span class="nx">CognitoUserPoolConfiguration</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">result</span><span class="p">.</span><span class="nx">Value</span><span class="p">)</span><span class="o">...</span><span class="p">)</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="nx">diags</span><span class="p">.</span><span class="nx">HasError</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">diags</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">result</span><span class="p">,</span><span class="w"> </span><span class="nx">diags</span>

<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="p">!</span><span class="nx">m</span><span class="p">.</span><span class="nx">OpenIDConnectConfiguration</span><span class="p">.</span><span class="nx">IsNull</span><span class="p">():</span>
<span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="nx">result</span><span class="w"> </span><span class="nx">awstypes</span><span class="p">.</span><span class="nx">ConfigurationMemberOpenIdConnectConfiguration</span>
<span class="w">        </span><span class="nx">diags</span><span class="p">.</span><span class="nx">Append</span><span class="p">(</span><span class="nx">flex</span><span class="p">.</span><span class="nx">Expand</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span><span class="w"> </span><span class="nx">m</span><span class="p">.</span><span class="nx">OpenIDConnectConfiguration</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">result</span><span class="p">.</span><span class="nx">Value</span><span class="p">)</span><span class="o">...</span><span class="p">)</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="nx">diags</span><span class="p">.</span><span class="nx">HasError</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">diags</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">result</span><span class="p">,</span><span class="w"> </span><span class="nx">diags</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">diags</span>
<span class="p">}</span>

<span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">m</span><span class="w"> </span><span class="nx">configuration</span><span class="p">)</span><span class="w"> </span><span class="nx">expandToUpdateConfiguration</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nx">result</span><span class="w"> </span><span class="nx">awstypes</span><span class="p">.</span><span class="nx">UpdateConfiguration</span><span class="p">,</span><span class="w"> </span><span class="nx">diags</span><span class="w"> </span><span class="nx">diag</span><span class="p">.</span><span class="nx">Diagnostics</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">switch</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="p">!</span><span class="nx">m</span><span class="p">.</span><span class="nx">CognitoUserPoolConfiguration</span><span class="p">.</span><span class="nx">IsNull</span><span class="p">():</span>
<span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="nx">result</span><span class="w"> </span><span class="nx">awstypes</span><span class="p">.</span><span class="nx">UpdateConfigurationMemberCognitoUserPoolConfiguration</span>
<span class="w">        </span><span class="nx">diags</span><span class="p">.</span><span class="nx">Append</span><span class="p">(</span><span class="nx">flex</span><span class="p">.</span><span class="nx">Expand</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span><span class="w"> </span><span class="nx">m</span><span class="p">.</span><span class="nx">CognitoUserPoolConfiguration</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">result</span><span class="p">.</span><span class="nx">Value</span><span class="p">)</span><span class="o">...</span><span class="p">)</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="nx">diags</span><span class="p">.</span><span class="nx">HasError</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">diags</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">result</span><span class="p">,</span><span class="w"> </span><span class="nx">diags</span>

<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="p">!</span><span class="nx">m</span><span class="p">.</span><span class="nx">OpenIDConnectConfiguration</span><span class="p">.</span><span class="nx">IsNull</span><span class="p">():</span>
<span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="nx">result</span><span class="w"> </span><span class="nx">awstypes</span><span class="p">.</span><span class="nx">UpdateConfigurationMemberOpenIdConnectConfiguration</span>
<span class="w">        </span><span class="nx">diags</span><span class="p">.</span><span class="nx">Append</span><span class="p">(</span><span class="nx">flex</span><span class="p">.</span><span class="nx">Expand</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span><span class="w"> </span><span class="nx">m</span><span class="p">.</span><span class="nx">OpenIDConnectConfiguration</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">result</span><span class="p">.</span><span class="nx">Value</span><span class="p">)</span><span class="o">...</span><span class="p">)</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="nx">diags</span><span class="p">.</span><span class="nx">HasError</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">diags</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">result</span><span class="p">,</span><span class="w"> </span><span class="nx">diags</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">diags</span>
<span class="p">}</span>
</code></pre></div>
<h4 id="troubleshooting">Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permanent link">#</a></h4>
<p>AutoFlex can output detailed logging as it flattens or expands a value.
To turn on logging for AutoFlex, use the environment variable <code>TF_LOG_AWS_AUTOFLEX</code> to set the logging level.
Valid values are <code>ERROR</code>, <code>WARN</code>, <code>INFO</code>, <code>DEBUG</code>, and <code>TRACE</code>.
By default, AutoFlex logging is set to <code>ERROR</code>.</p>
<h3 id="manually-defined-flattening-and-expanding-functions">Manually Defined Flattening and Expanding Functions<a class="headerlink" href="#manually-defined-flattening-and-expanding-functions" title="Permanent link">#</a></h3>
<p>By convention in the codebase, each level of Block handling beyond root attributes should be separated into "expand" functions that convert Terraform Plugin SDK data into the equivalent AWS Go SDK type (typically named <code>expand{Service}{Type}</code>) and "flatten" functions that convert an AWS Go SDK type into the equivalent Terraform Plugin SDK data (typically named <code>flatten{Service}{Type}</code>).</p>
<p>Define FLatten and EXpand (i.e., flex) functions at the <em>most local level</em> possible. This table provides guidance on the preferred place to define flex functions based on usage.</p>
<table>
<thead>
<tr>
<th>Where Used</th>
<th>Where to Define</th>
<th>Include Service in Name</th>
</tr>
</thead>
<tbody>
<tr>
<td>One resource (e.g., <code>aws_instance</code>)</td>
<td>Resource file (e.g., <code>internal/service/ec2/instance.go</code>)</td>
<td>No</td>
</tr>
<tr>
<td>Few resources in one service (e.g., <code>EC2</code>)</td>
<td>Resource file or service flex file (e.g., <code>internal/service/ec2/flex.go</code>)</td>
<td>No</td>
</tr>
<tr>
<td>Widely used in one service (e.g., <code>EC2</code>)</td>
<td>Service flex file (e.g., <code>internal/service/ec2/flex.go</code>)</td>
<td>No</td>
</tr>
<tr>
<td>Two services (e.g., <code>EC2</code> and <code>EKS</code>)</td>
<td>Define a copy in each service</td>
<td>If helpful</td>
</tr>
<tr>
<td>3+ services</td>
<td><code>internal/flex/flex.go</code></td>
<td>Yes</td>
</tr>
</tbody>
</table>
<h3 id="expand-functions-for-blocks">Expand Functions for Blocks<a class="headerlink" href="#expand-functions-for-blocks" title="Permanent link">#</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="4:2"><input checked="checked" id="__tabbed_4_1" name="__tabbed_4" type="radio" /><input id="__tabbed_4_2" name="__tabbed_4" type="radio" /><div class="tabbed-labels"><label for="__tabbed_4_1">Terraform Plugin Framework (Preferred)</label><label for="__tabbed_4_2">Terraform Plugin SDK V2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kd">func</span><span class="w"> </span><span class="nx">expandStructure</span><span class="p">(</span><span class="nx">tfList</span><span class="w"> </span><span class="p">[]</span><span class="nx">structureData</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="nx">service</span><span class="p">.</span><span class="nx">Structure</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nb">len</span><span class="p">(</span><span class="nx">tfList</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nx">tfObj</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">tfList</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="w">    </span><span class="nx">apiObject</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">service</span><span class="p">.</span><span class="nx">Structure</span><span class="p">{}</span>

<span class="w">    </span><span class="c1">// ... nested attribute handling ...</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">apiObject</span>
<span class="p">}</span>

<span class="kd">func</span><span class="w"> </span><span class="nx">expandStructures</span><span class="p">(</span><span class="nx">tfList</span><span class="w"> </span><span class="p">[]</span><span class="nx">structureData</span><span class="p">)</span><span class="w"> </span><span class="p">[]</span><span class="o">*</span><span class="nx">service</span><span class="p">.</span><span class="nx">Structure</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nb">len</span><span class="p">(</span><span class="nx">tfList</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">apiObjects</span><span class="w"> </span><span class="p">[]</span><span class="o">*</span><span class="nx">service</span><span class="p">.</span><span class="nx">Structure</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="nx">_</span><span class="p">,</span><span class="w"> </span><span class="nx">tfObj</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="k">range</span><span class="w"> </span><span class="nx">tfList</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">apiObject</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">service</span><span class="p">.</span><span class="nx">Structure</span><span class="p">{}</span>

<span class="w">        </span><span class="c1">// ... nested attribute handling ...</span>

<span class="w">        </span><span class="nx">apiObjects</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">append</span><span class="p">(</span><span class="nx">apiObjects</span><span class="p">,</span><span class="w"> </span><span class="nx">apiObject</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">apiObjects</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kd">func</span><span class="w"> </span><span class="nx">expandStructure</span><span class="p">(</span><span class="nx">tfMap</span><span class="w"> </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{})</span><span class="w"> </span><span class="o">*</span><span class="nx">service</span><span class="p">.</span><span class="nx">Structure</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">tfMap</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nx">apiObject</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">service</span><span class="p">.</span><span class="nx">Structure</span><span class="p">{}</span>

<span class="w">    </span><span class="c1">// ... nested attribute handling ...</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">apiObject</span>
<span class="p">}</span>

<span class="kd">func</span><span class="w"> </span><span class="nx">expandStructures</span><span class="p">(</span><span class="nx">tfList</span><span class="w"> </span><span class="p">[]</span><span class="kd">interface</span><span class="p">{})</span><span class="w"> </span><span class="p">[]</span><span class="o">*</span><span class="nx">service</span><span class="p">.</span><span class="nx">Structure</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nb">len</span><span class="p">(</span><span class="nx">tfList</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">apiObjects</span><span class="w"> </span><span class="p">[]</span><span class="o">*</span><span class="nx">service</span><span class="p">.</span><span class="nx">Structure</span>

<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="nx">_</span><span class="p">,</span><span class="w"> </span><span class="nx">tfMapRaw</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="k">range</span><span class="w"> </span><span class="nx">tfList</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">tfMap</span><span class="p">,</span><span class="w"> </span><span class="nx">ok</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">tfMapRaw</span><span class="p">.(</span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{})</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">!</span><span class="nx">ok</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">continue</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="nx">apiObject</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">expandStructure</span><span class="p">(</span><span class="nx">tfMap</span><span class="p">)</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="nx">apiObject</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">continue</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="nx">apiObjects</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">append</span><span class="p">(</span><span class="nx">apiObjects</span><span class="p">,</span><span class="w"> </span><span class="nx">apiObject</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">apiObjects</span>
<span class="p">}</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="flatten-functions-for-blocks">Flatten Functions for Blocks<a class="headerlink" href="#flatten-functions-for-blocks" title="Permanent link">#</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="5:2"><input checked="checked" id="__tabbed_5_1" name="__tabbed_5" type="radio" /><input id="__tabbed_5_2" name="__tabbed_5" type="radio" /><div class="tabbed-labels"><label for="__tabbed_5_1">Terraform Plugin Framework (Preferred)</label><label for="__tabbed_5_2">Terraform Plugin SDK V2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kd">func</span><span class="w"> </span><span class="nx">flattenStructure</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">apiObject</span><span class="w"> </span><span class="o">*</span><span class="nx">service</span><span class="p">.</span><span class="nx">Structure</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nx">types</span><span class="p">.</span><span class="nx">List</span><span class="p">,</span><span class="w"> </span><span class="nx">diag</span><span class="p">.</span><span class="nx">Diagnostics</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">diags</span><span class="w"> </span><span class="nx">diag</span><span class="p">.</span><span class="nx">Diagnostics</span>
<span class="w">    </span><span class="nx">elemType</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">types</span><span class="p">.</span><span class="nx">ObjectType</span><span class="p">{</span><span class="nx">AttrTypes</span><span class="p">:</span><span class="w"> </span><span class="nx">structureAttrTypes</span><span class="p">}</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">apiObject</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nx">types</span><span class="p">.</span><span class="nx">ListNull</span><span class="p">(</span><span class="nx">elemType</span><span class="p">),</span><span class="w"> </span><span class="nx">diags</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nx">obj</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="nx">attr</span><span class="p">.</span><span class="nx">Value</span><span class="p">{</span>
<span class="w">        </span><span class="c1">// ... nested attribute handling ...</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="nx">objVal</span><span class="p">,</span><span class="w"> </span><span class="nx">d</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">types</span><span class="p">.</span><span class="nx">ObjectValue</span><span class="p">(</span><span class="nx">structureAttrTypes</span><span class="p">,</span><span class="w"> </span><span class="nx">obj</span><span class="p">)</span>
<span class="w">    </span><span class="nx">diags</span><span class="p">.</span><span class="nx">Append</span><span class="p">(</span><span class="nx">d</span><span class="o">...</span><span class="p">)</span>

<span class="w">    </span><span class="nx">listVal</span><span class="p">,</span><span class="w"> </span><span class="nx">d</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">types</span><span class="p">.</span><span class="nx">ListValue</span><span class="p">(</span><span class="nx">elemType</span><span class="p">,</span><span class="w"> </span><span class="p">[]</span><span class="nx">attr</span><span class="p">.</span><span class="nx">Value</span><span class="p">{</span><span class="nx">objVal</span><span class="p">})</span>
<span class="w">    </span><span class="nx">diags</span><span class="p">.</span><span class="nx">Append</span><span class="p">(</span><span class="nx">d</span><span class="o">...</span><span class="p">)</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">listVal</span><span class="p">,</span><span class="w"> </span><span class="nx">diags</span>
<span class="p">}</span>

<span class="kd">func</span><span class="w"> </span><span class="nx">flattenStructures</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">apiObjects</span><span class="w"> </span><span class="p">[]</span><span class="o">*</span><span class="nx">service</span><span class="p">.</span><span class="nx">Structure</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nx">types</span><span class="p">.</span><span class="nx">List</span><span class="p">,</span><span class="w"> </span><span class="nx">diag</span><span class="p">.</span><span class="nx">Diagnostics</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">diags</span><span class="w"> </span><span class="nx">diag</span><span class="p">.</span><span class="nx">Diagnostics</span>
<span class="w">    </span><span class="nx">elemType</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">types</span><span class="p">.</span><span class="nx">ObjectType</span><span class="p">{</span><span class="nx">AttrTypes</span><span class="p">:</span><span class="w"> </span><span class="nx">structureAttrTypes</span><span class="p">}</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nb">len</span><span class="p">(</span><span class="nx">apiObjects</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nx">types</span><span class="p">.</span><span class="nx">ListNull</span><span class="p">(</span><span class="nx">elemType</span><span class="p">),</span><span class="w"> </span><span class="nx">diags</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nx">elems</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="p">[]</span><span class="nx">attr</span><span class="p">.</span><span class="nx">Value</span><span class="p">{}</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="nx">_</span><span class="p">,</span><span class="w"> </span><span class="nx">apiObject</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="k">range</span><span class="w"> </span><span class="nx">apiObjects</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="nx">apiObject</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">continue</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="nx">obj</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="nx">attr</span><span class="p">.</span><span class="nx">Value</span><span class="p">{</span>
<span class="w">            </span><span class="c1">// ... nested attribute handling ...</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="nx">objVal</span><span class="p">,</span><span class="w"> </span><span class="nx">d</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">types</span><span class="p">.</span><span class="nx">ObjectValue</span><span class="p">(</span><span class="nx">structureAttrTypes</span><span class="p">,</span><span class="w"> </span><span class="nx">obj</span><span class="p">)</span>
<span class="w">        </span><span class="nx">diags</span><span class="p">.</span><span class="nx">Append</span><span class="p">(</span><span class="nx">d</span><span class="o">...</span><span class="p">)</span>

<span class="w">        </span><span class="nx">elems</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">append</span><span class="p">(</span><span class="nx">elems</span><span class="p">,</span><span class="w"> </span><span class="nx">objVal</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nx">listVal</span><span class="p">,</span><span class="w"> </span><span class="nx">d</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">types</span><span class="p">.</span><span class="nx">ListValue</span><span class="p">(</span><span class="nx">elemType</span><span class="p">,</span><span class="w"> </span><span class="nx">elems</span><span class="p">)</span>
<span class="w">    </span><span class="nx">diags</span><span class="p">.</span><span class="nx">Append</span><span class="p">(</span><span class="nx">d</span><span class="o">...</span><span class="p">)</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">listVal</span><span class="p">,</span><span class="w"> </span><span class="nx">diags</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kd">func</span><span class="w"> </span><span class="nx">flattenStructure</span><span class="p">(</span><span class="nx">apiObject</span><span class="w"> </span><span class="o">*</span><span class="nx">service</span><span class="p">.</span><span class="nx">Structure</span><span class="p">)</span><span class="w"> </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{}</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">apiObject</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nx">tfMap</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{}{}</span>

<span class="w">    </span><span class="c1">// ... nested attribute handling ...</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">tfMap</span>
<span class="p">}</span>

<span class="kd">func</span><span class="w"> </span><span class="nx">flattenStructures</span><span class="p">(</span><span class="nx">apiObjects</span><span class="w"> </span><span class="p">[]</span><span class="o">*</span><span class="nx">service</span><span class="p">.</span><span class="nx">Structure</span><span class="p">)</span><span class="w"> </span><span class="p">[]</span><span class="kd">interface</span><span class="p">{}</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nb">len</span><span class="p">(</span><span class="nx">apiObjects</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">tfList</span><span class="w"> </span><span class="p">[]</span><span class="kd">interface</span><span class="p">{}</span>

<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="nx">_</span><span class="p">,</span><span class="w"> </span><span class="nx">apiObject</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="k">range</span><span class="w"> </span><span class="nx">apiObjects</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="nx">apiObject</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">continue</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="nx">tfList</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">append</span><span class="p">(</span><span class="nx">tfList</span><span class="p">,</span><span class="w"> </span><span class="nx">flattenStructure</span><span class="p">(</span><span class="nx">apiObject</span><span class="p">))</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">tfList</span>
<span class="p">}</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="root-bool-and-aws-boolean">Root Bool and AWS Boolean<a class="headerlink" href="#root-bool-and-aws-boolean" title="Permanent link">#</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="6:2"><input checked="checked" id="__tabbed_6_1" name="__tabbed_6" type="radio" /><input id="__tabbed_6_2" name="__tabbed_6" type="radio" /><div class="tabbed-labels"><label for="__tabbed_6_1">Terraform Plugin Framework (Preferred)</label><label for="__tabbed_6_2">Terraform Plugin SDK V2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>To read, if always sending the attribute value is correct:</p>
<div class="highlight"><pre><span></span><code><span class="nx">input</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">service</span><span class="p">.</span><span class="nx">ExampleOperationInput</span><span class="p">{</span>
<span class="w">    </span><span class="nx">AttributeName</span><span class="p">:</span><span class="w"> </span><span class="nx">plan</span><span class="p">.</span><span class="nx">AttributeName</span><span class="p">.</span><span class="nx">ValueBoolPointer</span><span class="p">()</span>
<span class="p">}</span>
</code></pre></div>
<p>Alternatively, if only sending the attribute value when <code>true</code>:</p>
<div class="highlight"><pre><span></span><code><span class="nx">input</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">service</span><span class="p">.</span><span class="nx">ExampleOperationInput</span><span class="p">{}</span>

<span class="k">if</span><span class="w"> </span><span class="nx">v</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">plan</span><span class="p">.</span><span class="nx">AttributeName</span><span class="p">.</span><span class="nx">ValueBool</span><span class="p">();</span><span class="w"> </span><span class="nx">v</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">input</span><span class="p">.</span><span class="nx">AttributeName</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">aws</span><span class="p">.</span><span class="nx">Bool</span><span class="p">(</span><span class="nx">v</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<p>Or, if only sending the attribute value when it is known and not null:</p>
<div class="highlight"><pre><span></span><code><span class="nx">input</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">service</span><span class="p">.</span><span class="nx">ExampleOperationInput</span><span class="p">{}</span>

<span class="k">if</span><span class="w"> </span><span class="p">!</span><span class="nx">plan</span><span class="p">.</span><span class="nx">AttributeName</span><span class="p">.</span><span class="nx">IsUnknown</span><span class="p">()</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">!</span><span class="nx">plan</span><span class="p">.</span><span class="nx">AttributeName</span><span class="p">.</span><span class="nx">IsNull</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">input</span><span class="p">.</span><span class="nx">AttributeName</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">plan</span><span class="p">.</span><span class="nx">AttributeName</span><span class="p">.</span><span class="nx">ValueBoolPointer</span><span class="p">()</span>
<span class="p">}</span>
</code></pre></div>
<p>To write:</p>
<div class="highlight"><pre><span></span><code><span class="nx">plan</span><span class="p">.</span><span class="nx">AttributeName</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">flex</span><span class="p">.</span><span class="nx">BoolToFramework</span><span class="p">(</span><span class="nx">output</span><span class="p">.</span><span class="nx">Thing</span><span class="p">.</span><span class="nx">AttributeName</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p>To read, if always sending the attribute value is correct:</p>
<div class="highlight"><pre><span></span><code><span class="nx">input</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">service</span><span class="p">.</span><span class="nx">ExampleOperationInput</span><span class="p">{</span>
<span class="w">    </span><span class="nx">AttributeName</span><span class="p">:</span><span class="w"> </span><span class="nx">aws</span><span class="p">.</span><span class="nx">String</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">Get</span><span class="p">(</span><span class="s">&quot;attribute_name&quot;</span><span class="p">).(</span><span class="kt">bool</span><span class="p">))</span>
<span class="p">}</span>
</code></pre></div>
<p>Otherwise to read, if only sending the attribute value when <code>true</code> is preferred (<code>!ok</code> for opposite):</p>
<div class="highlight"><pre><span></span><code><span class="nx">input</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">service</span><span class="p">.</span><span class="nx">ExampleOperationInput</span><span class="p">{}</span>

<span class="k">if</span><span class="w"> </span><span class="nx">v</span><span class="p">,</span><span class="w"> </span><span class="nx">ok</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">d</span><span class="p">.</span><span class="nx">GetOk</span><span class="p">(</span><span class="s">&quot;attribute_name&quot;</span><span class="p">);</span><span class="w"> </span><span class="nx">ok</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">input</span><span class="p">.</span><span class="nx">AttributeName</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">aws</span><span class="p">.</span><span class="nx">Bool</span><span class="p">(</span><span class="nx">v</span><span class="p">.(</span><span class="kt">bool</span><span class="p">))</span>
<span class="p">}</span>
</code></pre></div>
<p>To write:</p>
<div class="highlight"><pre><span></span><code><span class="nx">d</span><span class="p">.</span><span class="nx">Set</span><span class="p">(</span><span class="s">&quot;attribute_name&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">output</span><span class="p">.</span><span class="nx">Thing</span><span class="p">.</span><span class="nx">AttributeName</span><span class="p">)</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="root-float-and-aws-float">Root Float and AWS Float<a class="headerlink" href="#root-float-and-aws-float" title="Permanent link">#</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="7:2"><input checked="checked" id="__tabbed_7_1" name="__tabbed_7" type="radio" /><input id="__tabbed_7_2" name="__tabbed_7" type="radio" /><div class="tabbed-labels"><label for="__tabbed_7_1">Terraform Plugin Framework (Preferred)</label><label for="__tabbed_7_2">Terraform Plugin SDK V2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>To read:</p>
<div class="highlight"><pre><span></span><code><span class="nx">input</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">service</span><span class="p">.</span><span class="nx">ExampleOperationInput</span><span class="p">{}</span>

<span class="k">if</span><span class="w"> </span><span class="p">!</span><span class="nx">plan</span><span class="p">.</span><span class="nx">AttributeName</span><span class="p">.</span><span class="nx">IsNull</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">input</span><span class="p">.</span><span class="nx">AttributeName</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">plan</span><span class="p">.</span><span class="nx">AttributeName</span><span class="p">.</span><span class="nx">ValueFloat64Pointer</span><span class="p">()</span>
<span class="p">}</span>
</code></pre></div>
<p>To write:</p>
<div class="highlight"><pre><span></span><code><span class="nx">plan</span><span class="p">.</span><span class="nx">AttributeName</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">flex</span><span class="p">.</span><span class="nx">Float64ToFramework</span><span class="p">(</span><span class="nx">output</span><span class="p">.</span><span class="nx">Thing</span><span class="p">.</span><span class="nx">AttributeName</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p>To read:</p>
<div class="highlight"><pre><span></span><code><span class="nx">input</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">service</span><span class="p">.</span><span class="nx">ExampleOperationInput</span><span class="p">{}</span>

<span class="k">if</span><span class="w"> </span><span class="nx">v</span><span class="p">,</span><span class="w"> </span><span class="nx">ok</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">d</span><span class="p">.</span><span class="nx">GetOk</span><span class="p">(</span><span class="s">&quot;attribute_name&quot;</span><span class="p">);</span><span class="w"> </span><span class="nx">ok</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">input</span><span class="p">.</span><span class="nx">AttributeName</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">aws</span><span class="p">.</span><span class="nx">Float64</span><span class="p">(</span><span class="nx">v</span><span class="p">.(</span><span class="kt">float64</span><span class="p">))</span>
<span class="p">}</span>
</code></pre></div>
<p>To write:</p>
<div class="highlight"><pre><span></span><code><span class="nx">d</span><span class="p">.</span><span class="nx">Set</span><span class="p">(</span><span class="s">&quot;attribute_name&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">output</span><span class="p">.</span><span class="nx">Thing</span><span class="p">.</span><span class="nx">AttributeName</span><span class="p">)</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="root-int-and-aws-integer">Root Int and AWS Integer<a class="headerlink" href="#root-int-and-aws-integer" title="Permanent link">#</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="8:2"><input checked="checked" id="__tabbed_8_1" name="__tabbed_8" type="radio" /><input id="__tabbed_8_2" name="__tabbed_8" type="radio" /><div class="tabbed-labels"><label for="__tabbed_8_1">Terraform Plugin Framework (Preferred)</label><label for="__tabbed_8_2">Terraform Plugin SDK V2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>To read:</p>
<div class="highlight"><pre><span></span><code><span class="nx">input</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">service</span><span class="p">.</span><span class="nx">ExampleOperationInput</span><span class="p">{}</span>

<span class="k">if</span><span class="w"> </span><span class="p">!</span><span class="nx">plan</span><span class="p">.</span><span class="nx">AttributeName</span><span class="p">.</span><span class="nx">IsNull</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">input</span><span class="p">.</span><span class="nx">AttributeName</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">plan</span><span class="p">.</span><span class="nx">AttributeName</span><span class="p">.</span><span class="nx">ValueInt64Pointer</span><span class="p">()</span>
<span class="p">}</span>
</code></pre></div>
<p>To write:</p>
<div class="highlight"><pre><span></span><code><span class="nx">plan</span><span class="p">.</span><span class="nx">AttributeName</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">flex</span><span class="p">.</span><span class="nx">Int64ToFramework</span><span class="p">(</span><span class="nx">output</span><span class="p">.</span><span class="nx">Thing</span><span class="p">.</span><span class="nx">AttributeName</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p>To read:</p>
<div class="highlight"><pre><span></span><code><span class="nx">input</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">service</span><span class="p">.</span><span class="nx">ExampleOperationInput</span><span class="p">{}</span>

<span class="k">if</span><span class="w"> </span><span class="nx">v</span><span class="p">,</span><span class="w"> </span><span class="nx">ok</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">d</span><span class="p">.</span><span class="nx">GetOk</span><span class="p">(</span><span class="s">&quot;attribute_name&quot;</span><span class="p">);</span><span class="w"> </span><span class="nx">ok</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">input</span><span class="p">.</span><span class="nx">AttributeName</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">aws</span><span class="p">.</span><span class="nx">Int64</span><span class="p">(</span><span class="nb">int64</span><span class="p">(</span><span class="nx">v</span><span class="p">.(</span><span class="kt">int</span><span class="p">)))</span>
<span class="p">}</span>
</code></pre></div>
<p>To write:</p>
<div class="highlight"><pre><span></span><code><span class="nx">d</span><span class="p">.</span><span class="nx">Set</span><span class="p">(</span><span class="s">&quot;attribute_name&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">output</span><span class="p">.</span><span class="nx">Thing</span><span class="p">.</span><span class="nx">AttributeName</span><span class="p">)</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="root-list-of-resource-and-aws-list-of-structure">Root List of Resource and AWS List of Structure<a class="headerlink" href="#root-list-of-resource-and-aws-list-of-structure" title="Permanent link">#</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="9:2"><input checked="checked" id="__tabbed_9_1" name="__tabbed_9" type="radio" /><input id="__tabbed_9_2" name="__tabbed_9" type="radio" /><div class="tabbed-labels"><label for="__tabbed_9_1">Terraform Plugin Framework (Preferred)</label><label for="__tabbed_9_2">Terraform Plugin SDK V2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>To read:</p>
<div class="highlight"><pre><span></span><code><span class="nx">input</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">service</span><span class="p">.</span><span class="nx">ExampleOperationInput</span><span class="p">{}</span>

<span class="k">if</span><span class="w"> </span><span class="p">!</span><span class="nx">plan</span><span class="p">.</span><span class="nx">AttributeName</span><span class="p">.</span><span class="nx">IsNull</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">tfList</span><span class="w"> </span><span class="p">[]</span><span class="nx">attributeNameData</span>
<span class="w">    </span><span class="nx">resp</span><span class="p">.</span><span class="nx">Diagnostics</span><span class="p">.</span><span class="nx">Append</span><span class="p">(</span><span class="nx">plan</span><span class="p">.</span><span class="nx">AttributeName</span><span class="p">.</span><span class="nx">ElementsAs</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">tfList</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">)</span><span class="o">...</span><span class="p">)</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">resp</span><span class="p">.</span><span class="nx">Diagnostics</span><span class="p">.</span><span class="nx">HasError</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nx">input</span><span class="p">.</span><span class="nx">AttributeName</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">expandStructures</span><span class="p">(</span><span class="nx">tfList</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<p>To write:</p>
<div class="highlight"><pre><span></span><code><span class="nx">attributeName</span><span class="p">,</span><span class="w"> </span><span class="nx">d</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">flattenStructures</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span><span class="w"> </span><span class="nx">output</span><span class="p">.</span><span class="nx">Thing</span><span class="p">.</span><span class="nx">AttributeName</span><span class="p">))</span>
<span class="nx">resp</span><span class="p">.</span><span class="nx">Diagnostics</span><span class="p">.</span><span class="nx">Append</span><span class="p">(</span><span class="nx">d</span><span class="o">...</span><span class="p">)</span>
<span class="nx">state</span><span class="p">.</span><span class="nx">AttributeName</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">attributeName</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p>To read:</p>
<div class="highlight"><pre><span></span><code><span class="nx">input</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">service</span><span class="p">.</span><span class="nx">ExampleOperationInput</span><span class="p">{}</span>

<span class="k">if</span><span class="w"> </span><span class="nx">v</span><span class="p">,</span><span class="w"> </span><span class="nx">ok</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">d</span><span class="p">.</span><span class="nx">GetOk</span><span class="p">(</span><span class="s">&quot;attribute_name&quot;</span><span class="p">);</span><span class="w"> </span><span class="nx">ok</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">len</span><span class="p">(</span><span class="nx">v</span><span class="p">.([]</span><span class="kd">interface</span><span class="p">{}))</span><span class="w"> </span><span class="p">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">input</span><span class="p">.</span><span class="nx">AttributeName</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">expandStructures</span><span class="p">(</span><span class="nx">v</span><span class="p">.([]</span><span class="kd">interface</span><span class="p">{}))</span>
<span class="p">}</span>
</code></pre></div>
<p>To write:</p>
<div class="highlight"><pre><span></span><code><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">d</span><span class="p">.</span><span class="nx">Set</span><span class="p">(</span><span class="s">&quot;attribute_name&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">flattenStructures</span><span class="p">(</span><span class="nx">output</span><span class="p">.</span><span class="nx">Thing</span><span class="p">.</span><span class="nx">AttributeName</span><span class="p">));</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">sdkdiag</span><span class="p">.</span><span class="nx">AppendErrorf</span><span class="p">(</span><span class="nx">diags</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;setting attribute_name: %s&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="root-list-of-resource-and-aws-structure">Root List of Resource and AWS Structure<a class="headerlink" href="#root-list-of-resource-and-aws-structure" title="Permanent link">#</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="10:2"><input checked="checked" id="__tabbed_10_1" name="__tabbed_10" type="radio" /><input id="__tabbed_10_2" name="__tabbed_10" type="radio" /><div class="tabbed-labels"><label for="__tabbed_10_1">Terraform Plugin Framework (Preferred)</label><label for="__tabbed_10_2">Terraform Plugin SDK V2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>To read:</p>
<div class="highlight"><pre><span></span><code><span class="nx">input</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">service</span><span class="p">.</span><span class="nx">ExampleOperationInput</span><span class="p">{}</span>

<span class="k">if</span><span class="w"> </span><span class="p">!</span><span class="nx">plan</span><span class="p">.</span><span class="nx">AttributeName</span><span class="p">.</span><span class="nx">IsNull</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">tfList</span><span class="w"> </span><span class="p">[]</span><span class="nx">attributeNameData</span>
<span class="w">    </span><span class="nx">resp</span><span class="p">.</span><span class="nx">Diagnostics</span><span class="p">.</span><span class="nx">Append</span><span class="p">(</span><span class="nx">plan</span><span class="p">.</span><span class="nx">AttributeName</span><span class="p">.</span><span class="nx">ElementsAs</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">tfList</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">)</span><span class="o">...</span><span class="p">)</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">resp</span><span class="p">.</span><span class="nx">Diagnostics</span><span class="p">.</span><span class="nx">HasError</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// expander handles translating list with 1 item to a single AWS object</span>
<span class="w">    </span><span class="nx">input</span><span class="p">.</span><span class="nx">AttributeName</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">expandStructure</span><span class="p">(</span><span class="nx">tfList</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<p>To write:</p>
<div class="highlight"><pre><span></span><code><span class="c1">// flattener handles nil output, returning the equivalent null Terraform type</span>
<span class="nx">attributeName</span><span class="p">,</span><span class="w"> </span><span class="nx">d</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">flattenStructures</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span><span class="w"> </span><span class="nx">output</span><span class="p">.</span><span class="nx">Thing</span><span class="p">.</span><span class="nx">AttributeName</span><span class="p">))</span>
<span class="nx">resp</span><span class="p">.</span><span class="nx">Diagnostics</span><span class="p">.</span><span class="nx">Append</span><span class="p">(</span><span class="nx">d</span><span class="o">...</span><span class="p">)</span>
<span class="nx">state</span><span class="p">.</span><span class="nx">AttributeName</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">attributeName</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p>To read:</p>
<div class="highlight"><pre><span></span><code><span class="nx">input</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">service</span><span class="p">.</span><span class="nx">ExampleOperationInput</span><span class="p">{}</span>

<span class="k">if</span><span class="w"> </span><span class="nx">v</span><span class="p">,</span><span class="w"> </span><span class="nx">ok</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">d</span><span class="p">.</span><span class="nx">GetOk</span><span class="p">(</span><span class="s">&quot;attribute_name&quot;</span><span class="p">);</span><span class="w"> </span><span class="nx">ok</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">len</span><span class="p">(</span><span class="nx">v</span><span class="p">.([]</span><span class="kd">interface</span><span class="p">{}))</span><span class="w"> </span><span class="p">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">v</span><span class="p">.([]</span><span class="kd">interface</span><span class="p">{})[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">input</span><span class="p">.</span><span class="nx">AttributeName</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">expandStructure</span><span class="p">(</span><span class="nx">v</span><span class="p">.([]</span><span class="kd">interface</span><span class="p">{})[</span><span class="mi">0</span><span class="p">].(</span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{}))</span>
<span class="p">}</span>
</code></pre></div>
<p>To write (<em>likely to have helper function introduced soon</em>):</p>
<div class="highlight"><pre><span></span><code><span class="k">if</span><span class="w"> </span><span class="nx">output</span><span class="p">.</span><span class="nx">Thing</span><span class="p">.</span><span class="nx">AttributeName</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">d</span><span class="p">.</span><span class="nx">Set</span><span class="p">(</span><span class="s">&quot;attribute_name&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">[]</span><span class="kd">interface</span><span class="p">{}{</span><span class="nx">flattenStructure</span><span class="p">(</span><span class="nx">output</span><span class="p">.</span><span class="nx">Thing</span><span class="p">.</span><span class="nx">AttributeName</span><span class="p">)});</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nx">sdkdiag</span><span class="p">.</span><span class="nx">AppendErrorf</span><span class="p">(</span><span class="nx">diags</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;setting attribute_name: %s&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">d</span><span class="p">.</span><span class="nx">Set</span><span class="p">(</span><span class="s">&quot;attribute_name&quot;</span><span class="p">,</span><span class="w"> </span><span class="kc">nil</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="root-list-of-string-and-aws-list-of-string">Root List of String and AWS List of String<a class="headerlink" href="#root-list-of-string-and-aws-list-of-string" title="Permanent link">#</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="11:2"><input checked="checked" id="__tabbed_11_1" name="__tabbed_11" type="radio" /><input id="__tabbed_11_2" name="__tabbed_11" type="radio" /><div class="tabbed-labels"><label for="__tabbed_11_1">Terraform Plugin Framework (Preferred)</label><label for="__tabbed_11_2">Terraform Plugin SDK V2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>To read:</p>
<div class="highlight"><pre><span></span><code><span class="nx">input</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">service</span><span class="p">.</span><span class="nx">ExampleOperationInput</span><span class="p">{}</span>

<span class="k">if</span><span class="w"> </span><span class="p">!</span><span class="nx">plan</span><span class="p">.</span><span class="nx">AttributeName</span><span class="p">.</span><span class="nx">IsNull</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">input</span><span class="p">.</span><span class="nx">AttributeName</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">flex</span><span class="p">.</span><span class="nx">ExpandFrameworkStringValueList</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span><span class="w"> </span><span class="nx">plan</span><span class="p">.</span><span class="nx">AttributeName</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<p>To write:</p>
<div class="highlight"><pre><span></span><code><span class="nx">plan</span><span class="p">.</span><span class="nx">AttributeName</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">flex</span><span class="p">.</span><span class="nx">FlattenFrameworkStringValueList</span><span class="p">(</span><span class="nx">output</span><span class="p">.</span><span class="nx">Thing</span><span class="p">.</span><span class="nx">AttributeName</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p>To read:</p>
<div class="highlight"><pre><span></span><code><span class="nx">input</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">service</span><span class="p">.</span><span class="nx">ExampleOperationInput</span><span class="p">{}</span>

<span class="k">if</span><span class="w"> </span><span class="nx">v</span><span class="p">,</span><span class="w"> </span><span class="nx">ok</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">d</span><span class="p">.</span><span class="nx">GetOk</span><span class="p">(</span><span class="s">&quot;attribute_name&quot;</span><span class="p">);</span><span class="w"> </span><span class="nx">ok</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">len</span><span class="p">(</span><span class="nx">v</span><span class="p">.([]</span><span class="kd">interface</span><span class="p">{}))</span><span class="w"> </span><span class="p">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">input</span><span class="p">.</span><span class="nx">AttributeName</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">flex</span><span class="p">.</span><span class="nx">ExpandStringList</span><span class="p">(</span><span class="nx">v</span><span class="p">.([]</span><span class="kd">interface</span><span class="p">{}))</span>
<span class="p">}</span>
</code></pre></div>
<p>To write:</p>
<div class="highlight"><pre><span></span><code><span class="nx">d</span><span class="p">.</span><span class="nx">Set</span><span class="p">(</span><span class="s">&quot;attribute_name&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">aws</span><span class="p">.</span><span class="nx">StringValueSlice</span><span class="p">(</span><span class="nx">output</span><span class="p">.</span><span class="nx">Thing</span><span class="p">.</span><span class="nx">AttributeName</span><span class="p">))</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="root-map-of-string-and-aws-map-of-string">Root Map of String and AWS Map of String<a class="headerlink" href="#root-map-of-string-and-aws-map-of-string" title="Permanent link">#</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="12:2"><input checked="checked" id="__tabbed_12_1" name="__tabbed_12" type="radio" /><input id="__tabbed_12_2" name="__tabbed_12" type="radio" /><div class="tabbed-labels"><label for="__tabbed_12_1">Terraform Plugin Framework (Preferred)</label><label for="__tabbed_12_2">Terraform Plugin SDK V2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>To read:</p>
<div class="highlight"><pre><span></span><code><span class="nx">input</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">service</span><span class="p">.</span><span class="nx">ExampleOperationInput</span><span class="p">{}</span>

<span class="k">if</span><span class="w"> </span><span class="p">!</span><span class="nx">plan</span><span class="p">.</span><span class="nx">AttributeName</span><span class="p">.</span><span class="nx">IsNull</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">input</span><span class="p">.</span><span class="nx">AttributeName</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">flex</span><span class="p">.</span><span class="nx">ExpandFrameworkStringValueMap</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span><span class="w"> </span><span class="nx">plan</span><span class="p">.</span><span class="nx">AttributeName</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<p>To write:</p>
<div class="highlight"><pre><span></span><code><span class="nx">plan</span><span class="p">.</span><span class="nx">AttributeName</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">flex</span><span class="p">.</span><span class="nx">FlattenFrameworkStringValueMap</span><span class="p">(</span><span class="nx">output</span><span class="p">.</span><span class="nx">Thing</span><span class="p">.</span><span class="nx">AttributeName</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p>To read:</p>
<div class="highlight"><pre><span></span><code><span class="nx">input</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">service</span><span class="p">.</span><span class="nx">ExampleOperationInput</span><span class="p">{}</span>

<span class="k">if</span><span class="w"> </span><span class="nx">v</span><span class="p">,</span><span class="w"> </span><span class="nx">ok</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">d</span><span class="p">.</span><span class="nx">GetOk</span><span class="p">(</span><span class="s">&quot;attribute_name&quot;</span><span class="p">);</span><span class="w"> </span><span class="nx">ok</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">len</span><span class="p">(</span><span class="nx">v</span><span class="p">.(</span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{}))</span><span class="w"> </span><span class="p">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">input</span><span class="p">.</span><span class="nx">AttributeName</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">flex</span><span class="p">.</span><span class="nx">ExpandStringMap</span><span class="p">(</span><span class="nx">v</span><span class="p">.(</span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{}))</span>
<span class="p">}</span>
</code></pre></div>
<p>To write:</p>
<div class="highlight"><pre><span></span><code><span class="nx">d</span><span class="p">.</span><span class="nx">Set</span><span class="p">(</span><span class="s">&quot;attribute_name&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">aws</span><span class="p">.</span><span class="nx">StringValueMap</span><span class="p">(</span><span class="nx">output</span><span class="p">.</span><span class="nx">Thing</span><span class="p">.</span><span class="nx">AttributeName</span><span class="p">))</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="root-set-of-resource-and-aws-list-of-structure">Root Set of Resource and AWS List of Structure<a class="headerlink" href="#root-set-of-resource-and-aws-list-of-structure" title="Permanent link">#</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="13:2"><input checked="checked" id="__tabbed_13_1" name="__tabbed_13" type="radio" /><input id="__tabbed_13_2" name="__tabbed_13" type="radio" /><div class="tabbed-labels"><label for="__tabbed_13_1">Terraform Plugin Framework (Preferred)</label><label for="__tabbed_13_2">Terraform Plugin SDK V2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>To read:</p>
<div class="highlight"><pre><span></span><code><span class="nx">input</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">service</span><span class="p">.</span><span class="nx">ExampleOperationInput</span><span class="p">{}</span>

<span class="k">if</span><span class="w"> </span><span class="p">!</span><span class="nx">plan</span><span class="p">.</span><span class="nx">AttributeName</span><span class="p">.</span><span class="nx">IsNull</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">tfList</span><span class="w"> </span><span class="p">[]</span><span class="nx">attributeNameData</span>
<span class="w">    </span><span class="nx">resp</span><span class="p">.</span><span class="nx">Diagnostics</span><span class="p">.</span><span class="nx">Append</span><span class="p">(</span><span class="nx">plan</span><span class="p">.</span><span class="nx">AttributeName</span><span class="p">.</span><span class="nx">ElementsAs</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">tfList</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">)</span><span class="o">...</span><span class="p">)</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">resp</span><span class="p">.</span><span class="nx">Diagnostics</span><span class="p">.</span><span class="nx">HasError</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nx">input</span><span class="p">.</span><span class="nx">AttributeName</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">expandStructure</span><span class="p">(</span><span class="nx">tfList</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<p>To write:</p>
<div class="highlight"><pre><span></span><code><span class="c1">// flattener handles nil output, returning the equivalent null Terraform type</span>
<span class="nx">attributeName</span><span class="p">,</span><span class="w"> </span><span class="nx">d</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">flattenStructures</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span><span class="w"> </span><span class="nx">output</span><span class="p">.</span><span class="nx">Thing</span><span class="p">.</span><span class="nx">AttributeName</span><span class="p">))</span>
<span class="nx">resp</span><span class="p">.</span><span class="nx">Diagnostics</span><span class="p">.</span><span class="nx">Append</span><span class="p">(</span><span class="nx">d</span><span class="o">...</span><span class="p">)</span>
<span class="nx">state</span><span class="p">.</span><span class="nx">AttributeName</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">attributeName</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p>To read:</p>
<div class="highlight"><pre><span></span><code><span class="nx">input</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">service</span><span class="p">.</span><span class="nx">ExampleOperationInput</span><span class="p">{}</span>

<span class="k">if</span><span class="w"> </span><span class="nx">v</span><span class="p">,</span><span class="w"> </span><span class="nx">ok</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">d</span><span class="p">.</span><span class="nx">GetOk</span><span class="p">(</span><span class="s">&quot;attribute_name&quot;</span><span class="p">);</span><span class="w"> </span><span class="nx">ok</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">v</span><span class="p">.(</span><span class="o">*</span><span class="nx">schema</span><span class="p">.</span><span class="nx">Set</span><span class="p">).</span><span class="nx">Len</span><span class="p">()</span><span class="w"> </span><span class="p">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">input</span><span class="p">.</span><span class="nx">AttributeName</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">expandStructures</span><span class="p">(</span><span class="nx">v</span><span class="p">.(</span><span class="o">*</span><span class="nx">schema</span><span class="p">.</span><span class="nx">Set</span><span class="p">).</span><span class="nx">List</span><span class="p">())</span>
<span class="p">}</span>
</code></pre></div>
<p>To write:</p>
<div class="highlight"><pre><span></span><code><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">d</span><span class="p">.</span><span class="nx">Set</span><span class="p">(</span><span class="s">&quot;attribute_name&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">flattenStructures</span><span class="p">(</span><span class="nx">output</span><span class="p">.</span><span class="nx">Thing</span><span class="p">.</span><span class="nx">AttributeNames</span><span class="p">));</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">sdkdiag</span><span class="p">.</span><span class="nx">AppendErrorf</span><span class="p">(</span><span class="nx">diags</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;setting attribute_name: %s&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="root-set-of-string-and-aws-list-of-string">Root Set of String and AWS List of String<a class="headerlink" href="#root-set-of-string-and-aws-list-of-string" title="Permanent link">#</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="14:2"><input checked="checked" id="__tabbed_14_1" name="__tabbed_14" type="radio" /><input id="__tabbed_14_2" name="__tabbed_14" type="radio" /><div class="tabbed-labels"><label for="__tabbed_14_1">Terraform Plugin Framework (Preferred)</label><label for="__tabbed_14_2">Terraform Plugin SDK V2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>To read:</p>
<div class="highlight"><pre><span></span><code><span class="nx">input</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">service</span><span class="p">.</span><span class="nx">ExampleOperationInput</span><span class="p">{}</span>

<span class="k">if</span><span class="w"> </span><span class="p">!</span><span class="nx">plan</span><span class="p">.</span><span class="nx">AttributeName</span><span class="p">.</span><span class="nx">IsNull</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">input</span><span class="p">.</span><span class="nx">AttributeName</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">flex</span><span class="p">.</span><span class="nx">ExpandFrameworkStringValueSet</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span><span class="w"> </span><span class="nx">plan</span><span class="p">.</span><span class="nx">AttributeName</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<p>To write:</p>
<div class="highlight"><pre><span></span><code><span class="nx">plan</span><span class="p">.</span><span class="nx">AttributeName</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">flex</span><span class="p">.</span><span class="nx">FlattenFrameworkStringValueSet</span><span class="p">(</span><span class="nx">output</span><span class="p">.</span><span class="nx">Thing</span><span class="p">.</span><span class="nx">AttributeName</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p>To read:</p>
<div class="highlight"><pre><span></span><code><span class="nx">input</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">service</span><span class="p">.</span><span class="nx">ExampleOperationInput</span><span class="p">{}</span>

<span class="k">if</span><span class="w"> </span><span class="nx">v</span><span class="p">,</span><span class="w"> </span><span class="nx">ok</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">d</span><span class="p">.</span><span class="nx">GetOk</span><span class="p">(</span><span class="s">&quot;attribute_name&quot;</span><span class="p">);</span><span class="w"> </span><span class="nx">ok</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">v</span><span class="p">.(</span><span class="o">*</span><span class="nx">schema</span><span class="p">.</span><span class="nx">Set</span><span class="p">).</span><span class="nx">Len</span><span class="p">()</span><span class="w"> </span><span class="p">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">input</span><span class="p">.</span><span class="nx">AttributeName</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">flex</span><span class="p">.</span><span class="nx">ExpandStringSet</span><span class="p">(</span><span class="nx">v</span><span class="p">.(</span><span class="o">*</span><span class="nx">schema</span><span class="p">.</span><span class="nx">Set</span><span class="p">))</span>
<span class="p">}</span>
</code></pre></div>
<p>To write:</p>
<div class="highlight"><pre><span></span><code><span class="nx">d</span><span class="p">.</span><span class="nx">Set</span><span class="p">(</span><span class="s">&quot;attribute_name&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">aws</span><span class="p">.</span><span class="nx">StringValueSlice</span><span class="p">(</span><span class="nx">output</span><span class="p">.</span><span class="nx">Thing</span><span class="p">.</span><span class="nx">AttributeName</span><span class="p">))</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="root-string-and-aws-string">Root String and AWS String<a class="headerlink" href="#root-string-and-aws-string" title="Permanent link">#</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="15:2"><input checked="checked" id="__tabbed_15_1" name="__tabbed_15" type="radio" /><input id="__tabbed_15_2" name="__tabbed_15" type="radio" /><div class="tabbed-labels"><label for="__tabbed_15_1">Terraform Plugin Framework (Preferred)</label><label for="__tabbed_15_2">Terraform Plugin SDK V2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>To read:</p>
<div class="highlight"><pre><span></span><code><span class="nx">input</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">service</span><span class="p">.</span><span class="nx">ExampleOperationInput</span><span class="p">{}</span>

<span class="k">if</span><span class="w"> </span><span class="p">!</span><span class="nx">plan</span><span class="p">.</span><span class="nx">AttributeName</span><span class="p">.</span><span class="nx">IsNull</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">input</span><span class="p">.</span><span class="nx">AttributeName</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">plan</span><span class="p">.</span><span class="nx">AttributeName</span><span class="p">.</span><span class="nx">ValueStringPointer</span><span class="p">()</span>
<span class="p">}</span>
</code></pre></div>
<p>To write:</p>
<div class="highlight"><pre><span></span><code><span class="nx">plan</span><span class="p">.</span><span class="nx">AttributeName</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">flex</span><span class="p">.</span><span class="nx">StringToFramework</span><span class="p">(</span><span class="nx">output</span><span class="p">.</span><span class="nx">Thing</span><span class="p">.</span><span class="nx">AttributeName</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p>To read:</p>
<div class="highlight"><pre><span></span><code><span class="nx">input</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">service</span><span class="p">.</span><span class="nx">ExampleOperationInput</span><span class="p">{}</span>

<span class="k">if</span><span class="w"> </span><span class="nx">v</span><span class="p">,</span><span class="w"> </span><span class="nx">ok</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">d</span><span class="p">.</span><span class="nx">GetOk</span><span class="p">(</span><span class="s">&quot;attribute_name&quot;</span><span class="p">);</span><span class="w"> </span><span class="nx">ok</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">input</span><span class="p">.</span><span class="nx">AttributeName</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">aws</span><span class="p">.</span><span class="nx">String</span><span class="p">(</span><span class="nx">v</span><span class="p">.(</span><span class="kt">string</span><span class="p">))</span>
<span class="p">}</span>
</code></pre></div>
<p>To write:</p>
<div class="highlight"><pre><span></span><code><span class="nx">d</span><span class="p">.</span><span class="nx">Set</span><span class="p">(</span><span class="s">&quot;attribute_name&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">output</span><span class="p">.</span><span class="nx">Thing</span><span class="p">.</span><span class="nx">AttributeName</span><span class="p">)</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="root-string-and-aws-timestamp">Root String and AWS Timestamp<a class="headerlink" href="#root-string-and-aws-timestamp" title="Permanent link">#</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="16:2"><input checked="checked" id="__tabbed_16_1" name="__tabbed_16" type="radio" /><input id="__tabbed_16_2" name="__tabbed_16" type="radio" /><div class="tabbed-labels"><label for="__tabbed_16_1">Terraform Plugin Framework (Preferred)</label><label for="__tabbed_16_2">Terraform Plugin SDK V2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>To ensure that parsing the read string value does not fail, use the <a href="https://pkg.go.dev/github.com/hashicorp/terraform-plugin-framework-timetypes@v0.3.0/timetypes#RFC3339">RFC3339 timetype</a>.</p>
<p>To read:</p>
<div class="highlight"><pre><span></span><code><span class="nx">input</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">service</span><span class="p">.</span><span class="nx">ExampleOperationInput</span><span class="p">{}</span>

<span class="k">if</span><span class="w"> </span><span class="p">!</span><span class="nx">plan</span><span class="p">.</span><span class="nx">AttributeName</span><span class="p">.</span><span class="nx">IsNull</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">attributeName</span><span class="p">,</span><span class="w"> </span><span class="nx">d</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">plan</span><span class="p">.</span><span class="nx">AttributeName</span><span class="p">.</span><span class="nx">ValueRFC3339Time</span><span class="p">()</span>
<span class="w">    </span><span class="nx">resp</span><span class="p">.</span><span class="nx">Diagnostics</span><span class="p">.</span><span class="nx">Append</span><span class="p">(</span><span class="nx">d</span><span class="o">...</span><span class="p">)</span>
<span class="w">    </span><span class="nx">input</span><span class="p">.</span><span class="nx">AttributeName</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">aws</span><span class="p">.</span><span class="nx">Time</span><span class="p">(</span><span class="nx">attributeName</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<p>To write:</p>
<div class="highlight"><pre><span></span><code><span class="nx">plan</span><span class="p">.</span><span class="nx">AttributeName</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">timetypes</span><span class="p">.</span><span class="nx">NewRFC3339ValueMust</span><span class="p">(</span><span class="nx">aws</span><span class="p">.</span><span class="nx">ToTime</span><span class="p">(</span><span class="nx">output</span><span class="p">.</span><span class="nx">Thing</span><span class="p">.</span><span class="nx">AttributeName</span><span class="p">).</span><span class="nx">Format</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span class="nx">RFC3339</span><span class="p">))</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p>To ensure that parsing the read string value does not fail, define <code>attribute_name</code>'s <code>schema.Schema</code> with an appropriate <a href="https://www.terraform.io/plugin/sdkv2/schemas/schema-behaviors#validatefunc"><code>ValidateFunc</code></a>:</p>
<div class="highlight"><pre><span></span><code><span class="s">&quot;attribute_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">Type</span><span class="p">:</span><span class="w">         </span><span class="nx">schema</span><span class="p">.</span><span class="nx">TypeString</span><span class="p">,</span>
<span class="w">    </span><span class="c1">// ...</span>
<span class="w">    </span><span class="nx">ValidateFunc</span><span class="p">:</span><span class="w"> </span><span class="nx">validation</span><span class="p">.</span><span class="nx">IsRFC3339Time</span><span class="p">,</span>
<span class="p">},</span>
</code></pre></div>
<p>To read:</p>
<div class="highlight"><pre><span></span><code><span class="nx">input</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">service</span><span class="p">.</span><span class="nx">ExampleOperationInput</span><span class="p">{}</span>

<span class="k">if</span><span class="w"> </span><span class="nx">v</span><span class="p">,</span><span class="w"> </span><span class="nx">ok</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">d</span><span class="p">.</span><span class="nx">GetOk</span><span class="p">(</span><span class="s">&quot;attribute_name&quot;</span><span class="p">);</span><span class="w"> </span><span class="nx">ok</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">v</span><span class="p">,</span><span class="w"> </span><span class="nx">_</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">time</span><span class="p">.</span><span class="nx">Parse</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span class="nx">RFC3339</span><span class="p">,</span><span class="w"> </span><span class="nx">v</span><span class="p">.(</span><span class="kt">string</span><span class="p">))</span>

<span class="w">    </span><span class="nx">input</span><span class="p">.</span><span class="nx">AttributeName</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">aws</span><span class="p">.</span><span class="nx">Time</span><span class="p">(</span><span class="nx">v</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<p>To write:</p>
<div class="highlight"><pre><span></span><code><span class="k">if</span><span class="w"> </span><span class="nx">output</span><span class="p">.</span><span class="nx">Thing</span><span class="p">.</span><span class="nx">AttributeName</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">d</span><span class="p">.</span><span class="nx">Set</span><span class="p">(</span><span class="s">&quot;attribute_name&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">aws</span><span class="p">.</span><span class="nx">TimeValue</span><span class="p">(</span><span class="nx">output</span><span class="p">.</span><span class="nx">Thing</span><span class="p">.</span><span class="nx">AttributeName</span><span class="p">).</span><span class="nx">Format</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span class="nx">RFC3339</span><span class="p">))</span>
<span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">d</span><span class="p">.</span><span class="nx">Set</span><span class="p">(</span><span class="s">&quot;attribute_name&quot;</span><span class="p">,</span><span class="w"> </span><span class="kc">nil</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="nested-bool-and-aws-boolean">Nested Bool and AWS Boolean<a class="headerlink" href="#nested-bool-and-aws-boolean" title="Permanent link">#</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="17:2"><input checked="checked" id="__tabbed_17_1" name="__tabbed_17" type="radio" /><input id="__tabbed_17_2" name="__tabbed_17" type="radio" /><div class="tabbed-labels"><label for="__tabbed_17_1">Terraform Plugin Framework (Preferred)</label><label for="__tabbed_17_2">Terraform Plugin SDK V2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>To read, if always sending the attribute value is correct:</p>
<div class="highlight"><pre><span></span><code><span class="kd">func</span><span class="w"> </span><span class="nx">expandStructure</span><span class="p">(</span><span class="nx">tfList</span><span class="w"> </span><span class="p">[]</span><span class="nx">structureData</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="nx">service</span><span class="p">.</span><span class="nx">Structure</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ...</span>

<span class="w">    </span><span class="nx">apiObject</span><span class="p">.</span><span class="nx">NestedAttributeName</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">tfObj</span><span class="p">.</span><span class="nx">NestedAttributeName</span><span class="p">.</span><span class="nx">ValueBoolPointer</span><span class="p">()</span>

<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>
<p>To read, if only sending the attribute value when known and not nil:</p>
<div class="highlight"><pre><span></span><code><span class="kd">func</span><span class="w"> </span><span class="nx">expandStructure</span><span class="p">(</span><span class="nx">tfList</span><span class="w"> </span><span class="p">[]</span><span class="nx">structureData</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="nx">service</span><span class="p">.</span><span class="nx">Structure</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ...</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">!</span><span class="nx">tfObj</span><span class="p">.</span><span class="nx">NestedAttributeName</span><span class="p">.</span><span class="nx">IsUnknown</span><span class="p">()</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">!</span><span class="nx">tfObj</span><span class="p">.</span><span class="nx">NestedAttributeName</span><span class="p">.</span><span class="nx">IsNull</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">apiObject</span><span class="p">.</span><span class="nx">NestedAttributeName</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">tfObj</span><span class="p">.</span><span class="nx">NestedAttributeName</span><span class="p">.</span><span class="nx">ValueBoolPointer</span><span class="p">()</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>
<p>To write:</p>
<div class="highlight"><pre><span></span><code><span class="kd">func</span><span class="w"> </span><span class="nx">flattenStructure</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">apiObject</span><span class="w"> </span><span class="o">*</span><span class="nx">service</span><span class="p">.</span><span class="nx">Structure</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nx">types</span><span class="p">.</span><span class="nx">List</span><span class="p">,</span><span class="w"> </span><span class="nx">diag</span><span class="p">.</span><span class="nx">Diagnostics</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ...</span>

<span class="w">    </span><span class="c1">// flex will handle setting null when appropriate</span>
<span class="w">    </span><span class="nx">obj</span><span class="p">[</span><span class="s">&quot;nested_attribute_name&quot;</span><span class="p">]</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">flex</span><span class="p">.</span><span class="nx">BoolToFramework</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span><span class="w"> </span><span class="nx">apiObject</span><span class="p">.</span><span class="nx">NestedAttributeName</span><span class="p">)</span>

<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p>To read, if always sending the attribute value is correct:</p>
<div class="highlight"><pre><span></span><code><span class="kd">func</span><span class="w"> </span><span class="nx">expandStructure</span><span class="p">(</span><span class="nx">tfMap</span><span class="w"> </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{})</span><span class="w"> </span><span class="o">*</span><span class="nx">service</span><span class="p">.</span><span class="nx">Structure</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ...</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">v</span><span class="p">,</span><span class="w"> </span><span class="nx">ok</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">tfMap</span><span class="p">[</span><span class="s">&quot;nested_attribute_name&quot;</span><span class="p">].(</span><span class="kt">bool</span><span class="p">);</span><span class="w"> </span><span class="nx">ok</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">apiObject</span><span class="p">.</span><span class="nx">NestedAttributeName</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">aws</span><span class="p">.</span><span class="nx">Bool</span><span class="p">(</span><span class="nx">v</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>
<p>To read, if only sending the attribute value when <code>true</code> is preferred (<code>!v</code> for opposite):</p>
<div class="highlight"><pre><span></span><code><span class="kd">func</span><span class="w"> </span><span class="nx">expandStructure</span><span class="p">(</span><span class="nx">tfMap</span><span class="w"> </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{})</span><span class="w"> </span><span class="o">*</span><span class="nx">service</span><span class="p">.</span><span class="nx">Structure</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ...</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">v</span><span class="p">,</span><span class="w"> </span><span class="nx">ok</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">tfMap</span><span class="p">[</span><span class="s">&quot;nested_attribute_name&quot;</span><span class="p">].(</span><span class="kt">bool</span><span class="p">);</span><span class="w"> </span><span class="nx">ok</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">v</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">apiObject</span><span class="p">.</span><span class="nx">NestedAttributeName</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">aws</span><span class="p">.</span><span class="nx">Bool</span><span class="p">(</span><span class="nx">v</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>
<p>To write:</p>
<div class="highlight"><pre><span></span><code><span class="kd">func</span><span class="w"> </span><span class="nx">flattenStructure</span><span class="p">(</span><span class="nx">apiObject</span><span class="w"> </span><span class="o">*</span><span class="nx">service</span><span class="p">.</span><span class="nx">Structure</span><span class="p">)</span><span class="w"> </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{}</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ...</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">v</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">apiObject</span><span class="p">.</span><span class="nx">NestedAttributeName</span><span class="p">;</span><span class="w"> </span><span class="nx">v</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">tfMap</span><span class="p">[</span><span class="s">&quot;nested_attribute_name&quot;</span><span class="p">]</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">aws</span><span class="p">.</span><span class="nx">ToBool</span><span class="p">(</span><span class="nx">v</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="nested-float-and-aws-float">Nested Float and AWS Float<a class="headerlink" href="#nested-float-and-aws-float" title="Permanent link">#</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="18:2"><input checked="checked" id="__tabbed_18_1" name="__tabbed_18" type="radio" /><input id="__tabbed_18_2" name="__tabbed_18" type="radio" /><div class="tabbed-labels"><label for="__tabbed_18_1">Terraform Plugin Framework (Preferred)</label><label for="__tabbed_18_2">Terraform Plugin SDK V2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>To read:</p>
<div class="highlight"><pre><span></span><code><span class="kd">func</span><span class="w"> </span><span class="nx">expandStructure</span><span class="p">(</span><span class="nx">tfList</span><span class="w"> </span><span class="p">[]</span><span class="nx">structureData</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="nx">service</span><span class="p">.</span><span class="nx">Structure</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ...</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">!</span><span class="nx">tfObj</span><span class="p">.</span><span class="nx">NestedAttributeName</span><span class="p">.</span><span class="nx">IsUnknown</span><span class="p">()</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">!</span><span class="nx">tfObj</span><span class="p">.</span><span class="nx">NestedAttributeName</span><span class="p">.</span><span class="nx">IsNull</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">apiObject</span><span class="p">.</span><span class="nx">NestedAttributeName</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">tfObj</span><span class="p">.</span><span class="nx">NestedAttributeName</span><span class="p">.</span><span class="nx">ValueFloat64Pointer</span><span class="p">()</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>
<p>To write:</p>
<div class="highlight"><pre><span></span><code><span class="kd">func</span><span class="w"> </span><span class="nx">flattenStructure</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">apiObject</span><span class="w"> </span><span class="o">*</span><span class="nx">service</span><span class="p">.</span><span class="nx">Structure</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nx">types</span><span class="p">.</span><span class="nx">List</span><span class="p">,</span><span class="w"> </span><span class="nx">diag</span><span class="p">.</span><span class="nx">Diagnostics</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ...</span>

<span class="w">    </span><span class="c1">// flex will handle setting null when appropriate</span>
<span class="w">    </span><span class="nx">obj</span><span class="p">[</span><span class="s">&quot;nested_attribute_name&quot;</span><span class="p">]</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">flex</span><span class="p">.</span><span class="nx">Float64ToFramework</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span><span class="w"> </span><span class="nx">apiObject</span><span class="p">.</span><span class="nx">NestedAttributeName</span><span class="p">)</span>

<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p>To read:</p>
<div class="highlight"><pre><span></span><code><span class="kd">func</span><span class="w"> </span><span class="nx">expandStructure</span><span class="p">(</span><span class="nx">tfMap</span><span class="w"> </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{})</span><span class="w"> </span><span class="o">*</span><span class="nx">service</span><span class="p">.</span><span class="nx">Structure</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ...</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">v</span><span class="p">,</span><span class="w"> </span><span class="nx">ok</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">tfMap</span><span class="p">[</span><span class="s">&quot;nested_attribute_name&quot;</span><span class="p">].(</span><span class="kt">float64</span><span class="p">);</span><span class="w"> </span><span class="nx">ok</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">v</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mf">0.0</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">apiObject</span><span class="p">.</span><span class="nx">NestedAttributeName</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">aws</span><span class="p">.</span><span class="nx">Float64</span><span class="p">(</span><span class="nx">v</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>
<p>To write:</p>
<div class="highlight"><pre><span></span><code><span class="kd">func</span><span class="w"> </span><span class="nx">flattenStructure</span><span class="p">(</span><span class="nx">apiObject</span><span class="w"> </span><span class="o">*</span><span class="nx">service</span><span class="p">.</span><span class="nx">Structure</span><span class="p">)</span><span class="w"> </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{}</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ...</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">v</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">apiObject</span><span class="p">.</span><span class="nx">NestedAttributeName</span><span class="p">;</span><span class="w"> </span><span class="nx">v</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">tfMap</span><span class="p">[</span><span class="s">&quot;nested_attribute_name&quot;</span><span class="p">]</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">aws</span><span class="p">.</span><span class="nx">ToFloat64</span><span class="p">(</span><span class="nx">v</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="nested-int-and-aws-integer">Nested Int and AWS Integer<a class="headerlink" href="#nested-int-and-aws-integer" title="Permanent link">#</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="19:2"><input checked="checked" id="__tabbed_19_1" name="__tabbed_19" type="radio" /><input id="__tabbed_19_2" name="__tabbed_19" type="radio" /><div class="tabbed-labels"><label for="__tabbed_19_1">Terraform Plugin Framework (Preferred)</label><label for="__tabbed_19_2">Terraform Plugin SDK V2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>To read:</p>
<div class="highlight"><pre><span></span><code><span class="kd">func</span><span class="w"> </span><span class="nx">expandStructure</span><span class="p">(</span><span class="nx">tfList</span><span class="w"> </span><span class="p">[]</span><span class="nx">structureData</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="nx">service</span><span class="p">.</span><span class="nx">Structure</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ...</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">!</span><span class="nx">tfObj</span><span class="p">.</span><span class="nx">NestedAttributeName</span><span class="p">.</span><span class="nx">IsUnknown</span><span class="p">()</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">!</span><span class="nx">tfObj</span><span class="p">.</span><span class="nx">NestedAttributeName</span><span class="p">.</span><span class="nx">IsNull</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">apiObject</span><span class="p">.</span><span class="nx">NestedAttributeName</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">tfObj</span><span class="p">.</span><span class="nx">NestedAttributeName</span><span class="p">.</span><span class="nx">ValueInt64Pointer</span><span class="p">()</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>
<p>To write:</p>
<div class="highlight"><pre><span></span><code><span class="kd">func</span><span class="w"> </span><span class="nx">flattenStructure</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">apiObject</span><span class="w"> </span><span class="o">*</span><span class="nx">service</span><span class="p">.</span><span class="nx">Structure</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nx">types</span><span class="p">.</span><span class="nx">List</span><span class="p">,</span><span class="w"> </span><span class="nx">diag</span><span class="p">.</span><span class="nx">Diagnostics</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ...</span>

<span class="w">    </span><span class="c1">// flex will handle setting null when appropriate</span>
<span class="w">    </span><span class="nx">obj</span><span class="p">[</span><span class="s">&quot;nested_attribute_name&quot;</span><span class="p">]</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">flex</span><span class="p">.</span><span class="nx">Int64ToFramework</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span><span class="w"> </span><span class="nx">apiObject</span><span class="p">.</span><span class="nx">NestedAttributeName</span><span class="p">)</span>

<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p>To read:</p>
<div class="highlight"><pre><span></span><code><span class="kd">func</span><span class="w"> </span><span class="nx">expandStructure</span><span class="p">(</span><span class="nx">tfMap</span><span class="w"> </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{})</span><span class="w"> </span><span class="o">*</span><span class="nx">service</span><span class="p">.</span><span class="nx">Structure</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ...</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">v</span><span class="p">,</span><span class="w"> </span><span class="nx">ok</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">tfMap</span><span class="p">[</span><span class="s">&quot;nested_attribute_name&quot;</span><span class="p">].(</span><span class="kt">int</span><span class="p">);</span><span class="w"> </span><span class="nx">ok</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">v</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">apiObject</span><span class="p">.</span><span class="nx">NestedAttributeName</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">aws</span><span class="p">.</span><span class="nx">Int64</span><span class="p">(</span><span class="nb">int64</span><span class="p">(</span><span class="nx">v</span><span class="p">))</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>
<p>To write:</p>
<div class="highlight"><pre><span></span><code><span class="kd">func</span><span class="w"> </span><span class="nx">flattenStructure</span><span class="p">(</span><span class="nx">apiObject</span><span class="w"> </span><span class="o">*</span><span class="nx">service</span><span class="p">.</span><span class="nx">Structure</span><span class="p">)</span><span class="w"> </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{}</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ...</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">v</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">apiObject</span><span class="p">.</span><span class="nx">NestedAttributeName</span><span class="p">;</span><span class="w"> </span><span class="nx">v</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">tfMap</span><span class="p">[</span><span class="s">&quot;nested_attribute_name&quot;</span><span class="p">]</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">aws</span><span class="p">.</span><span class="nx">ToInt64</span><span class="p">(</span><span class="nx">v</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="nested-list-of-resource-and-aws-list-of-structure">Nested List of Resource and AWS List of Structure<a class="headerlink" href="#nested-list-of-resource-and-aws-list-of-structure" title="Permanent link">#</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="20:2"><input checked="checked" id="__tabbed_20_1" name="__tabbed_20" type="radio" /><input id="__tabbed_20_2" name="__tabbed_20" type="radio" /><div class="tabbed-labels"><label for="__tabbed_20_1">Terraform Plugin Framework (Preferred)</label><label for="__tabbed_20_2">Terraform Plugin SDK V2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>To read:</p>
<div class="highlight"><pre><span></span><code><span class="kd">func</span><span class="w"> </span><span class="nx">expandStructure</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">tfList</span><span class="w"> </span><span class="p">[]</span><span class="nx">structureData</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="nx">service</span><span class="p">.</span><span class="nx">Structure</span><span class="p">,</span><span class="w"> </span><span class="nx">diag</span><span class="p">.</span><span class="nx">Diagnostics</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ...</span>

<span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">nested</span><span class="w"> </span><span class="p">[]</span><span class="nx">nestedAttributeNameData</span>
<span class="w">    </span><span class="nx">diags</span><span class="p">.</span><span class="nx">Append</span><span class="p">(</span><span class="nx">tfObj</span><span class="p">.</span><span class="nx">NestedAttributeName</span><span class="p">.</span><span class="nx">ElementsAs</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">nested</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">)</span><span class="o">...</span><span class="p">)</span>

<span class="w">    </span><span class="c1">// expand will handle null when appropriate</span>
<span class="w">    </span><span class="nx">apiObject</span><span class="p">.</span><span class="nx">NestedAttributeName</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">expandNestedAttributeName</span><span class="p">(</span><span class="nx">nested</span><span class="p">)</span>

<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>
<p>To write:</p>
<div class="highlight"><pre><span></span><code><span class="kd">func</span><span class="w"> </span><span class="nx">flattenStructure</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">apiObject</span><span class="w"> </span><span class="o">*</span><span class="nx">service</span><span class="p">.</span><span class="nx">Structure</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nx">types</span><span class="p">.</span><span class="nx">List</span><span class="p">,</span><span class="w"> </span><span class="nx">diag</span><span class="p">.</span><span class="nx">Diagnostics</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ...</span>

<span class="w">    </span><span class="c1">// flatten will handle setting null when appropriate</span>
<span class="w">    </span><span class="nx">obj</span><span class="p">[</span><span class="s">&quot;nested_attribute_name&quot;</span><span class="p">]</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">flattenNestedAttributeName</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span><span class="w"> </span><span class="nx">v</span><span class="p">)</span>

<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p>To read:</p>
<div class="highlight"><pre><span></span><code><span class="kd">func</span><span class="w"> </span><span class="nx">expandStructure</span><span class="p">(</span><span class="nx">tfMap</span><span class="w"> </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{})</span><span class="w"> </span><span class="o">*</span><span class="nx">service</span><span class="p">.</span><span class="nx">Structure</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ...</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">v</span><span class="p">,</span><span class="w"> </span><span class="nx">ok</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">tfMap</span><span class="p">[</span><span class="s">&quot;nested_attribute_name&quot;</span><span class="p">].([]</span><span class="kd">interface</span><span class="p">{});</span><span class="w"> </span><span class="nx">ok</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">len</span><span class="p">(</span><span class="nx">v</span><span class="p">)</span><span class="w"> </span><span class="p">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">apiObject</span><span class="p">.</span><span class="nx">NestedAttributeName</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">expandStructures</span><span class="p">(</span><span class="nx">v</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>
<p>To write:</p>
<div class="highlight"><pre><span></span><code><span class="kd">func</span><span class="w"> </span><span class="nx">flattenStructure</span><span class="p">(</span><span class="nx">apiObject</span><span class="w"> </span><span class="o">*</span><span class="nx">service</span><span class="p">.</span><span class="nx">Structure</span><span class="p">)</span><span class="w"> </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{}</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ...</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">v</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">apiObject</span><span class="p">.</span><span class="nx">NestedAttributeName</span><span class="p">;</span><span class="w"> </span><span class="nx">v</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">tfMap</span><span class="p">[</span><span class="s">&quot;nested_attribute_name&quot;</span><span class="p">]</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">flattenNestedStructures</span><span class="p">(</span><span class="nx">v</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="nested-list-of-resource-and-aws-structure">Nested List of Resource and AWS Structure<a class="headerlink" href="#nested-list-of-resource-and-aws-structure" title="Permanent link">#</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="21:2"><input checked="checked" id="__tabbed_21_1" name="__tabbed_21" type="radio" /><input id="__tabbed_21_2" name="__tabbed_21" type="radio" /><div class="tabbed-labels"><label for="__tabbed_21_1">Terraform Plugin Framework (Preferred)</label><label for="__tabbed_21_2">Terraform Plugin SDK V2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>To read:</p>
<div class="highlight"><pre><span></span><code><span class="kd">func</span><span class="w"> </span><span class="nx">expandStructure</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">tfList</span><span class="w"> </span><span class="p">[]</span><span class="nx">structureData</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="nx">service</span><span class="p">.</span><span class="nx">Structure</span><span class="p">,</span><span class="w"> </span><span class="nx">diag</span><span class="p">.</span><span class="nx">Diagnostics</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ...</span>

<span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">nested</span><span class="w"> </span><span class="p">[]</span><span class="nx">nestedAttributeNameData</span>
<span class="w">    </span><span class="nx">diags</span><span class="p">.</span><span class="nx">Append</span><span class="p">(</span><span class="nx">tfObj</span><span class="p">.</span><span class="nx">NestedAttributeName</span><span class="p">.</span><span class="nx">ElementsAs</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">nested</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">)</span><span class="o">...</span><span class="p">)</span>

<span class="w">    </span><span class="c1">// expand will handle null when appropriate</span>
<span class="w">    </span><span class="nx">apiObject</span><span class="p">.</span><span class="nx">NestedAttributeName</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">expandNestedAttributeName</span><span class="p">(</span><span class="nx">nested</span><span class="p">)</span>

<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>
<p>To write:</p>
<div class="highlight"><pre><span></span><code><span class="kd">func</span><span class="w"> </span><span class="nx">flattenStructure</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">apiObject</span><span class="w"> </span><span class="o">*</span><span class="nx">service</span><span class="p">.</span><span class="nx">Structure</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nx">types</span><span class="p">.</span><span class="nx">List</span><span class="p">,</span><span class="w"> </span><span class="nx">diag</span><span class="p">.</span><span class="nx">Diagnostics</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ...</span>

<span class="w">    </span><span class="c1">// flatten will handle setting null when appropriate</span>
<span class="w">    </span><span class="nx">obj</span><span class="p">[</span><span class="s">&quot;nested_attribute_name&quot;</span><span class="p">]</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">flattenNestedAttributeName</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span><span class="w"> </span><span class="nx">v</span><span class="p">)</span>

<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p>To read:</p>
<div class="highlight"><pre><span></span><code><span class="kd">func</span><span class="w"> </span><span class="nx">expandStructure</span><span class="p">(</span><span class="nx">tfMap</span><span class="w"> </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{})</span><span class="w"> </span><span class="o">*</span><span class="nx">service</span><span class="p">.</span><span class="nx">Structure</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ...</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">v</span><span class="p">,</span><span class="w"> </span><span class="nx">ok</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">tfMap</span><span class="p">[</span><span class="s">&quot;nested_attribute_name&quot;</span><span class="p">].([]</span><span class="kd">interface</span><span class="p">{});</span><span class="w"> </span><span class="nx">ok</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">len</span><span class="p">(</span><span class="nx">v</span><span class="p">)</span><span class="w"> </span><span class="p">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">v</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">apiObject</span><span class="p">.</span><span class="nx">NestedAttributeName</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">expandStructure</span><span class="p">(</span><span class="nx">v</span><span class="p">[</span><span class="mi">0</span><span class="p">].(</span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{}))</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>
<p>To write:</p>
<div class="highlight"><pre><span></span><code><span class="kd">func</span><span class="w"> </span><span class="nx">flattenStructure</span><span class="p">(</span><span class="nx">apiObject</span><span class="w"> </span><span class="o">*</span><span class="nx">service</span><span class="p">.</span><span class="nx">Structure</span><span class="p">)</span><span class="w"> </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{}</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ...</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">v</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">apiObject</span><span class="p">.</span><span class="nx">NestedAttributeName</span><span class="p">;</span><span class="w"> </span><span class="nx">v</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">tfMap</span><span class="p">[</span><span class="s">&quot;nested_attribute_name&quot;</span><span class="p">]</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[]</span><span class="kd">interface</span><span class="p">{}{</span><span class="nx">flattenNestedStructure</span><span class="p">(</span><span class="nx">v</span><span class="p">)}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="nested-list-of-typestring-and-aws-list-of-string">Nested List of TypeString and AWS List of String<a class="headerlink" href="#nested-list-of-typestring-and-aws-list-of-string" title="Permanent link">#</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="22:2"><input checked="checked" id="__tabbed_22_1" name="__tabbed_22" type="radio" /><input id="__tabbed_22_2" name="__tabbed_22" type="radio" /><div class="tabbed-labels"><label for="__tabbed_22_1">Terraform Plugin Framework (Preferred)</label><label for="__tabbed_22_2">Terraform Plugin SDK V2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>To read:</p>
<div class="highlight"><pre><span></span><code><span class="kd">func</span><span class="w"> </span><span class="nx">expandStructure</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">tfList</span><span class="w"> </span><span class="p">[]</span><span class="nx">structureData</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="nx">service</span><span class="p">.</span><span class="nx">Structure</span><span class="p">,</span><span class="w"> </span><span class="nx">diag</span><span class="p">.</span><span class="nx">Diagnostics</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ...</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">!</span><span class="nx">tfObj</span><span class="p">.</span><span class="nx">NestedAttributeName</span><span class="p">.</span><span class="nx">IsUnknown</span><span class="p">()</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">!</span><span class="nx">tfObj</span><span class="p">.</span><span class="nx">NestedAttributeName</span><span class="p">.</span><span class="nx">IsNull</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">apiObject</span><span class="p">.</span><span class="nx">NestedAttributeName</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">flex</span><span class="p">.</span><span class="nx">ExpandFrameworkStringList</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span><span class="w"> </span><span class="nx">tfObj</span><span class="p">.</span><span class="nx">NestedAttributeName</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>
<p>To write:</p>
<div class="highlight"><pre><span></span><code><span class="kd">func</span><span class="w"> </span><span class="nx">flattenStructure</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">apiObject</span><span class="w"> </span><span class="o">*</span><span class="nx">service</span><span class="p">.</span><span class="nx">Structure</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nx">types</span><span class="p">.</span><span class="nx">List</span><span class="p">,</span><span class="w"> </span><span class="nx">diag</span><span class="p">.</span><span class="nx">Diagnostics</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ...</span>

<span class="w">    </span><span class="c1">// flex will handle setting null when appropriate</span>
<span class="w">    </span><span class="nx">obj</span><span class="p">[</span><span class="s">&quot;nested_attribute_name&quot;</span><span class="p">]</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">flex</span><span class="p">.</span><span class="nx">FlattenFrameworkStringList</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span><span class="w"> </span><span class="nx">v</span><span class="p">)</span>

<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p>To read:</p>
<div class="highlight"><pre><span></span><code><span class="kd">func</span><span class="w"> </span><span class="nx">expandStructure</span><span class="p">(</span><span class="nx">tfMap</span><span class="w"> </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{})</span><span class="w"> </span><span class="o">*</span><span class="nx">service</span><span class="p">.</span><span class="nx">Structure</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ...</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">v</span><span class="p">,</span><span class="w"> </span><span class="nx">ok</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">tfMap</span><span class="p">[</span><span class="s">&quot;nested_attribute_name&quot;</span><span class="p">].([]</span><span class="kd">interface</span><span class="p">{});</span><span class="w"> </span><span class="nx">ok</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">len</span><span class="p">(</span><span class="nx">v</span><span class="p">)</span><span class="w"> </span><span class="p">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">apiObject</span><span class="p">.</span><span class="nx">NestedAttributeName</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">flex</span><span class="p">.</span><span class="nx">ExpandStringList</span><span class="p">(</span><span class="nx">v</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>
<p>To write:</p>
<div class="highlight"><pre><span></span><code><span class="kd">func</span><span class="w"> </span><span class="nx">flattenStructure</span><span class="p">(</span><span class="nx">apiObject</span><span class="w"> </span><span class="o">*</span><span class="nx">service</span><span class="p">.</span><span class="nx">Structure</span><span class="p">)</span><span class="w"> </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{}</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ...</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">v</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">apiObject</span><span class="p">.</span><span class="nx">NestedAttributeName</span><span class="p">;</span><span class="w"> </span><span class="nx">v</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">tfMap</span><span class="p">[</span><span class="s">&quot;nested_attribute_name&quot;</span><span class="p">]</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">aws</span><span class="p">.</span><span class="nx">StringValueSlice</span><span class="p">(</span><span class="nx">v</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="nested-map-of-string-and-aws-map-of-string">Nested Map of String and AWS Map of String<a class="headerlink" href="#nested-map-of-string-and-aws-map-of-string" title="Permanent link">#</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="23:2"><input checked="checked" id="__tabbed_23_1" name="__tabbed_23" type="radio" /><input id="__tabbed_23_2" name="__tabbed_23" type="radio" /><div class="tabbed-labels"><label for="__tabbed_23_1">Terraform Plugin Framework (Preferred)</label><label for="__tabbed_23_2">Terraform Plugin SDK V2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>To read:</p>
<div class="highlight"><pre><span></span><code><span class="kd">func</span><span class="w"> </span><span class="nx">expandStructure</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">tfList</span><span class="w"> </span><span class="p">[]</span><span class="nx">structureData</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="nx">service</span><span class="p">.</span><span class="nx">Structure</span><span class="p">,</span><span class="w"> </span><span class="nx">diag</span><span class="p">.</span><span class="nx">Diagnostics</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ...</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">!</span><span class="nx">tfObj</span><span class="p">.</span><span class="nx">NestedAttributeName</span><span class="p">.</span><span class="nx">IsUnknown</span><span class="p">()</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">!</span><span class="nx">tfObj</span><span class="p">.</span><span class="nx">NestedAttributeName</span><span class="p">.</span><span class="nx">IsNull</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">apiObject</span><span class="p">.</span><span class="nx">NestedAttributeName</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">flex</span><span class="p">.</span><span class="nx">ExpandFrameworkStringMap</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span><span class="w"> </span><span class="nx">tfObj</span><span class="p">.</span><span class="nx">NestedAttributeName</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>
<p>To write:</p>
<div class="highlight"><pre><span></span><code><span class="kd">func</span><span class="w"> </span><span class="nx">flattenStructure</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">apiObject</span><span class="w"> </span><span class="o">*</span><span class="nx">service</span><span class="p">.</span><span class="nx">Structure</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nx">types</span><span class="p">.</span><span class="nx">List</span><span class="p">,</span><span class="w"> </span><span class="nx">diag</span><span class="p">.</span><span class="nx">Diagnostics</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ...</span>

<span class="w">    </span><span class="c1">// flex will handle setting null when appropriate</span>
<span class="w">    </span><span class="nx">obj</span><span class="p">[</span><span class="s">&quot;nested_attribute_name&quot;</span><span class="p">]</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">flex</span><span class="p">.</span><span class="nx">FlattenFrameworkStringMap</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span><span class="w"> </span><span class="nx">v</span><span class="p">)</span>

<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p>To read:</p>
<div class="highlight"><pre><span></span><code><span class="nx">input</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">service</span><span class="p">.</span><span class="nx">ExampleOperationInput</span><span class="p">{}</span>

<span class="k">if</span><span class="w"> </span><span class="nx">v</span><span class="p">,</span><span class="w"> </span><span class="nx">ok</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">tfMap</span><span class="p">[</span><span class="s">&quot;nested_attribute_name&quot;</span><span class="p">].(</span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{});</span><span class="w"> </span><span class="nx">ok</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">len</span><span class="p">(</span><span class="nx">v</span><span class="p">)</span><span class="w"> </span><span class="p">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">apiObject</span><span class="p">.</span><span class="nx">NestedAttributeName</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">flex</span><span class="p">.</span><span class="nx">ExpandStringMap</span><span class="p">(</span><span class="nx">v</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<p>To write:</p>
<div class="highlight"><pre><span></span><code><span class="kd">func</span><span class="w"> </span><span class="nx">flattenStructure</span><span class="p">(</span><span class="nx">apiObject</span><span class="w"> </span><span class="o">*</span><span class="nx">service</span><span class="p">.</span><span class="nx">Structure</span><span class="p">)</span><span class="w"> </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{}</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ...</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">v</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">apiObject</span><span class="p">.</span><span class="nx">NestedAttributeName</span><span class="p">;</span><span class="w"> </span><span class="nx">v</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">tfMap</span><span class="p">[</span><span class="s">&quot;nested_attribute_name&quot;</span><span class="p">]</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">aws</span><span class="p">.</span><span class="nx">StringValueMap</span><span class="p">(</span><span class="nx">v</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="nested-set-of-resource-and-aws-list-of-structure">Nested Set of Resource and AWS List of Structure<a class="headerlink" href="#nested-set-of-resource-and-aws-list-of-structure" title="Permanent link">#</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="24:2"><input checked="checked" id="__tabbed_24_1" name="__tabbed_24" type="radio" /><input id="__tabbed_24_2" name="__tabbed_24" type="radio" /><div class="tabbed-labels"><label for="__tabbed_24_1">Terraform Plugin Framework (Preferred)</label><label for="__tabbed_24_2">Terraform Plugin SDK V2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>To read:</p>
<div class="highlight"><pre><span></span><code><span class="kd">func</span><span class="w"> </span><span class="nx">expandStructure</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">tfList</span><span class="w"> </span><span class="p">[]</span><span class="nx">structureData</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="nx">service</span><span class="p">.</span><span class="nx">Structure</span><span class="p">,</span><span class="w"> </span><span class="nx">diag</span><span class="p">.</span><span class="nx">Diagnostics</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ...</span>

<span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">nested</span><span class="w"> </span><span class="p">[]</span><span class="nx">nestedAttributeNameData</span>
<span class="w">    </span><span class="nx">diags</span><span class="p">.</span><span class="nx">Append</span><span class="p">(</span><span class="nx">tfObj</span><span class="p">.</span><span class="nx">NestedAttributeName</span><span class="p">.</span><span class="nx">ElementsAs</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">nested</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">)</span><span class="o">...</span><span class="p">)</span>

<span class="w">    </span><span class="c1">// expand will handle null when appropriate</span>
<span class="w">    </span><span class="nx">apiObject</span><span class="p">.</span><span class="nx">NestedAttributeName</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">expandNestedAttributeName</span><span class="p">(</span><span class="nx">nested</span><span class="p">)</span>

<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>
<p>To write:</p>
<div class="highlight"><pre><span></span><code><span class="kd">func</span><span class="w"> </span><span class="nx">flattenStructure</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">apiObject</span><span class="w"> </span><span class="o">*</span><span class="nx">service</span><span class="p">.</span><span class="nx">Structure</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nx">types</span><span class="p">.</span><span class="nx">List</span><span class="p">,</span><span class="w"> </span><span class="nx">diag</span><span class="p">.</span><span class="nx">Diagnostics</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ...</span>

<span class="w">    </span><span class="c1">// flatten will handle setting null when appropriate</span>
<span class="w">    </span><span class="nx">obj</span><span class="p">[</span><span class="s">&quot;nested_attribute_name&quot;</span><span class="p">]</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">flattenNestedAttributeName</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span><span class="w"> </span><span class="nx">v</span><span class="p">)</span>

<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p>To read:</p>
<div class="highlight"><pre><span></span><code><span class="kd">func</span><span class="w"> </span><span class="nx">expandStructure</span><span class="p">(</span><span class="nx">tfMap</span><span class="w"> </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{})</span><span class="w"> </span><span class="o">*</span><span class="nx">service</span><span class="p">.</span><span class="nx">Structure</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ...</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">v</span><span class="p">,</span><span class="w"> </span><span class="nx">ok</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">tfMap</span><span class="p">[</span><span class="s">&quot;nested_attribute_name&quot;</span><span class="p">].(</span><span class="o">*</span><span class="nx">schema</span><span class="p">.</span><span class="nx">Set</span><span class="p">);</span><span class="w"> </span><span class="nx">ok</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">v</span><span class="p">.</span><span class="nx">Len</span><span class="p">()</span><span class="w"> </span><span class="p">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">apiObject</span><span class="p">.</span><span class="nx">NestedAttributeName</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">expandStructures</span><span class="p">(</span><span class="nx">v</span><span class="p">.</span><span class="nx">List</span><span class="p">())</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>
<p>To write:</p>
<div class="highlight"><pre><span></span><code><span class="kd">func</span><span class="w"> </span><span class="nx">flattenStructure</span><span class="p">(</span><span class="nx">apiObject</span><span class="w"> </span><span class="o">*</span><span class="nx">service</span><span class="p">.</span><span class="nx">Structure</span><span class="p">)</span><span class="w"> </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{}</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ...</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">v</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">apiObject</span><span class="p">.</span><span class="nx">NestedAttributeName</span><span class="p">;</span><span class="w"> </span><span class="nx">v</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">tfMap</span><span class="p">[</span><span class="s">&quot;nested_attribute_name&quot;</span><span class="p">]</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">flattenNestedStructures</span><span class="p">(</span><span class="nx">v</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="nested-set-of-typestring-and-aws-list-of-string">Nested Set of TypeString and AWS List of String<a class="headerlink" href="#nested-set-of-typestring-and-aws-list-of-string" title="Permanent link">#</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="25:2"><input checked="checked" id="__tabbed_25_1" name="__tabbed_25" type="radio" /><input id="__tabbed_25_2" name="__tabbed_25" type="radio" /><div class="tabbed-labels"><label for="__tabbed_25_1">Terraform Plugin Framework (Preferred)</label><label for="__tabbed_25_2">Terraform Plugin SDK V2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>To read:</p>
<div class="highlight"><pre><span></span><code><span class="kd">func</span><span class="w"> </span><span class="nx">expandStructure</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">tfList</span><span class="w"> </span><span class="p">[]</span><span class="nx">structureData</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="nx">service</span><span class="p">.</span><span class="nx">Structure</span><span class="p">,</span><span class="w"> </span><span class="nx">diag</span><span class="p">.</span><span class="nx">Diagnostics</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ...</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">!</span><span class="nx">tfObj</span><span class="p">.</span><span class="nx">NestedAttributeName</span><span class="p">.</span><span class="nx">IsUnknown</span><span class="p">()</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">!</span><span class="nx">tfObj</span><span class="p">.</span><span class="nx">NestedAttributeName</span><span class="p">.</span><span class="nx">IsNull</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">apiObject</span><span class="p">.</span><span class="nx">NestedAttributeName</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">flex</span><span class="p">.</span><span class="nx">ExpandFrameworkStringSet</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span><span class="w"> </span><span class="nx">tfObj</span><span class="p">.</span><span class="nx">NestedAttributeName</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>
<p>To write:</p>
<div class="highlight"><pre><span></span><code><span class="kd">func</span><span class="w"> </span><span class="nx">flattenStructure</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">apiObject</span><span class="w"> </span><span class="o">*</span><span class="nx">service</span><span class="p">.</span><span class="nx">Structure</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nx">types</span><span class="p">.</span><span class="nx">List</span><span class="p">,</span><span class="w"> </span><span class="nx">diag</span><span class="p">.</span><span class="nx">Diagnostics</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ...</span>

<span class="w">    </span><span class="c1">// flex will handle setting null when appropriate</span>
<span class="w">    </span><span class="nx">obj</span><span class="p">[</span><span class="s">&quot;nested_attribute_name&quot;</span><span class="p">]</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">flex</span><span class="p">.</span><span class="nx">FlattenFrameworkStringSet</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span><span class="w"> </span><span class="nx">v</span><span class="p">)</span>

<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p>To read:</p>
<div class="highlight"><pre><span></span><code><span class="kd">func</span><span class="w"> </span><span class="nx">expandStructure</span><span class="p">(</span><span class="nx">tfMap</span><span class="w"> </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{})</span><span class="w"> </span><span class="o">*</span><span class="nx">service</span><span class="p">.</span><span class="nx">Structure</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ...</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">v</span><span class="p">,</span><span class="w"> </span><span class="nx">ok</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">tfMap</span><span class="p">[</span><span class="s">&quot;nested_attribute_name&quot;</span><span class="p">].(</span><span class="o">*</span><span class="nx">schema</span><span class="p">.</span><span class="nx">Set</span><span class="p">);</span><span class="w"> </span><span class="nx">ok</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">v</span><span class="p">.</span><span class="nx">Len</span><span class="p">()</span><span class="w"> </span><span class="p">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">apiObject</span><span class="p">.</span><span class="nx">NestedAttributeName</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">flex</span><span class="p">.</span><span class="nx">ExpandStringSet</span><span class="p">(</span><span class="nx">v</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>
<p>To write:</p>
<div class="highlight"><pre><span></span><code><span class="kd">func</span><span class="w"> </span><span class="nx">flattenStructure</span><span class="p">(</span><span class="nx">apiObject</span><span class="w"> </span><span class="o">*</span><span class="nx">service</span><span class="p">.</span><span class="nx">Structure</span><span class="p">)</span><span class="w"> </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{}</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ...</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">v</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">apiObject</span><span class="p">.</span><span class="nx">NestedAttributeName</span><span class="p">;</span><span class="w"> </span><span class="nx">v</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">tfMap</span><span class="p">[</span><span class="s">&quot;nested_attribute_name&quot;</span><span class="p">]</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">aws</span><span class="p">.</span><span class="nx">StringValueSlice</span><span class="p">(</span><span class="nx">v</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="nested-typestring-and-aws-string">Nested TypeString and AWS String<a class="headerlink" href="#nested-typestring-and-aws-string" title="Permanent link">#</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="26:2"><input checked="checked" id="__tabbed_26_1" name="__tabbed_26" type="radio" /><input id="__tabbed_26_2" name="__tabbed_26" type="radio" /><div class="tabbed-labels"><label for="__tabbed_26_1">Terraform Plugin Framework (Preferred)</label><label for="__tabbed_26_2">Terraform Plugin SDK V2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>To read:</p>
<div class="highlight"><pre><span></span><code><span class="kd">func</span><span class="w"> </span><span class="nx">expandStructure</span><span class="p">(</span><span class="nx">tfList</span><span class="w"> </span><span class="p">[]</span><span class="nx">structureData</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="nx">service</span><span class="p">.</span><span class="nx">Structure</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ...</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">!</span><span class="nx">tfObj</span><span class="p">.</span><span class="nx">NestedAttributeName</span><span class="p">.</span><span class="nx">IsUnknown</span><span class="p">()</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">!</span><span class="nx">tfObj</span><span class="p">.</span><span class="nx">NestedAttributeName</span><span class="p">.</span><span class="nx">IsNull</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">apiObject</span><span class="p">.</span><span class="nx">NestedAttributeName</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">tfObj</span><span class="p">.</span><span class="nx">NestedAttributeName</span><span class="p">.</span><span class="nx">ValueStringPointer</span><span class="p">()</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>
<p>To write:</p>
<div class="highlight"><pre><span></span><code><span class="kd">func</span><span class="w"> </span><span class="nx">flattenStructure</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">apiObject</span><span class="w"> </span><span class="o">*</span><span class="nx">service</span><span class="p">.</span><span class="nx">Structure</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nx">types</span><span class="p">.</span><span class="nx">List</span><span class="p">,</span><span class="w"> </span><span class="nx">diag</span><span class="p">.</span><span class="nx">Diagnostics</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ...</span>

<span class="w">    </span><span class="c1">// flex will handle setting null when appropriate</span>
<span class="w">    </span><span class="nx">obj</span><span class="p">[</span><span class="s">&quot;nested_attribute_name&quot;</span><span class="p">]</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">flex</span><span class="p">.</span><span class="nx">StringToFramework</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span><span class="w"> </span><span class="nx">apiObject</span><span class="p">.</span><span class="nx">NestedAttributeName</span><span class="p">)</span>

<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p>To read:</p>
<div class="highlight"><pre><span></span><code><span class="kd">func</span><span class="w"> </span><span class="nx">expandStructure</span><span class="p">(</span><span class="nx">tfMap</span><span class="w"> </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{})</span><span class="w"> </span><span class="o">*</span><span class="nx">service</span><span class="p">.</span><span class="nx">Structure</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ...</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">v</span><span class="p">,</span><span class="w"> </span><span class="nx">ok</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">tfMap</span><span class="p">[</span><span class="s">&quot;nested_attribute_name&quot;</span><span class="p">].(</span><span class="kt">string</span><span class="p">);</span><span class="w"> </span><span class="nx">ok</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">v</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">apiObject</span><span class="p">.</span><span class="nx">NestedAttributeName</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">aws</span><span class="p">.</span><span class="nx">String</span><span class="p">(</span><span class="nx">v</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>
<p>To write:</p>
<div class="highlight"><pre><span></span><code><span class="kd">func</span><span class="w"> </span><span class="nx">flattenStructure</span><span class="p">(</span><span class="nx">apiObject</span><span class="w"> </span><span class="o">*</span><span class="nx">service</span><span class="p">.</span><span class="nx">Structure</span><span class="p">)</span><span class="w"> </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{}</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ...</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">v</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">apiObject</span><span class="p">.</span><span class="nx">NestedAttributeName</span><span class="p">;</span><span class="w"> </span><span class="nx">v</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">tfMap</span><span class="p">[</span><span class="s">&quot;nested_attribute_name&quot;</span><span class="p">]</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">aws</span><span class="p">.</span><span class="nx">ToString</span><span class="p">(</span><span class="nx">v</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="nested-string-and-aws-timestamp">Nested String and AWS Timestamp<a class="headerlink" href="#nested-string-and-aws-timestamp" title="Permanent link">#</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="27:2"><input checked="checked" id="__tabbed_27_1" name="__tabbed_27" type="radio" /><input id="__tabbed_27_2" name="__tabbed_27" type="radio" /><div class="tabbed-labels"><label for="__tabbed_27_1">Terraform Plugin Framework (Preferred)</label><label for="__tabbed_27_2">Terraform Plugin SDK V2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>To ensure that parsing the read string value does not fail, use the <a href="https://pkg.go.dev/github.com/hashicorp/terraform-plugin-framework-timetypes@v0.3.0/timetypes#RFC3339">RFC3339 timetype</a>.</p>
<p>To read:</p>
<div class="highlight"><pre><span></span><code><span class="kd">func</span><span class="w"> </span><span class="nx">expandStructure</span><span class="p">(</span><span class="nx">tfList</span><span class="w"> </span><span class="p">[]</span><span class="nx">structureData</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="nx">service</span><span class="p">.</span><span class="nx">Structure</span><span class="p">,</span><span class="w"> </span><span class="nx">diag</span><span class="p">.</span><span class="nx">Diagnostics</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ...</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">!</span><span class="nx">tfObj</span><span class="p">.</span><span class="nx">NestedAttributeName</span><span class="p">.</span><span class="nx">IsUnknown</span><span class="p">()</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">!</span><span class="nx">tfObj</span><span class="p">.</span><span class="nx">NestedAttributeName</span><span class="p">.</span><span class="nx">IsNull</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">nested</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">tfObj</span><span class="p">.</span><span class="nx">NestedAttributeName</span><span class="p">.</span><span class="nx">ValueRFC3339Time</span><span class="p">()</span>
<span class="w">        </span><span class="nx">diags</span><span class="p">.</span><span class="nx">Append</span><span class="p">(</span><span class="nx">tfObj</span><span class="p">.</span><span class="nx">NestedAttributeName</span><span class="p">.</span><span class="nx">ElementsAs</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">nested</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">)</span><span class="o">...</span><span class="p">)</span>

<span class="w">        </span><span class="nx">apiObject</span><span class="p">.</span><span class="nx">NestedAttributeName</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">aws</span><span class="p">.</span><span class="nx">Time</span><span class="p">(</span><span class="nx">nested</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>
<p>To write:</p>
<div class="highlight"><pre><span></span><code><span class="kd">func</span><span class="w"> </span><span class="nx">flattenStructure</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">apiObject</span><span class="w"> </span><span class="o">*</span><span class="nx">service</span><span class="p">.</span><span class="nx">Structure</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nx">types</span><span class="p">.</span><span class="nx">List</span><span class="p">,</span><span class="w"> </span><span class="nx">diag</span><span class="p">.</span><span class="nx">Diagnostics</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ...</span>

<span class="w">    </span><span class="nx">obj</span><span class="p">[</span><span class="s">&quot;nested_attribute_name&quot;</span><span class="p">]</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">timetypes</span><span class="p">.</span><span class="nx">NewRFC3339ValueMust</span><span class="p">(</span><span class="nx">aws</span><span class="p">.</span><span class="nx">ToTime</span><span class="p">(</span><span class="nx">apiObject</span><span class="p">.</span><span class="nx">NestedAttributeName</span><span class="p">).</span><span class="nx">Format</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span class="nx">RFC3339</span><span class="p">))</span>


<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p>To ensure that parsing the read string value does not fail, define <code>nested_attribute_name</code>'s <code>schema.Schema</code> with an appropriate <a href="https://www.terraform.io/plugin/sdkv2/schemas/schema-behaviors#validatefunc"><code>ValidateFunc</code></a>:</p>
<div class="highlight"><pre><span></span><code><span class="s">&quot;nested_attribute_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">Type</span><span class="p">:</span><span class="w">         </span><span class="nx">schema</span><span class="p">.</span><span class="nx">TypeString</span><span class="p">,</span>
<span class="w">    </span><span class="c1">// ...</span>
<span class="w">    </span><span class="nx">ValidateFunc</span><span class="p">:</span><span class="w"> </span><span class="nx">validation</span><span class="p">.</span><span class="nx">IsRFC3339Time</span><span class="p">,</span>
<span class="p">},</span>
</code></pre></div>
<p>To read:</p>
<div class="highlight"><pre><span></span><code><span class="kd">func</span><span class="w"> </span><span class="nx">expandStructure</span><span class="p">(</span><span class="nx">tfMap</span><span class="w"> </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{})</span><span class="w"> </span><span class="o">*</span><span class="nx">service</span><span class="p">.</span><span class="nx">Structure</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ...</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">v</span><span class="p">,</span><span class="w"> </span><span class="nx">ok</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">tfMap</span><span class="p">[</span><span class="s">&quot;nested_attribute_name&quot;</span><span class="p">].(</span><span class="kt">string</span><span class="p">);</span><span class="w"> </span><span class="nx">ok</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">v</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">v</span><span class="p">,</span><span class="w"> </span><span class="nx">_</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">time</span><span class="p">.</span><span class="nx">Parse</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span class="nx">RFC3339</span><span class="p">,</span><span class="w"> </span><span class="nx">v</span><span class="p">)</span>

<span class="w">        </span><span class="nx">apiObject</span><span class="p">.</span><span class="nx">NestedAttributeName</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">aws</span><span class="p">.</span><span class="nx">Time</span><span class="p">(</span><span class="nx">v</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>
<p>To write:</p>
<div class="highlight"><pre><span></span><code><span class="kd">func</span><span class="w"> </span><span class="nx">flattenStructure</span><span class="p">(</span><span class="nx">apiObject</span><span class="w"> </span><span class="o">*</span><span class="nx">service</span><span class="p">.</span><span class="nx">Structure</span><span class="p">)</span><span class="w"> </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{}</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ...</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">v</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">apiObject</span><span class="p">.</span><span class="nx">NestedAttributeName</span><span class="p">;</span><span class="w"> </span><span class="nx">v</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">tfMap</span><span class="p">[</span><span class="s">&quot;nested_attribute_name&quot;</span><span class="p">]</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">aws</span><span class="p">.</span><span class="nx">ToTime</span><span class="p">(</span><span class="nx">v</span><span class="p">).</span><span class="nx">Format</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span class="nx">RFC3339</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>
</div>
</div>
</div>
<h2 id="further-guidelines">Further Guidelines<a class="headerlink" href="#further-guidelines" title="Permanent link">#</a></h2>
<p>This section includes additional topics related to data design and decision making from the Terraform AWS Provider maintainers.</p>
<h3 id="binary-values">Binary Values<a class="headerlink" href="#binary-values" title="Permanent link">#</a></h3>
<p>Certain resources may need to interact with binary (non UTF-8) data while the Terraform State only supports UTF-8 data. Configurations attempting to pass binary data to an attribute will receive an error from Terraform CLI. These attributes should expect and store the value as a Base64 string while performing any necessary encoding or decoding in the resource logic.</p>
<h3 id="destroy-state-values">Destroy State Values<a class="headerlink" href="#destroy-state-values" title="Permanent link">#</a></h3>
<p>During resource destroy operations, <em>only</em> previously applied Terraform State values are available to resource logic. Even if the configuration is updated in a manner where both the resource destroy is triggered (e.g., setting the resource meta-argument <code>count = 0</code>) and an attribute value is updated, the resource logic will only have the previously applied data values.</p>
<p>Any usage of attribute values during destroy should explicitly note in the resource documentation that the desired value must be applied into the Terraform State before any apply to destroy the resource.</p>
<h3 id="hashed-values">Hashed Values<a class="headerlink" href="#hashed-values" title="Permanent link">#</a></h3>
<p>Attribute values may be very lengthy or potentially contain <a href="#sensitive-values">Sensitive Values</a>. A potential solution might be to use a hashing algorithm, such as MD5 or SHA256, to convert the value before saving in the Terraform State to reduce its relative size or attempt to obfuscate the value. However, there are a few reasons not to do so:</p>
<ul>
<li>Terraform expects any planned values to match applied values. Ensuring proper handling during the various Terraform operations such as difference planning and Terraform State storage can be a burden.</li>
<li>Hashed values are generally unusable in downstream attribute references. If a value is hashed, it cannot be successfully used in another resource or provider configuration that expects the real value.</li>
<li>Terraform plan differences are meant to be human-readable. If a value is hashed, operators will only see the relatively unhelpful hash differences <code>abc123 -&gt; def456</code> in plans.</li>
</ul>
<p>Any value hashing implementation will not be accepted. An exception to this guidance is if the remote system explicitly provides a separate hash value in responses, in which a resource can provide a separate attribute with that hashed value.</p>
<h3 id="sensitive-values">Sensitive Values<a class="headerlink" href="#sensitive-values" title="Permanent link">#</a></h3>
<p>Marking an Attribute in the Terraform Plugin Framework Schema with <code>Sensitive</code> has the following real-world implications:</p>
<ul>
<li>All occurrences of the Attribute will have the value hidden in plan difference output. In the context of an Attribute within a Block, all Blocks will hide all values of the Attribute.</li>
<li>In Terraform CLI 0.14 (with the <code>provider_sensitive_attrs</code> experiment enabled) and later, any downstream references to the value in other configurations will hide the value in plan difference output.</li>
</ul>
<p>The value is either always hidden or not as the Terraform Plugin Framework does not currently implement conditional support for this functionality. Since Terraform Configurations have no control over the behavior, hiding values from the plan difference can incur a potentially undesirable user experience cost for operators.</p>
<p>Given that and especially with the improvements in Terraform CLI 0.14, the Terraform AWS Provider maintainers guiding principles for determining whether an Attribute should be marked as <code>Sensitive</code> is if an Attribute value:</p>
<ul>
<li>Objectively will always contain a credential, password, or other secret material. Operators can have differing opinions on what constitutes secret material and the maintainers will make best-effort determinations, if necessary consulting with the HashiCorp Security team.</li>
<li>If the Attribute is within a Block, all occurrences of the Attribute value will objectively contain secret material. Some APIs (and therefore the Terraform AWS Provider resources) implement generic "setting" and "value" structures which likely will contain a mixture of secret and non-secret material. These will generally not be accepted for marking as <code>Sensitive</code>.</li>
</ul>
<p>If you are unsatisfied with sensitive value handling, the maintainers can recommend ensuring there is a covering issue in the Terraform CLI and/or Terraform Plugin Framework projects explaining the use case. Ultimately, Terraform Plugins including the Terraform AWS Provider cannot implement their own sensitive value abilities if the upstream projects do not implement the appropriate functionality.</p>
<h3 id="virtual-attributes">Virtual Attributes<a class="headerlink" href="#virtual-attributes" title="Permanent link">#</a></h3>
<p>Attributes which only exist within Terraform and not the remote system are typically referred to as virtual attributes. Especially in the case of <a href="#destroy-state-values">Destroy State Values</a>, these attributes rely on the <a href="#implicit-state-passthrough">Implicit State Passthrough</a> behavior of values in Terraform to be available in resource logic. A fictitious example of one of these may be a resource attribute such as a <code>skip_waiting</code> flag, which is used only in the resource logic to skip the typical behavior of waiting for operations to complete.</p>
<p>If a virtual attribute has a default value that does not match the <a href="#zero-value-mapping">Zero Value Mapping</a> for the type, it is recommended to explicitly call <code>d.Set()</code> with the default value in the <code>schema.Resource</code> <code>Importer</code> <code>State</code> function, for example:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="28:2"><input checked="checked" id="__tabbed_28_1" name="__tabbed_28" type="radio" /><input id="__tabbed_28_2" name="__tabbed_28" type="radio" /><div class="tabbed-labels"><label for="__tabbed_28_1">Teraform Plugin Framework (Preferred)</label><label for="__tabbed_28_2">Teraform Plugin SDK V2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p><!-- markdownlint-disable no-space-in-emphasis -->
<div class="highlight"><pre><span></span><code><span class="p">(</span><span class="nx">r</span><span class="w"> </span><span class="o">*</span><span class="nx">ThingResource</span><span class="p">)</span><span class="w"> </span><span class="nx">ImportState</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">req</span><span class="w"> </span><span class="nx">resource</span><span class="p">.</span><span class="nx">ImportStateRequest</span><span class="p">,</span><span class="w"> </span><span class="nx">resp</span><span class="w"> </span><span class="o">*</span><span class="nx">resource</span><span class="p">.</span><span class="nx">ImportStateResponse</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ... Other import activity</span>

<span class="w">    </span><span class="nx">resp</span><span class="p">.</span><span class="nx">Diagnostics</span><span class="p">.</span><span class="nx">Append</span><span class="p">(</span><span class="nx">resp</span><span class="p">.</span><span class="nx">State</span><span class="p">.</span><span class="nx">SetAttribute</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span><span class="w"> </span><span class="nx">path</span><span class="p">.</span><span class="nx">Root</span><span class="p">(</span><span class="s">&quot;skip_waiting&quot;</span><span class="p">),</span><span class="w"> </span><span class="kc">true</span><span class="p">)</span><span class="o">...</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<!-- markdownlint-enable no-space-in-emphasis --></p>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="o">&amp;</span><span class="nx">schema</span><span class="p">.</span><span class="nx">Resource</span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ... other fields ...</span>
<span class="w">    </span><span class="nx">Importer</span><span class="p">:</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">schema</span><span class="p">.</span><span class="nx">ResourceImporter</span><span class="p">{</span>
<span class="w">        </span><span class="nx">State</span><span class="p">:</span><span class="w"> </span><span class="kd">func</span><span class="p">(</span><span class="nx">d</span><span class="w"> </span><span class="o">*</span><span class="nx">schema</span><span class="p">.</span><span class="nx">ResourceData</span><span class="p">,</span><span class="w"> </span><span class="nx">meta</span><span class="w"> </span><span class="kd">interface</span><span class="p">{})</span><span class="w"> </span><span class="p">([]</span><span class="o">*</span><span class="nx">schema</span><span class="p">.</span><span class="nx">ResourceData</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nx">d</span><span class="p">.</span><span class="nx">Set</span><span class="p">(</span><span class="s">&quot;skip_waiting&quot;</span><span class="p">,</span><span class="w"> </span><span class="kc">true</span><span class="p">)</span>

<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="p">[]</span><span class="o">*</span><span class="nx">schema</span><span class="p">.</span><span class="nx">ResourceData</span><span class="p">{</span><span class="nx">d</span><span class="p">},</span><span class="w"> </span><span class="kc">nil</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">    </span><span class="p">},</span>
<span class="p">}</span>
</code></pre></div>
</div>
</div>
</div>
<p>This helps prevent an immediate plan difference after resource import unless the configuration has a non-default value.</p>
<h2 id="glossary">Glossary<a class="headerlink" href="#glossary" title="Permanent link">#</a></h2>
<p>Below is a listing of relevant terms and descriptions for data handling and conversion in the Terraform AWS Provider to establish common conventions throughout this documentation.
This list is not exhaustive of all concepts of Terraform Plugins, the Terraform AWS Provider, or the data handling that occurs during Terraform runs, but these should generally provide enough context about the topics discussed here.</p>
<ul>
<li><strong>AWS Go SDK</strong>: Library that converts Go code into AWS Service API compatible operations and data types.</li>
<li><strong>AWS Go SDK Model</strong>: AWS Go SDK compatible format of AWS Service API Model.</li>
<li><strong>AWS Go SDK Service</strong>: AWS Service API Go code generated from the AWS Go SDK Model. Generated by the AWS Go SDK code.</li>
<li><strong>AWS Service API</strong>: Logical boundary of an AWS service by API endpoint. Some large AWS services may be marketed with many different product names under the same service API (e.g., VPC functionality is part of the EC2 API) and vice-versa where some services may be marketed with one product name but are split into multiple service APIs (e.g., Single Sign-On functionality is split into the Identity Store and SSO Admin APIs).</li>
<li><strong>AWS Service API Model</strong>: Declarative description of the AWS Service API operations and data types. Generated by the AWS service teams. Used to operate the API and generate API clients such as the various AWS Software Development Kits (SDKs).</li>
<li><strong>Terraform Language</strong> ("Configuration"): Configuration syntax interpreted by the Terraform CLI. An implementation of <a href="https://github.com/hashicorp/hcl">HCL</a>. <a href="https://www.terraform.io/language">Full Documentation</a>.</li>
<li><strong>Terraform Plugin Protocol</strong>: Description of Terraform Plugin operations and data types. Currently based on the Remote Procedure Call (RPC) library <a href="https://grpc.io/"><code>gRPC</code></a>.</li>
<li><strong>Terraform Plugin Go</strong>: Low-level library that converts Go code into Terraform Plugin Protocol compatible operations and data types. Not currently implemented in the Terraform AWS Provider. <a href="https://github.com/hashicorp/terraform-plugin-go">Project</a>.</li>
<li><strong>Terraform Plugin Framework</strong>: High-level library that converts Go code into Terraform Plugin Protocol compatible operations and data types. This library replaces Plugin SDK V2. See <a href="../terraform-plugin-development-packages/">Terraform Plugin Development Packages</a> for more information. <a href="https://github.com/hashicorp/terraform-plugin-framework">Project</a>.</li>
<li><strong>Terraform Plugin SDK V2</strong>: High-level library that converts Go code into Terraform Plugin Protocol compatible operations and data types. This library is replaced by Plugin Framework. See <a href="../terraform-plugin-development-packages/">Terraform Plugin Development Packages</a> for more information. <a href="https://github.com/hashicorp/terraform-plugin-sdk">Project</a>.</li>
<li><strong>Terraform Plugin Schema</strong>: Declarative description of types and domain-specific behaviors for a Terraform provider, including resources and attributes. <a href="https://developer.hashicorp.com/terraform/plugin/framework/handling-data/schemas">Framework Documentation</a>. <a href="https://www.terraform.io/plugin/sdkv2/schemas">SDK V2 Documentation</a>.</li>
<li><strong>Terraform State</strong>: Bindings between objects in a remote system (e.g., an EC2 VPC) and a Terraform configuration (e.g., an <code>aws_vpc</code> resource configuration). <a href="https://www.terraform.io/language/state">Full Documentation</a>.</li>
</ul>
<p>AWS Service API Models use specific terminology to describe data and types:</p>
<ul>
<li><strong>Enumeration</strong>: Collection of valid values for a Shape.</li>
<li><strong>Operation</strong>: An API call. Includes information about input, output, and error Shapes.</li>
<li><strong>Shape</strong>: Type description.<ul>
<li><strong>boolean</strong>: Boolean value.</li>
<li><strong>float</strong>: Fractional numeric value. May contain value validation such as maximum or minimum.</li>
<li><strong>integer</strong>: Whole numeric value. May contain value validation such as maximum or minimum.</li>
<li><strong>list</strong>: Collection that contains member Shapes. May contain value validation such as maximum or minimum keys.</li>
<li><strong>map</strong>: Grouping of key Shape to value Shape. May contain value validation such as maximum or minimum keys.</li>
<li><strong>string</strong>: Sequence of characters. May contain value validation such as an enumeration, regular expression pattern, maximum length, or minimum length.</li>
<li><strong>structure</strong>: Object that contains member Shapes. May represent an error.</li>
<li><strong>timestamp</strong>: Date and time value.</li>
</ul>
</li>
</ul>
<p>The Terraform Language uses the following terminology to describe data and types:</p>
<ul>
<li><strong>Attribute</strong> ("Argument"): Assigns a name to a data value.</li>
<li><strong>Block</strong> ("Configuration Block"): Container type for Attributes or Blocks.</li>
<li><strong>null</strong>: Virtual value equivalent to the Attribute not being set.</li>
<li><strong>Types</strong>: <a href="https://www.terraform.io/language/expressions/types">Full Documentation</a>.<ul>
<li><strong>any</strong>: Virtual type representing any concrete type in type declarations.</li>
<li><strong>bool</strong>: Boolean value.</li>
<li><strong>list</strong> ("tuple"): Ordered collection of values.</li>
<li><strong>map</strong> ("object"): Grouping of string keys to values.</li>
<li><strong>number</strong>: Numeric value. Can be either whole or fractional numbers.</li>
<li><strong>set</strong>: Unordered collection of values.</li>
<li><strong>string</strong>: Sequence of characters.</li>
</ul>
</li>
</ul>
<p>Terraform Plugin Framework Schemas use the following terminology to describe data and types:</p>
<ul>
<li><strong>Resource Schema</strong>: Grouping of Schema that represents a Terraform Resource.</li>
<li><strong>Schema</strong>: Represents an Attribute or Block. Has a Type and Behavior(s).</li>
<li><strong>Types</strong>: <a href="https://developer.hashicorp.com/terraform/plugin/framework/handling-data/types">Full Documentation</a>.<ul>
<li><strong>Bool</strong>: Boolean value.</li>
<li><strong>Float64</strong>: Fractional numeric value.</li>
<li><strong>Int64</strong>: Whole numeric value.</li>
<li><strong>List</strong>: An ordered collection of values or Blocks.</li>
<li><strong>Map</strong>: Grouping of key Type to value Type.</li>
<li><strong>Set</strong>: Unordered collection of values or Blocks.</li>
<li><strong>String</strong>: Sequence of characters value.</li>
</ul>
</li>
</ul>
<p>Terraform Plugin SDK Schemas use the following terminology to describe data and types:</p>
<ul>
<li><strong>Behaviors</strong>: <a href="https://www.terraform.io/plugin/sdkv2/schemas/schema-behaviors">Full Documentation</a>.<ul>
<li><strong>Sensitive</strong>: Whether the value should be hidden from user interface output.</li>
<li><strong>StateFunc</strong>: Conversion function between the value set by the Terraform Plugin and the value seen by Terraform Plugin SDK (and ultimately the Terraform State).</li>
</ul>
</li>
<li><strong>Element</strong>: Underlying value type for a collection or grouping Schema.</li>
<li><strong>Resource Data</strong>: Data representation of a Resource Schema. Translation layer between the Schema and Go code of a Terraform Plugin. In the Terraform Plugin SDK, the <code>ResourceData</code> Go type.</li>
<li><strong>Resource Schema</strong>: Grouping of Schema that represents a Terraform Resource.</li>
<li><strong>Schema</strong>: Represents an Attribute or Block. Has a Type and Behavior(s).</li>
<li><strong>Types</strong>: <a href="https://www.terraform.io/plugin/sdkv2/schemas/schema-types">Full Documentation</a>.<ul>
<li><strong>TypeBool</strong>: Boolean value.</li>
<li><strong>TypeFloat</strong>: Fractional numeric value.</li>
<li><strong>TypeInt</strong>: Whole numeric value.</li>
<li><strong>TypeList</strong>: Ordered collection of values or Blocks.</li>
<li><strong>TypeMap</strong>: Grouping of key Type to value Type.</li>
<li><strong>TypeSet</strong>: Unordered collection of values or Blocks.</li>
<li><strong>TypeString</strong>: Sequence of characters value.</li>
</ul>
</li>
</ul>
<p>Some other terms that may be used:</p>
<ul>
<li><strong>Block Attribute</strong> ("Child Attribute", "Nested Attribute"): Block level Attribute.</li>
<li><strong>Expand Function</strong>: Function that converts Terraform Plugin SDK data into the equivalent AWS Go SDK type.</li>
<li><strong>Flatten Function</strong>: Function that converts an AWS Go SDK type into the equivalent Terraform Plugin SDK data.</li>
<li><strong>NullableTypeBool</strong>: (SDK V2 Only) Workaround "schema type" created to accept a boolean value that is not configured in addition to true and false. Not implemented in the Terraform Plugin SDK, but uses <code>TypeString</code> (where <code>""</code> represents not configured) and additional validation.</li>
<li><strong>NullableTypeFloat</strong>: (SDK V2 Only) Workaround "schema type" created to accept a fractional numeric value that is not configured in addition to <code>0.0</code>. Not implemented in the Terraform Plugin SDK, but uses <code>TypeString</code> (where <code>""</code> represents not configured) and additional validation.</li>
<li><strong>NullableTypeInt</strong>: (SDK V2 Only) Workaround "schema type" created to accept a whole numeric value that is not configured in addition to <code>0</code>. Not implemented in the Terraform Plugin SDK, but uses <code>TypeString</code> (where <code>""</code> represents not configured) and additional validation.</li>
<li>**Root Attribute: Resource top-level Attribute or Block.</li>
</ul>
<p>For additional reference, the Terraform documentation also includes a <a href="https://www.terraform.io/docs/glossary.html">full glossary of terminology</a>.</p>





                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      IBM Corp.
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.instant", "content.tabs.link", "content.code.copy"], "search": "../assets/javascripts/workers/search.e5c33ebb.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.51d95adb.min.js"></script>
      
    
  </body>
</html>