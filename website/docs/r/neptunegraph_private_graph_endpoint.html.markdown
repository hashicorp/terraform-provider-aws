---
subcategory: "Neptune Analytics"
layout: "aws"
page_title: "AWS: aws_neptunegraph_private_graph_endpoint"
description: |-
  Manages an AWS Neptune Analytics Private Graph Endpoint.
---

# Resource: aws_neptunegraph_private_graph_endpoint

Manages an Amazon Neptune Analytics Private Graph Endpoint.

## Example Usage

Creates a private graph endpoint for Neptune Graph with VPC configuration, connecting through specified subnets and secured by a custom security group that allows inbound traffic on port 8182.

### Basic Usage

```terraform
data "aws_region" "current" {}

# Example VPC for Neptune Graph
resource "aws_vpc" "example" {
  cidr_block = "10.0.0.0/16"

  tags = {
    Name = "neptune-graph-vpc"
  }
}

# Example Subnet 1
resource "aws_subnet" "example1" {
  vpc_id            = aws_vpc.example.id
  cidr_block        = "10.0.1.0/24"
  availability_zone = "${data.aws_region.current.region}a"

  tags = {
    Name = "neptune-graph-subnet-1"
  }
}

# Example Subnet 2
resource "aws_subnet" "example2" {
  vpc_id            = aws_vpc.example.id
  cidr_block        = "10.0.2.0/24"
  availability_zone = "${data.aws_region.current.region}b"

  tags = {
    Name = "neptune-graph-subnet-2"
  }
}

# Security Group for Neptune Graph
resource "aws_security_group" "example" {
  name_prefix = "neptune-graph-sg"
  description = "Security group for Neptune Graph"
  vpc_id      = aws_vpc.example.id

  ingress {
    from_port   = 8182
    to_port     = 8182
    protocol    = "tcp"
    cidr_blocks = ["10.0.0.0/16"]
  }

  tags = {
    Name = "neptune-graph-sg"
  }
}

# Example Graph resource
resource "aws_neptunegraph_graph" "example" {
  graph_name         = "example-graph-test-20260112"
  provisioned_memory = 16
}

# Private Graph Endpoint
resource "aws_neptunegraph_private_graph_endpoint" "example" {
  graph_identifier   = aws_neptunegraph_graph.example.id
  vpc_id             = aws_ec2_vpc.example.id
  subnet_ids         = [aws_ec2_subnet.example1.id, aws_ec2_subnet.example2.id]
  security_group_ids = [aws_ec2_security_group.example.id]
}
```

## Argument Reference

The following arguments are required:

* `graph_identifier` - (String) The unique identifier of the Neptune Analytics graph.
* `vpcId` - (String) The VPC in which the private graph endpoint needs to be created.

The following arguments are optional:

* `region` - (Optional) Region where this resource will be managed. Defaults to the Region set in the provider configuration.
* `subnetIds` - (Set of String) Subnets in which private graph endpoint ENIs are created.
* `vpcSecurityGroupIds` - (Set of String) Security groups to be attached to the private graph endpoint.

## Attribute Reference

This resource exports the following attributes in addition to the arguments above:

* `id` (String) Uniquely identifies the resource. Same as `private_graph_endpoint_identifier`.
* `private_graph_endpoint_identifier` (String) - PrivateGraphEndpoint resource identifier generated by concatenating the associated GraphIdentifier and VpcId with an underscore separator. 
For example, if GraphIdentifier is g-12a3bcdef4 and VpcId is vpc-111122223333aabbc, the generated PrivateGraphEndpointIdentifier will be g-12a3bcdef4_vpc-111122223333aabbc.
* `vpcEndpointId` (String) - VPC endpoint that provides a private connection between the Graph and specified VPC.

## Timeouts

[Configuration options](https://developer.hashicorp.com/terraform/language/resources/syntax#operation-timeouts):

* `create` - (Default `30m`)
* `delete` - (Default `30m`)

## Import

In Terraform v1.5.0 and later, use an [`import` block](https://developer.hashicorp.com/terraform/language/import) to import Neptune Analytics Private Graph Endpoint using the `private_graph_endpoint_identifier`. For example:

```terraform
import {
  to = aws_neptunegraph_private_graph_endpoint.example
  id = "g-12a3bcdef4_vpc-111122223333aabbc"
}
```

Using `terraform import`, import Neptune Analytics Private Graph Endpoint using the `private_graph_endpoint_identifier`. For example:

```console
% terraform import aws_neptunegraph_private_graph_endpoint.example g-12a3bcdef4_vpc-111122223333aabbc
```
