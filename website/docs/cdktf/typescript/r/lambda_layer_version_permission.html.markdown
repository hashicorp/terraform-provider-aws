---
subcategory: "Lambda"
layout: "aws"
page_title: "AWS: aws_lambda_layer_version_permission"
description: |-
  Manages an AWS Lambda Layer Version Permission.
---


<!-- Please do not edit this file, it is generated. -->
# Resource: aws_lambda_layer_version_permission

Manages an AWS Lambda Layer Version Permission. Use this resource to share Lambda Layers with other AWS accounts, organizations, or make them publicly accessible.

For information about Lambda Layer Permissions and how to use them, see [Using Resource-based Policies for AWS Lambda](https://docs.aws.amazon.com/lambda/latest/dg/access-control-resource-based.html#permissions-resource-xaccountlayer).

~> **Note:** Setting `skipDestroy` to `true` means that the AWS Provider will not destroy any layer version permission, even when running `terraform destroy`. Layer version permissions are thus intentional dangling resources that are not managed by Terraform and may incur extra expense in your AWS account.

## Example Usage

### Share Layer with Specific Account

```typescript
// DO NOT EDIT. Code generated by 'cdktf convert' - Please report bugs at https://cdk.tf/bug
import { Construct } from "constructs";
import { Token, TerraformStack } from "cdktf";
/*
 * Provider bindings are generated by running `cdktf get`.
 * See https://cdk.tf/provider-generation for more details.
 */
import { LambdaLayerVersion } from "./.gen/providers/aws/lambda-layer-version";
import { LambdaLayerVersionPermission } from "./.gen/providers/aws/lambda-layer-version-permission";
class MyConvertedCode extends TerraformStack {
  constructor(scope: Construct, name: string) {
    super(scope, name);
    const example = new LambdaLayerVersion(this, "example", {
      compatibleRuntimes: ["nodejs20.x", "python3.12"],
      description: "Common utilities for Lambda functions",
      filename: "layer.zip",
      layerName: "shared_utilities",
    });
    const awsLambdaLayerVersionPermissionExample =
      new LambdaLayerVersionPermission(this, "example_1", {
        action: "lambda:GetLayerVersion",
        layerName: example.layerName,
        principal: "123456789012",
        statementId: "dev-account-access",
        versionNumber: Token.asNumber(example.version),
      });
    /*This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.*/
    awsLambdaLayerVersionPermissionExample.overrideLogicalId("example");
  }
}

```

### Share Layer with Organization

```typescript
// DO NOT EDIT. Code generated by 'cdktf convert' - Please report bugs at https://cdk.tf/bug
import { Construct } from "constructs";
import { Token, TerraformStack } from "cdktf";
/*
 * Provider bindings are generated by running `cdktf get`.
 * See https://cdk.tf/provider-generation for more details.
 */
import { LambdaLayerVersionPermission } from "./.gen/providers/aws/lambda-layer-version-permission";
class MyConvertedCode extends TerraformStack {
  constructor(scope: Construct, name: string) {
    super(scope, name);
    new LambdaLayerVersionPermission(this, "example", {
      action: "lambda:GetLayerVersion",
      layerName: Token.asString(awsLambdaLayerVersionExample.layerName),
      organizationId: "o-1234567890",
      principal: "*",
      statementId: "org-wide-access",
      versionNumber: Token.asNumber(awsLambdaLayerVersionExample.version),
    });
  }
}

```

### Share Layer Publicly

```typescript
// DO NOT EDIT. Code generated by 'cdktf convert' - Please report bugs at https://cdk.tf/bug
import { Construct } from "constructs";
import { Token, TerraformStack } from "cdktf";
/*
 * Provider bindings are generated by running `cdktf get`.
 * See https://cdk.tf/provider-generation for more details.
 */
import { LambdaLayerVersionPermission } from "./.gen/providers/aws/lambda-layer-version-permission";
class MyConvertedCode extends TerraformStack {
  constructor(scope: Construct, name: string) {
    super(scope, name);
    new LambdaLayerVersionPermission(this, "example", {
      action: "lambda:GetLayerVersion",
      layerName: Token.asString(awsLambdaLayerVersionExample.layerName),
      principal: "*",
      statementId: "public-access",
      versionNumber: Token.asNumber(awsLambdaLayerVersionExample.version),
    });
  }
}

```

### Multiple Account Access

```typescript
// DO NOT EDIT. Code generated by 'cdktf convert' - Please report bugs at https://cdk.tf/bug
import { Construct } from "constructs";
import { Token, TerraformStack } from "cdktf";
/*
 * Provider bindings are generated by running `cdktf get`.
 * See https://cdk.tf/provider-generation for more details.
 */
import { LambdaLayerVersionPermission } from "./.gen/providers/aws/lambda-layer-version-permission";
class MyConvertedCode extends TerraformStack {
  constructor(scope: Construct, name: string) {
    super(scope, name);
    new LambdaLayerVersionPermission(this, "dev_account", {
      action: "lambda:GetLayerVersion",
      layerName: example.layerName,
      principal: "111111111111",
      statementId: "dev-account",
      versionNumber: Token.asNumber(example.version),
    });
    new LambdaLayerVersionPermission(this, "prod_account", {
      action: "lambda:GetLayerVersion",
      layerName: example.layerName,
      principal: "333333333333",
      statementId: "prod-account",
      versionNumber: Token.asNumber(example.version),
    });
    new LambdaLayerVersionPermission(this, "staging_account", {
      action: "lambda:GetLayerVersion",
      layerName: example.layerName,
      principal: "222222222222",
      statementId: "staging-account",
      versionNumber: Token.asNumber(example.version),
    });
  }
}

```

## Argument Reference

The following arguments are required:

* `action` - (Required) Action that will be allowed. `lambda:GetLayerVersion` is the standard value for layer access.
* `layerName` - (Required) Name or ARN of the Lambda Layer.
* `principal` - (Required) AWS account ID that should be able to use your Lambda Layer. Use `*` to share with all AWS accounts.
* `statementId` - (Required) Unique identifier for the permission statement.
* `versionNumber` - (Required) Version of Lambda Layer to grant access to. Note: permissions only apply to a single version of a layer.

The following arguments are optional:

* `organizationId` - (Optional) AWS Organization ID that should be able to use your Lambda Layer. `principal` should be set to `*` when `organizationId` is provided.
* `region` - (Optional) Region where this resource will be [managed](https://docs.aws.amazon.com/general/latest/gr/rande.html#regional-endpoints). Defaults to the Region set in the [provider configuration](https://registry.terraform.io/providers/hashicorp/aws/latest/docs#aws-configuration-reference).
* `skipDestroy` - (Optional) Whether to retain the permission when the resource is destroyed. Default is `false`.

## Attribute Reference

This resource exports the following attributes in addition to the arguments above:

* `id` - Layer name and version number, separated by a comma (`,`).
* `policy` - Full Lambda Layer Permission policy.
* `revisionId` - Unique identifier for the current revision of the policy.

## Import

In Terraform v1.5.0 and later, use an [`import` block](https://developer.hashicorp.com/terraform/language/import) to import Lambda Layer Permissions using `layerName` and `versionNumber`, separated by a comma (`,`). For example:

```typescript
// DO NOT EDIT. Code generated by 'cdktf convert' - Please report bugs at https://cdk.tf/bug
import { Construct } from "constructs";
import { TerraformStack } from "cdktf";
/*
 * Provider bindings are generated by running `cdktf get`.
 * See https://cdk.tf/provider-generation for more details.
 */
import { LambdaLayerVersionPermission } from "./.gen/providers/aws/lambda-layer-version-permission";
class MyConvertedCode extends TerraformStack {
  constructor(scope: Construct, name: string) {
    super(scope, name);
    LambdaLayerVersionPermission.generateConfigForImport(
      this,
      "example",
      "arn:aws:lambda:us-west-2:123456789012:layer:shared_utilities,1"
    );
  }
}

```

For backwards compatibility, the following legacy `terraform import` command is also supported:

```console
% terraform import aws_lambda_layer_version_permission.example arn:aws:lambda:us-west-2:123456789012:layer:shared_utilities,1
```

<!-- cache-key: cdktf-0.20.8 input-a49e40dd11a1f11a080f11c3cc347f86a43f422d194ecc77f6d1c8cd087738da -->