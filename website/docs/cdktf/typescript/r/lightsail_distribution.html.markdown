---
subcategory: "Lightsail"
layout: "aws"
page_title: "AWS: aws_lightsail_distribution"
description: |-
  Terraform resource for managing an AWS Lightsail Distribution.
---


<!-- Please do not edit this file, it is generated. -->
# Resource: aws_lightsail_distribution

Terraform resource for managing an AWS Lightsail Distribution.

## Example Usage

### Basic Usage

Below is a basic example with a bucket as an origin.

```typescript
// DO NOT EDIT. Code generated by 'cdktf convert' - Please report bugs at https://cdk.tf/bug
import { Construct } from "constructs";
import { TerraformStack } from "cdktf";
/*
 * Provider bindings are generated by running `cdktf get`.
 * See https://cdk.tf/provider-generation for more details.
 */
import { LightsailBucket } from "./.gen/providers/aws/lightsail-bucket";
import { LightsailDistribution } from "./.gen/providers/aws/lightsail-distribution";
class MyConvertedCode extends TerraformStack {
  constructor(scope: Construct, name: string) {
    super(scope, name);
    const test = new LightsailBucket(this, "test", {
      bundleId: "small_1_0",
      name: "test-bucket",
    });
    const awsLightsailDistributionTest = new LightsailDistribution(
      this,
      "test_1",
      {
        bundleId: "small_1_0",
        cacheBehaviorSettings: {
          allowedHttpMethods: "GET,HEAD,OPTIONS,PUT,PATCH,POST,DELETE",
          cachedHttpMethods: "GET,HEAD",
          defaultTtl: 86400,
          forwardedCookies: {
            option: "none",
          },
          forwardedHeaders: {
            option: "default",
          },
          forwardedQueryStrings: {
            option: false,
          },
          maximumTtl: 31536000,
          minimumTtl: 0,
        },
        defaultCacheBehavior: {
          behavior: "cache",
        },
        name: "test-distribution",
        origin: {
          name: test.name,
          regionName: test.region,
        },
      }
    );
    /*This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.*/
    awsLightsailDistributionTest.overrideLogicalId("test");
  }
}

```

### instance origin example

Below is an example of an instance as the origin.

```typescript
// DO NOT EDIT. Code generated by 'cdktf convert' - Please report bugs at https://cdk.tf/bug
import { Construct } from "constructs";
import { Fn, Token, TerraformStack } from "cdktf";
/*
 * Provider bindings are generated by running `cdktf get`.
 * See https://cdk.tf/provider-generation for more details.
 */
import { DataAwsAvailabilityZones } from "./.gen/providers/aws/data-aws-availability-zones";
import { LightsailDistribution } from "./.gen/providers/aws/lightsail-distribution";
import { LightsailInstance } from "./.gen/providers/aws/lightsail-instance";
import { LightsailStaticIp } from "./.gen/providers/aws/lightsail-static-ip";
import { LightsailStaticIpAttachment } from "./.gen/providers/aws/lightsail-static-ip-attachment";
class MyConvertedCode extends TerraformStack {
  constructor(scope: Construct, name: string) {
    super(scope, name);
    const test = new LightsailStaticIp(this, "test", {
      name: "test-static-ip",
    });
    const available = new DataAwsAvailabilityZones(this, "available", {
      filter: [
        {
          name: "opt-in-status",
          values: ["opt-in-not-required"],
        },
      ],
      state: "available",
    });
    const awsLightsailInstanceTest = new LightsailInstance(this, "test_2", {
      availabilityZone: Token.asString(Fn.lookupNested(available.names, ["0"])),
      blueprintId: "amazon_linux_2",
      bundleId: "micro_1_0",
      name: "test-instance",
    });
    /*This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.*/
    awsLightsailInstanceTest.overrideLogicalId("test");
    const awsLightsailStaticIpAttachmentTest = new LightsailStaticIpAttachment(
      this,
      "test_3",
      {
        instanceName: Token.asString(awsLightsailInstanceTest.name),
        staticIpName: test.name,
      }
    );
    /*This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.*/
    awsLightsailStaticIpAttachmentTest.overrideLogicalId("test");
    const awsLightsailDistributionTest = new LightsailDistribution(
      this,
      "test_4",
      {
        bundleId: "small_1_0",
        defaultCacheBehavior: {
          behavior: "cache",
        },
        dependsOn: [awsLightsailStaticIpAttachmentTest],
        name: "test-distribution",
        origin: {
          name: Token.asString(awsLightsailInstanceTest.name),
          regionName: Token.asString(available.id),
        },
      }
    );
    /*This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.*/
    awsLightsailDistributionTest.overrideLogicalId("test");
  }
}

```

### lb origin example

Below is an example with a load balancer as an origin

```typescript
// DO NOT EDIT. Code generated by 'cdktf convert' - Please report bugs at https://cdk.tf/bug
import { Construct } from "constructs";
import { Token, Fn, TerraformStack } from "cdktf";
/*
 * Provider bindings are generated by running `cdktf get`.
 * See https://cdk.tf/provider-generation for more details.
 */
import { DataAwsAvailabilityZones } from "./.gen/providers/aws/data-aws-availability-zones";
import { LightsailDistribution } from "./.gen/providers/aws/lightsail-distribution";
import { LightsailInstance } from "./.gen/providers/aws/lightsail-instance";
import { LightsailLb } from "./.gen/providers/aws/lightsail-lb";
import { LightsailLbAttachment } from "./.gen/providers/aws/lightsail-lb-attachment";
class MyConvertedCode extends TerraformStack {
  constructor(scope: Construct, name: string) {
    super(scope, name);
    const test = new LightsailLb(this, "test", {
      healthCheckPath: "/",
      instancePort: Token.asNumber("80"),
      name: "test-load-balancer",
      tags: {
        foo: "bar",
      },
    });
    const available = new DataAwsAvailabilityZones(this, "available", {
      filter: [
        {
          name: "opt-in-status",
          values: ["opt-in-not-required"],
        },
      ],
      state: "available",
    });
    const awsLightsailInstanceTest = new LightsailInstance(this, "test_2", {
      availabilityZone: Token.asString(Fn.lookupNested(available.names, ["0"])),
      blueprintId: "amazon_linux_2",
      bundleId: "nano_3_0",
      name: "test-instance",
    });
    /*This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.*/
    awsLightsailInstanceTest.overrideLogicalId("test");
    const awsLightsailLbAttachmentTest = new LightsailLbAttachment(
      this,
      "test_3",
      {
        instanceName: Token.asString(awsLightsailInstanceTest.name),
        lbName: test.name,
      }
    );
    /*This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.*/
    awsLightsailLbAttachmentTest.overrideLogicalId("test");
    const awsLightsailDistributionTest = new LightsailDistribution(
      this,
      "test_4",
      {
        bundleId: "small_1_0",
        defaultCacheBehavior: {
          behavior: "cache",
        },
        dependsOn: [awsLightsailLbAttachmentTest],
        name: "test-distribution",
        origin: {
          name: test.name,
          regionName: Token.asString(available.id),
        },
      }
    );
    /*This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.*/
    awsLightsailDistributionTest.overrideLogicalId("test");
  }
}

```

## Argument Reference

The following arguments are required:

* `name` - (Required) Name of the distribution.
* `bundleId` - (Required) Bundle ID to use for the distribution.
* `defaultCacheBehavior` - (Required) Object that describes the default cache behavior of the distribution. [Detailed below](#default_cache_behavior)
* `origin` - (Required) Object that describes the origin resource of the distribution, such as a Lightsail instance, bucket, or load balancer. [Detailed below](#origin)
* `cacheBehaviorSettings` - (Required) An object that describes the cache behavior settings of the distribution. [Detailed below](#cache_behavior_settings)

The following arguments are optional:

* `cacheBehavior` - (Optional) A set of configuration blocks that describe the per-path cache behavior of the distribution. [Detailed below](#cache_behavior)
* `certificateName` - (Optional) The name of the SSL/TLS certificate attached to the distribution, if any.
* `ipAddressType` - (Optional) The IP address type of the distribution. Default: `dualstack`.
* `isEnabled` - (Optional) Indicates whether the distribution is enabled. Default: `true`.
* `tags` - (Optional) Map of tags for the Lightsail Distribution. To create a key-only tag, use an empty string as the value. If configured with a provider [`defaultTags` configuration block](https://registry.terraform.io/providers/hashicorp/aws/latest/docs#default_tags-configuration-block) present, tags with matching keys will overwrite those defined at the provider-level.

### default_cache_behavior

* `behavior` - (Required) The cache behavior of the distribution. Valid values: `cache` and `dont-cache`.

### origin

* `name` - (Required) The name of the origin resource. Your origin can be an instance with an attached static IP, a bucket, or a load balancer that has at least one instance attached to it.
* `protocolPolicy` - (Optional) The protocol that your Amazon Lightsail distribution uses when establishing a connection with your origin to pull content.
* `regionName` - (Required) The AWS Region name of the origin resource.
* `resourceType` - (Computed) The resource type of the origin resource (e.g., Instance).

### cache_behavior_settings

* `allowedHttpMethods` - (Optional) The HTTP methods that are processed and forwarded to the distribution's origin.
* `cachedHttpMethods` - (Optional) The HTTP method responses that are cached by your distribution.
* `defaultTtl` - (Optional) The default amount of time that objects stay in the distribution's cache before the distribution forwards another request to the origin to determine whether the content has been updated.
* `forwardedCookies` - (Required) An object that describes the cookies that are forwarded to the origin. Your content is cached based on the cookies that are forwarded. [Detailed below](#forwarded_cookies)
* `forwardedHeaders` - (Required) An object that describes the headers that are forwarded to the origin. Your content is cached based on the headers that are forwarded. [Detailed below](#forwarded_headers)
* `forwardedQueryStrings` - (Required) An object that describes the query strings that are forwarded to the origin. Your content is cached based on the query strings that are forwarded. [Detailed below](#forwarded_query_strings)
* `maximumTtl` - (Optional) The maximum amount of time that objects stay in the distribution's cache before the distribution forwards another request to the origin to determine whether the object has been updated.
* `minimumTtl` - (Optional) The minimum amount of time that objects stay in the distribution's cache before the distribution forwards another request to the origin to determine whether the object has been updated.

#### forwarded_cookies

* `cookiesAllowList` - (Required) The specific cookies to forward to your distribution's origin.
* `option` - (Optional) Specifies which cookies to forward to the distribution's origin for a cache behavior: all, none, or allow-list to forward only the cookies specified in the cookiesAllowList parameter.

#### forwarded_headers

* `headersAllowList` - (Required) The specific headers to forward to your distribution's origin.
* `option` - (Optional) The headers that you want your distribution to forward to your origin and base caching on.

#### forwarded_query_strings

* `option` - (Optional) Indicates whether the distribution forwards and caches based on query strings.
* `queryStringsAllowedList` - (Required) The specific query strings that the distribution forwards to the origin.

### cache_behavior

* `behavior` - (Required) The cache behavior for the specified path.
* `path` - (Required) The path to a directory or file to cached, or not cache. Use an asterisk symbol to specify wildcard directories (path/to/assets/\*), and file types (\*.html, \*jpg, \*js). Directories and file paths are case-sensitive.

## Attribute Reference

This resource exports the following attributes in addition to the arguments above:

* `alternativeDomainNames` - The alternate domain names of the distribution.
* `arn` - The Amazon Resource Name (ARN) of the distribution.
* `createdAt` - The timestamp when the distribution was created.
* `domainName` - The domain name of the distribution.
* `location` - An object that describes the location of the distribution, such as the AWS Region and Availability Zone. [Detailed below](#location)
* `originPublicDns` - The public DNS of the origin.
* `resourceType` - The Lightsail resource type (e.g., Distribution).
* `status` - The status of the distribution.
* `supportCode` - The support code. Include this code in your email to support when you have questions about your Lightsail distribution. This code enables our support team to look up your Lightsail information more easily.
* `tagsAll` - A map of tags assigned to the resource, including those inherited from the provider [`defaultTags` configuration block](https://registry.terraform.io/providers/hashicorp/aws/latest/docs#default_tags-configuration-block).

### location

* `availabilityZone` - The Availability Zone. Follows the format us-east-2a (case-sensitive).
* `regionName` - The AWS Region name.

## Timeouts

[Configuration options](https://developer.hashicorp.com/terraform/language/resources/syntax#operation-timeouts):

* `create` - (Default `60m`)
* `update` - (Default `180m`)
* `delete` - (Default `90m`)

## Import

In Terraform v1.5.0 and later, use an [`import` block](https://developer.hashicorp.com/terraform/language/import) to import Lightsail Distribution using the `id`. For example:

```typescript
// DO NOT EDIT. Code generated by 'cdktf convert' - Please report bugs at https://cdk.tf/bug
import { Construct } from "constructs";
import { TerraformStack } from "cdktf";
/*
 * Provider bindings are generated by running `cdktf get`.
 * See https://cdk.tf/provider-generation for more details.
 */
import { LightsailDistribution } from "./.gen/providers/aws/lightsail-distribution";
class MyConvertedCode extends TerraformStack {
  constructor(scope: Construct, name: string) {
    super(scope, name);
    LightsailDistribution.generateConfigForImport(
      this,
      "example",
      "rft-8012925589"
    );
  }
}

```

Using `terraform import`, import Lightsail Distribution using the `id`. For example:

```console
% terraform import aws_lightsail_distribution.example rft-8012925589
```

<!-- cache-key: cdktf-0.20.1 input-079fa9f5c14e2177dea920793fcdd0e0faa5a3555a595860660d177f155b2df8 -->