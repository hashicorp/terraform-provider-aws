---
subcategory: "Lightsail"
layout: "aws"
page_title: "AWS: aws_lightsail_distribution"
description: |-
  Manages a Lightsail content delivery network (CDN) distribution.
---


<!-- Please do not edit this file, it is generated. -->
# Resource: aws_lightsail_distribution

Manages a Lightsail content delivery network (CDN) distribution. Use this resource to cache content at edge locations and reduce latency for users accessing your content.

## Example Usage

### Basic Usage

```typescript
// DO NOT EDIT. Code generated by 'cdktf convert' - Please report bugs at https://cdk.tf/bug
import { Construct } from "constructs";
import { TerraformStack } from "cdktf";
/*
 * Provider bindings are generated by running `cdktf get`.
 * See https://cdk.tf/provider-generation for more details.
 */
import { LightsailBucket } from "./.gen/providers/aws/lightsail-bucket";
import { LightsailDistribution } from "./.gen/providers/aws/lightsail-distribution";
class MyConvertedCode extends TerraformStack {
  constructor(scope: Construct, name: string) {
    super(scope, name);
    const example = new LightsailBucket(this, "example", {
      bundleId: "small_1_0",
      name: "example-bucket",
    });
    const awsLightsailDistributionExample = new LightsailDistribution(
      this,
      "example_1",
      {
        bundleId: "small_1_0",
        cacheBehaviorSettings: {
          allowedHttpMethods: "GET,HEAD,OPTIONS,PUT,PATCH,POST,DELETE",
          cachedHttpMethods: "GET,HEAD",
          defaultTtl: 86400,
          forwardedCookies: {
            option: "none",
          },
          forwardedHeaders: {
            option: "default",
          },
          forwardedQueryStrings: {
            option: false,
          },
          maximumTtl: 31536000,
          minimumTtl: 0,
        },
        defaultCacheBehavior: {
          behavior: "cache",
        },
        name: "example-distribution",
        origin: {
          name: example.name,
          regionName: example.region,
        },
      }
    );
    /*This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.*/
    awsLightsailDistributionExample.overrideLogicalId("example");
  }
}

```

### Instance Origin

```typescript
// DO NOT EDIT. Code generated by 'cdktf convert' - Please report bugs at https://cdk.tf/bug
import { Construct } from "constructs";
import { Fn, Token, TerraformStack } from "cdktf";
/*
 * Provider bindings are generated by running `cdktf get`.
 * See https://cdk.tf/provider-generation for more details.
 */
import { DataAwsAvailabilityZones } from "./.gen/providers/aws/data-aws-availability-zones";
import { LightsailDistribution } from "./.gen/providers/aws/lightsail-distribution";
import { LightsailInstance } from "./.gen/providers/aws/lightsail-instance";
import { LightsailStaticIp } from "./.gen/providers/aws/lightsail-static-ip";
import { LightsailStaticIpAttachment } from "./.gen/providers/aws/lightsail-static-ip-attachment";
class MyConvertedCode extends TerraformStack {
  constructor(scope: Construct, name: string) {
    super(scope, name);
    const example = new LightsailStaticIp(this, "example", {
      name: "example-static-ip",
    });
    const available = new DataAwsAvailabilityZones(this, "available", {
      filter: [
        {
          name: "opt-in-status",
          values: ["opt-in-not-required"],
        },
      ],
      state: "available",
    });
    const awsLightsailInstanceExample = new LightsailInstance(
      this,
      "example_2",
      {
        availabilityZone: Token.asString(
          Fn.lookupNested(available.names, ["0"])
        ),
        blueprintId: "amazon_linux_2",
        bundleId: "micro_1_0",
        name: "example-instance",
      }
    );
    /*This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.*/
    awsLightsailInstanceExample.overrideLogicalId("example");
    const awsLightsailStaticIpAttachmentExample =
      new LightsailStaticIpAttachment(this, "example_3", {
        instanceName: Token.asString(awsLightsailInstanceExample.name),
        staticIpName: example.name,
      });
    /*This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.*/
    awsLightsailStaticIpAttachmentExample.overrideLogicalId("example");
    const awsLightsailDistributionExample = new LightsailDistribution(
      this,
      "example_4",
      {
        bundleId: "small_1_0",
        defaultCacheBehavior: {
          behavior: "cache",
        },
        dependsOn: [awsLightsailStaticIpAttachmentExample],
        name: "example-distribution",
        origin: {
          name: Token.asString(awsLightsailInstanceExample.name),
          regionName: Token.asString(available.id),
        },
      }
    );
    /*This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.*/
    awsLightsailDistributionExample.overrideLogicalId("example");
  }
}

```

### Load Balancer Origin

```typescript
// DO NOT EDIT. Code generated by 'cdktf convert' - Please report bugs at https://cdk.tf/bug
import { Construct } from "constructs";
import { Token, Fn, TerraformStack } from "cdktf";
/*
 * Provider bindings are generated by running `cdktf get`.
 * See https://cdk.tf/provider-generation for more details.
 */
import { DataAwsAvailabilityZones } from "./.gen/providers/aws/data-aws-availability-zones";
import { LightsailDistribution } from "./.gen/providers/aws/lightsail-distribution";
import { LightsailInstance } from "./.gen/providers/aws/lightsail-instance";
import { LightsailLb } from "./.gen/providers/aws/lightsail-lb";
import { LightsailLbAttachment } from "./.gen/providers/aws/lightsail-lb-attachment";
class MyConvertedCode extends TerraformStack {
  constructor(scope: Construct, name: string) {
    super(scope, name);
    const example = new LightsailLb(this, "example", {
      healthCheckPath: "/",
      instancePort: Token.asNumber("80"),
      name: "example-load-balancer",
      tags: {
        foo: "bar",
      },
    });
    const available = new DataAwsAvailabilityZones(this, "available", {
      filter: [
        {
          name: "opt-in-status",
          values: ["opt-in-not-required"],
        },
      ],
      state: "available",
    });
    const awsLightsailInstanceExample = new LightsailInstance(
      this,
      "example_2",
      {
        availabilityZone: Token.asString(
          Fn.lookupNested(available.names, ["0"])
        ),
        blueprintId: "amazon_linux_2",
        bundleId: "nano_3_0",
        name: "example-instance",
      }
    );
    /*This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.*/
    awsLightsailInstanceExample.overrideLogicalId("example");
    const awsLightsailLbAttachmentExample = new LightsailLbAttachment(
      this,
      "example_3",
      {
        instanceName: Token.asString(awsLightsailInstanceExample.name),
        lbName: example.name,
      }
    );
    /*This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.*/
    awsLightsailLbAttachmentExample.overrideLogicalId("example");
    const awsLightsailDistributionExample = new LightsailDistribution(
      this,
      "example_4",
      {
        bundleId: "small_1_0",
        defaultCacheBehavior: {
          behavior: "cache",
        },
        dependsOn: [awsLightsailLbAttachmentExample],
        name: "example-distribution",
        origin: {
          name: example.name,
          regionName: Token.asString(available.id),
        },
      }
    );
    /*This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.*/
    awsLightsailDistributionExample.overrideLogicalId("example");
  }
}

```

## Argument Reference

The following arguments are required:

* `bundleId` - (Required) Bundle ID to use for the distribution.
* `defaultCacheBehavior` - (Required) Default cache behavior of the distribution. [See below](#default_cache_behavior).
* `name` - (Required) Name of the distribution.
* `origin` - (Required) Origin resource of the distribution, such as a Lightsail instance, bucket, or load balancer. [See below](#origin).

The following arguments are optional:

* `cacheBehavior` - (Optional) Per-path cache behavior of the distribution. [See below](#cache_behavior).
* `cacheBehaviorSettings` - (Optional) Cache behavior settings of the distribution. [See below](#cache_behavior_settings).
* `certificateName` - (Optional) Name of the SSL/TLS certificate attached to the distribution.
* `ipAddressType` - (Optional) IP address type of the distribution. Valid values: `dualstack`, `ipv4`. Default: `dualstack`.
* `isEnabled` - (Optional) Whether the distribution is enabled. Default: `true`.
* `tags` - (Optional) Map of tags for the Lightsail Distribution. If configured with a provider [`defaultTags` configuration block](https://registry.terraform.io/providers/hashicorp/aws/latest/docs#default_tags-configuration-block) present, tags with matching keys will overwrite those defined at the provider-level.

### cache_behavior

* `behavior` - (Required) Cache behavior for the specified path. Valid values: `cache`, `dont-cache`.
* `path` - (Required) Path to a directory or file to cache, or not cache. Use an asterisk symbol to specify wildcard directories (`path/to/assets/*`), and file types (`*.html`, `*.jpg`, `*.js`). Directories and file paths are case-sensitive.

### cache_behavior_settings

* `allowedHttpMethods` - (Optional) HTTP methods that are processed and forwarded to the distribution's origin.
* `cachedHttpMethods` - (Optional) HTTP method responses that are cached by your distribution.
* `defaultTtl` - (Optional) Default amount of time that objects stay in the distribution's cache before the distribution forwards another request to the origin to determine whether the content has been updated.
* `forwardedCookies` - (Optional) Cookies that are forwarded to the origin. Your content is cached based on the cookies that are forwarded. [See below](#forwarded_cookies).
* `forwardedHeaders` - (Optional) Headers that are forwarded to the origin. Your content is cached based on the headers that are forwarded. [See below](#forwarded_headers).
* `forwardedQueryStrings` - (Optional) Query strings that are forwarded to the origin. Your content is cached based on the query strings that are forwarded. [See below](#forwarded_query_strings).
* `maximumTtl` - (Optional) Maximum amount of time that objects stay in the distribution's cache before the distribution forwards another request to the origin to determine whether the object has been updated.
* `minimumTtl` - (Optional) Minimum amount of time that objects stay in the distribution's cache before the distribution forwards another request to the origin to determine whether the object has been updated.

#### forwarded_cookies

* `cookiesAllowList` - (Optional) Specific cookies to forward to your distribution's origin.
* `option` - (Optional) Which cookies to forward to the distribution's origin for a cache behavior. Valid values: `all`, `none`, `allow-list`.

#### forwarded_headers

* `headersAllowList` - (Optional) Specific headers to forward to your distribution's origin.
* `option` - (Optional) Headers that you want your distribution to forward to your origin and base caching on. Valid values: `default`, `allow-list`, `all`.

#### forwarded_query_strings

* `option` - (Optional) Whether the distribution forwards and caches based on query strings.
* `queryStringsAllowedList` - (Optional) Specific query strings that the distribution forwards to the origin.

### default_cache_behavior

* `behavior` - (Required) Cache behavior of the distribution. Valid values: `cache`, `dont-cache`.

### origin

* `name` - (Required) Name of the origin resource. Your origin can be an instance with an attached static IP, a bucket, or a load balancer that has at least one instance attached to it.
* `protocolPolicy` - (Optional) Protocol that your Amazon Lightsail distribution uses when establishing a connection with your origin to pull content.
* `regionName` - (Required) AWS Region name of the origin resource.

## Attribute Reference

This resource exports the following attributes in addition to the arguments above:

* `alternativeDomainNames` - Alternate domain names of the distribution.
* `arn` - ARN of the distribution.
* `createdAt` - Timestamp when the distribution was created.
* `domainName` - Domain name of the distribution.
* `location` - Location of the distribution, such as the AWS Region and Availability Zone. [See below](#location).
* `originPublicDns` - Public DNS of the origin.
* `origin[0].resource_type` - Resource type of the origin resource (e.g., Instance).
* `resourceType` - Lightsail resource type (e.g., Distribution).
* `status` - Status of the distribution.
* `supportCode` - Support code. Include this code in your email to support when you have questions about your Lightsail distribution. This code enables our support team to look up your Lightsail information more easily.
* `tagsAll` - Map of tags assigned to the resource, including those inherited from the provider [`defaultTags` configuration block](https://registry.terraform.io/providers/hashicorp/aws/latest/docs#default_tags-configuration-block).

### location

* `availabilityZone` - Availability Zone. Follows the format us-east-2a (case-sensitive).
* `regionName` - AWS Region name.

## Timeouts

[Configuration options](https://developer.hashicorp.com/terraform/language/resources/syntax#operation-timeouts):

* `create` - (Default `30m`)
* `update` - (Default `30m`)
* `delete` - (Default `30m`)

## Import

In Terraform v1.5.0 and later, use an [`import` block](https://developer.hashicorp.com/terraform/language/import) to import Lightsail Distribution using the `name`. For example:

```typescript
// DO NOT EDIT. Code generated by 'cdktf convert' - Please report bugs at https://cdk.tf/bug
import { Construct } from "constructs";
import { TerraformStack } from "cdktf";
/*
 * Provider bindings are generated by running `cdktf get`.
 * See https://cdk.tf/provider-generation for more details.
 */
import { LightsailDistribution } from "./.gen/providers/aws/lightsail-distribution";
class MyConvertedCode extends TerraformStack {
  constructor(scope: Construct, name: string) {
    super(scope, name);
    LightsailDistribution.generateConfigForImport(
      this,
      "example",
      "example-distribution"
    );
  }
}

```

Using `terraform import`, import Lightsail Distribution using the `name`. For example:

```console
% terraform import aws_lightsail_distribution.example example-distribution
```

<!-- cache-key: cdktf-0.20.8 input-acca8af23408492e5045fe9d4fa7112d80e90ef897fdbed86686ee5a313a1255 -->