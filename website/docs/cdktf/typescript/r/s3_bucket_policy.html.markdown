---
subcategory: "S3 (Simple Storage)"
layout: "aws"
page_title: "AWS: aws_s3_bucket_policy"
description: |-
  Attaches a policy to an S3 bucket resource.
---


<!-- Please do not edit this file, it is generated. -->
# Resource: aws_s3_bucket_policy

Attaches a policy to an S3 bucket resource.

-> Policies can be attached to both S3 general purpose buckets and S3 directory buckets.

## Example Usage

### Basic Usage

```typescript
// DO NOT EDIT. Code generated by 'cdktf convert' - Please report bugs at https://cdk.tf/bug
import { Construct } from "constructs";
import { Token, TerraformStack } from "cdktf";
/*
 * Provider bindings are generated by running `cdktf get`.
 * See https://cdk.tf/provider-generation for more details.
 */
import { DataAwsIamPolicyDocument } from "./.gen/providers/aws/data-aws-iam-policy-document";
import { S3Bucket } from "./.gen/providers/aws/s3-bucket";
import { S3BucketPolicy } from "./.gen/providers/aws/s3-bucket-policy";
class MyConvertedCode extends TerraformStack {
  constructor(scope: Construct, name: string) {
    super(scope, name);
    const example = new S3Bucket(this, "example", {
      bucket: "my-tf-test-bucket",
    });
    const allowAccessFromAnotherAccount = new DataAwsIamPolicyDocument(
      this,
      "allow_access_from_another_account",
      {
        statement: [
          {
            actions: ["s3:GetObject", "s3:ListBucket"],
            principals: [
              {
                identifiers: ["123456789012"],
                type: "AWS",
              },
            ],
            resources: [example.arn, "${" + example.arn + "}/*"],
          },
        ],
      }
    );
    const awsS3BucketPolicyAllowAccessFromAnotherAccount = new S3BucketPolicy(
      this,
      "allow_access_from_another_account_2",
      {
        bucket: example.id,
        policy: Token.asString(allowAccessFromAnotherAccount.json),
      }
    );
    /*This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.*/
    awsS3BucketPolicyAllowAccessFromAnotherAccount.overrideLogicalId(
      "allow_access_from_another_account"
    );
  }
}

```

-> Only one `aws_s3_bucket_policy` resource should be defined per S3 bucket. Defining multiple `aws_s3_bucket_policy` resources with different Terraform names but the same `bucket` value may result in unexpected policy overwrites. Each resource uses the `PutBucketPolicy` API, which replaces the entire existing policy without error or warning. Because Terraform treats each resource independently, the policy applied last will silently override any previously applied policy.

## Argument Reference

This resource supports the following arguments:

* `region` - (Optional) Region where this resource will be [managed](https://docs.aws.amazon.com/general/latest/gr/rande.html#regional-endpoints). Defaults to the Region set in the [provider configuration](https://registry.terraform.io/providers/hashicorp/aws/latest/docs#aws-configuration-reference).
* `bucket` - (Required) Name of the bucket to which to apply the policy.
* `policy` - (Required) Text of the policy. Although this is a bucket policy rather than an IAM policy, the [`aws_iam_policy_document`](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/iam_policy_document) data source may be used, so long as it specifies a principal. For more information about building AWS IAM policy documents with Terraform, see the [AWS IAM Policy Document Guide](https://learn.hashicorp.com/terraform/aws/iam-policy). Note: Bucket policies are limited to 20 KB in size.

## Attribute Reference

This resource exports no additional attributes.

## Import

In Terraform v1.5.0 and later, use an [`import` block](https://developer.hashicorp.com/terraform/language/import) to import S3 bucket policies using the bucket name. For example:

```typescript
// DO NOT EDIT. Code generated by 'cdktf convert' - Please report bugs at https://cdk.tf/bug
import { Construct } from "constructs";
import { TerraformStack } from "cdktf";
/*
 * Provider bindings are generated by running `cdktf get`.
 * See https://cdk.tf/provider-generation for more details.
 */
import { S3BucketPolicy } from "./.gen/providers/aws/s3-bucket-policy";
class MyConvertedCode extends TerraformStack {
  constructor(scope: Construct, name: string) {
    super(scope, name);
    S3BucketPolicy.generateConfigForImport(
      this,
      "allowAccessFromAnotherAccount",
      "my-tf-test-bucket"
    );
  }
}

```

Using `terraform import`, import S3 bucket policies using the bucket name. For example:

```console
% terraform import aws_s3_bucket_policy.allow_access_from_another_account my-tf-test-bucket
```

<!-- cache-key: cdktf-0.20.8 input-2cb1f365529aad410e8eb4b02e78ba3af707f075f7f3c4354c6611f509ffbcd3 -->