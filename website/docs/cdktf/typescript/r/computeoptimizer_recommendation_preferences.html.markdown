---
subcategory: "Compute Optimizer"
layout: "aws"
page_title: "AWS: aws_computeoptimizer_recommendation_preferences"
description: |-
  Manages AWS Compute Optimizer recommendation preferences.
---


<!-- Please do not edit this file, it is generated. -->
# Resource: aws_computeoptimizer_recommendation_preferences

Manages AWS Compute Optimizer recommendation preferences.

## Example Usage

### Lookback Period Preference

```typescript
// DO NOT EDIT. Code generated by 'cdktf convert' - Please report bugs at https://cdk.tf/bug
import { Construct } from "constructs";
import { TerraformStack } from "cdktf";
/*
 * Provider bindings are generated by running `cdktf get`.
 * See https://cdk.tf/provider-generation for more details.
 */
import { ComputeoptimizerRecommendationPreferences } from "./.gen/providers/aws/computeoptimizer-recommendation-preferences";
class MyConvertedCode extends TerraformStack {
  constructor(scope: Construct, name: string) {
    super(scope, name);
    new ComputeoptimizerRecommendationPreferences(this, "example", {
      lookBackPeriod: "DAYS_32",
      resourceType: "Ec2Instance",
      scope: [
        {
          name: "AccountId",
          value: "123456789012",
        },
      ],
    });
  }
}

```

### Multiple Preferences

```typescript
// DO NOT EDIT. Code generated by 'cdktf convert' - Please report bugs at https://cdk.tf/bug
import { Construct } from "constructs";
import { TerraformStack } from "cdktf";
/*
 * Provider bindings are generated by running `cdktf get`.
 * See https://cdk.tf/provider-generation for more details.
 */
import { ComputeoptimizerRecommendationPreferences } from "./.gen/providers/aws/computeoptimizer-recommendation-preferences";
class MyConvertedCode extends TerraformStack {
  constructor(scope: Construct, name: string) {
    super(scope, name);
    new ComputeoptimizerRecommendationPreferences(this, "example", {
      enhancedInfrastructureMetrics: "Active",
      externalMetricsPreference: [
        {
          source: "Datadog",
        },
      ],
      preferredResource: [
        {
          includeList: ["m5.xlarge", "r5"],
          name: "Ec2InstanceTypes",
        },
      ],
      resourceType: "Ec2Instance",
      scope: [
        {
          name: "AccountId",
          value: "123456789012",
        },
      ],
    });
  }
}

```

## Argument Reference

This resource supports the following arguments:

* `enhancedInfrastructureMetrics` - (Optional) The status of the enhanced infrastructure metrics recommendation preference. Valid values: `Active`, `Inactive`.
* `externalMetricsPreference` - (Optional) The provider of the external metrics recommendation preference. See [External Metrics Preference](#external-metrics-preference) below.
* `inferredWorkloadTypes` - (Optional) The status of the inferred workload types recommendation preference. Valid values: `Active`, `Inactive`.
* `lookBackPeriod` - (Optional) The preference to control the number of days the utilization metrics of the AWS resource are analyzed. Valid values: `DAYS_14`, `DAYS_32`, `DAYS_93`.
* `preferredResource` - (Optional) The preference to control which resource type values are considered when generating rightsizing recommendations. See [Preferred Resources](#preferred-resources) below.
* `resourceType` - (Required) The target resource type of the recommendation preferences. Valid values: `Ec2Instance`, `AutoScalingGroup`, `RdsDBInstance`.
* `savingsEstimationMode` - (Optional) The status of the savings estimation mode preference. Valid values: `AfterDiscounts`, `BeforeDiscounts`.
* `scope` - (Required) The scope of the recommendation preferences. See [Scope](#scope) below.
* `utilizationPreference` - (Optional) The preference to control the resource’s CPU utilization threshold, CPU utilization headroom, and memory utilization headroom. See [Utilization Preferences](#utilization-preferences) below.

### External Metrics Preference

* `source` - (Required) The source options for external metrics preferences. Valid values: `Datadog`, `Dynatrace`, `NewRelic`, `Instana`.

### Preferred Resources

You can specify this preference as a combination of include and exclude lists.
You must specify either an `includeList` or `excludeList`.

* `excludeList` - (Optional) The preferred resource type values to exclude from the recommendation candidates. If this isn’t specified, all supported resources are included by default.
* `includeList` - (Optional) The preferred resource type values to include in the recommendation candidates. You can specify the exact resource type value, such as `"m5.large"`, or use wild card expressions, such as `"m5"`. If this isn’t specified, all supported resources are included by default.
* `name` - (Required) The type of preferred resource to customize. Valid values: `Ec2InstanceTypes`.

### Scope

* `name` - (Required) The name of the scope. Valid values: `Organization`, `AccountId`, `ResourceArn`.
* `value` - (Required) The value of the scope. `ALL_ACCOUNTS` for `Organization` scopes, AWS account ID for `AccountId` scopes, ARN of an EC2 instance or an Auto Scaling group for `ResourceArn` scopes.

### Utilization Preferences

* `metricName` - (Required) The name of the resource utilization metric name to customize. Valid values: `CpuUtilization`, `MemoryUtilization`.
* `metricParameters` - (Required) The parameters to set when customizing the resource utilization thresholds.
    * `headroom` - (Required) The headroom value in percentage used for the specified metric parameter. Valid values: `PERCENT_30`, `PERCENT_20`, `PERCENT_10`, `PERCENT_0`.
    * `threshold` - (Optional) The threshold value used for the specified metric parameter. You can only specify the threshold value for CPU utilization. Valid values: `P90`, `P95`, `P99_5`.

## Attribute Reference

This resource exports no additional attributes.

## Import

In Terraform v1.5.0 and later, use an [`import` block](https://developer.hashicorp.com/terraform/language/import) to import recommendation preferences using the resource type, scope name and scope value. For example:

```typescript
// DO NOT EDIT. Code generated by 'cdktf convert' - Please report bugs at https://cdk.tf/bug
import { Construct } from "constructs";
import { TerraformStack } from "cdktf";
/*
 * Provider bindings are generated by running `cdktf get`.
 * See https://cdk.tf/provider-generation for more details.
 */
import { ComputeoptimizerRecommendationPreferences } from "./.gen/providers/aws/computeoptimizer-recommendation-preferences";
class MyConvertedCode extends TerraformStack {
  constructor(scope: Construct, name: string) {
    super(scope, name);
    ComputeoptimizerRecommendationPreferences.generateConfigForImport(
      this,
      "example",
      "Ec2Instance,AccountId,123456789012"
    );
  }
}

```

Using `terraform import`, import recommendation preferences using the resource type, scope name and scope value. For example:

```console
% terraform import aws_computeoptimizer_recommendation_preferences.example Ec2Instance,AccountId,123456789012
```

<!-- cache-key: cdktf-0.20.9 input-2baa0157c0499a84be3e2d1f847887b8a89478d41499cd5f412bd69b93587edb -->