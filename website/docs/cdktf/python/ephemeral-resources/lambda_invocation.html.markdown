---
subcategory: "Lambda"
layout: "aws"
page_title: "AWS: aws_lambda_invocation"
description: |-
  Invoke AWS Lambda Function
---


<!-- Please do not edit this file, it is generated. -->
# Ephemeral: aws_lambda_invocation

Use this ephemeral resource to invoke a Lambda function. The lambda function is invoked with the [RequestResponse](https://docs.aws.amazon.com/lambda/latest/dg/API_Invoke.html#API_Invoke_RequestSyntax) invocation type.

~> **NOTE:** Ephemeral resources are a new feature and may evolve as we continue to explore their most effective uses. [Learn more](https://developer.hashicorp.com/terraform/language/v1.10.x/resources/ephemeral).

~> **NOTE:** The `aws_lambda_invocation` ephemeral resource invokes the function during every `plan` and `apply` when the function is known. A common use case for this functionality is when invoking a lightweight function—where repeated invocations are acceptable—that produces sensitive information you do not want to store in the state.

~> **NOTE:** If you get a `KMSAccessDeniedException: Lambda was unable to decrypt the environment variables because KMS access was denied` error when invoking an [`aws_lambda_function`](/docs/providers/aws/r/lambda_function.html) with environment variables, the IAM role associated with the function may have been deleted and recreated _after_ the function was created. You can fix the problem two ways: 1) updating the function's role to another role and then updating it back again to the recreated role, or 2) by using Terraform to `taint` the function and `apply` your configuration again to recreate the function. (When you create a function, Lambda grants permissions on the KMS key to the function's IAM role. If the IAM role is recreated, the grant is no longer valid. Changing the function's role or recreating the function causes Lambda to update the grant.)

## Example Usage

### Basic Example

```python
# DO NOT EDIT. Code generated by 'cdktf convert' - Please report bugs at https://cdk.tf/bug
from constructs import Construct
from cdktf import TerraformOutput, Fn, TerraformStack
class MyConvertedCode(TerraformStack):
    def __init__(self, scope, name):
        super().__init__(scope, name)
        TerraformOutput(self, "result_entry",
            value=Fn.lookup_nested(Fn.jsondecode(example.result), ["\"key1\""])
        )
```

## Argument Reference

The following arguments are required:

* `function_name` - (Required) Name or ARN of the Lambda function, version, or alias. You can append a version number or alias. If you specify only the function name, it is limited to 64 characters in length.
* `payload` - (Required) JSON that you want to provide to your Lambda function as input.

The following arguments are optional:

* `client_context` - (Optional) Up to 3583 bytes of base64-encoded data about the invoking client to pass to the function in the context object.
* `log_type` - (Optional) Set to `Tail` to include the execution log in the response. Valid values are `None` and `Tail`.
* `qualifier` - (Optional) Version or alias to invoke a published version of the function. Defaults to `$LATEST`.

## Attribute Reference

This resource exports the following attributes in addition to the arguments above:

* `executed_version` - Version of the function that executed. When you invoke a function with an alias, the version the alias resolved to.
* `function_error` - If present, indicates that an error occurred during function execution. Details about the error are included in `result`.
* `log_result` - Last 4 KB of the execution log, which is base64-encoded.
* `result` - String result of the lambda function invocation.
* `status_code` - HTTP status code is in the 200 range for a successful request.

<!-- cache-key: cdktf-0.20.8 input-f4d7fa8679443cfebcd88f34a4c9f0c23e69426b8dafb7c29d1a83a64f6ae99d -->