---
subcategory: "CloudHSM"
layout: "aws"
page_title: "AWS: aws_cloudhsm_v2_hsm"
description: |-
  Provides a CloudHSM v2 HSM module resource.
---


<!-- Please do not edit this file, it is generated. -->
# Resource: aws_cloudhsm_v2_hsm

Creates an HSM module in Amazon CloudHSM v2 cluster.

## Example Usage

The following example below creates an HSM module in CloudHSM cluster.

```python
# DO NOT EDIT. Code generated by 'cdktf convert' - Please report bugs at https://cdk.tf/bug
from constructs import Construct
from cdktf import Token, Fn, TerraformStack
#
# Provider bindings are generated by running `cdktf get`.
# See https://cdk.tf/provider-generation for more details.
#
from imports.aws.cloudhsm_v2_hsm import CloudhsmV2Hsm
from imports.aws.data_aws_cloudhsm_v2_cluster import DataAwsCloudhsmV2Cluster
class MyConvertedCode(TerraformStack):
    def __init__(self, scope, name):
        super().__init__(scope, name)
        cluster = DataAwsCloudhsmV2Cluster(self, "cluster",
            cluster_id=cloudhsm_cluster_id.string_value
        )
        CloudhsmV2Hsm(self, "cloudhsm_v2_hsm",
            cluster_id=Token.as_string(cluster.cluster_id),
            subnet_id=Token.as_string(Fn.lookup_nested(cluster.subnet_ids, ["0"]))
        )
```

## Argument Reference

This resource supports the following arguments:

~> **NOTE:** Either `subnet_id` or `availability_zone` must be specified.

* `cluster_id` - (Required) The ID of Cloud HSM v2 cluster to which HSM will be added.
* `subnet_id` - (Optional) The ID of subnet in which HSM module will be located. Conflicts with `availability_zone`.
* `availability_zone` - (Optional) The IDs of AZ in which HSM module will be located. Conflicts with `subnet_id`.
* `ip_address` - (Optional) The IP address of HSM module. Must be within the CIDR of selected subnet.

## Attribute Reference

This resource exports the following attributes in addition to the arguments above:

* `availability_zone` - Name of the Availability Zone the HSM instance is located in.
* `cluster_id` - ID of Cloud HSM v2 cluster.
* `hsm_eni_id` - The id of the ENI interface allocated for HSM module.
* `hsm_id` - The id of the HSM module.
* `hsm_state` - The state of the HSM module.
* `ip_address` - The IP address of the HSM Module.
* `subnet_id` -  The ID of subnet in which HSM is located

## Import

In Terraform v1.5.0 and later, use an [`import` block](https://developer.hashicorp.com/terraform/language/import) to import HSM modules using their HSM ID. For example:

```python
# DO NOT EDIT. Code generated by 'cdktf convert' - Please report bugs at https://cdk.tf/bug
from constructs import Construct
from cdktf import TerraformStack
#
# Provider bindings are generated by running `cdktf get`.
# See https://cdk.tf/provider-generation for more details.
#
from imports.aws.cloudhsm_v2_hsm import CloudhsmV2Hsm
class MyConvertedCode(TerraformStack):
    def __init__(self, scope, name):
        super().__init__(scope, name)
        CloudhsmV2Hsm.generate_config_for_import(self, "bar", "hsm-quo8dahtaca")
```

Using `terraform import`, import HSM modules using their HSM ID. For example:

```console
% terraform import aws_cloudhsm_v2_hsm.bar hsm-quo8dahtaca
```

<!-- cache-key: cdktf-0.20.8 input-b2e37695762fb364be3f6f2f816de9e94b8a2df9afc85641ce60b5c3da254207 -->