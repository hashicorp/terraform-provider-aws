---
subcategory: "Lambda"
layout: "aws"
page_title: "AWS: aws_lambda_function_event_invoke_config"
description: |-
  Manages an AWS Lambda Function Event Invoke Config.
---


<!-- Please do not edit this file, it is generated. -->
# Resource: aws_lambda_function_event_invoke_config

Manages an AWS Lambda Function Event Invoke Config. Use this resource to configure error handling and destinations for asynchronous Lambda function invocations.

More information about asynchronous invocations and the configurable values can be found in the [Lambda Developer Guide](https://docs.aws.amazon.com/lambda/latest/dg/invocation-async.html).

## Example Usage

### Complete Error Handling and Destinations

~> **Note:** Ensure the Lambda Function IAM Role has necessary permissions for the destination, such as `sqs:SendMessage` or `sns:Publish`, otherwise the API will return a generic `InvalidParameterValueException: The destination ARN arn:PARTITION:SERVICE:REGION:ACCOUNT:RESOURCE is invalid.` error.

```python
# DO NOT EDIT. Code generated by 'cdktf convert' - Please report bugs at https://cdk.tf/bug
from constructs import Construct
from cdktf import Token, TerraformStack
#
# Provider bindings are generated by running `cdktf get`.
# See https://cdk.tf/provider-generation for more details.
#
from imports.aws.lambda_function_event_invoke_config import LambdaFunctionEventInvokeConfig
from imports.aws.sns_topic import SnsTopic
from imports.aws.sqs_queue import SqsQueue
class MyConvertedCode(TerraformStack):
    def __init__(self, scope, name):
        super().__init__(scope, name)
        success = SnsTopic(self, "success",
            name="lambda-success-notifications",
            tags={
                "Environment": "production",
                "Purpose": "lambda-success-notifications"
            }
        )
        dlq = SqsQueue(self, "dlq",
            name="lambda-dlq",
            tags={
                "Environment": "production",
                "Purpose": "lambda-error-handling"
            }
        )
        LambdaFunctionEventInvokeConfig(self, "example",
            destination_config=LambdaFunctionEventInvokeConfigDestinationConfig(
                on_failure=LambdaFunctionEventInvokeConfigDestinationConfigOnFailure(
                    destination=dlq.arn
                ),
                on_success=LambdaFunctionEventInvokeConfigDestinationConfigOnSuccess(
                    destination=success.arn
                )
            ),
            function_name=Token.as_string(aws_lambda_function_example.function_name),
            maximum_event_age_in_seconds=300,
            maximum_retry_attempts=1
        )
```

### Error Handling Only

```python
# DO NOT EDIT. Code generated by 'cdktf convert' - Please report bugs at https://cdk.tf/bug
from constructs import Construct
from cdktf import Token, TerraformStack
#
# Provider bindings are generated by running `cdktf get`.
# See https://cdk.tf/provider-generation for more details.
#
from imports.aws.lambda_function_event_invoke_config import LambdaFunctionEventInvokeConfig
class MyConvertedCode(TerraformStack):
    def __init__(self, scope, name):
        super().__init__(scope, name)
        LambdaFunctionEventInvokeConfig(self, "example",
            function_name=Token.as_string(aws_lambda_function_example.function_name),
            maximum_event_age_in_seconds=60,
            maximum_retry_attempts=0
        )
```

### Configuration for Lambda Alias

```python
# DO NOT EDIT. Code generated by 'cdktf convert' - Please report bugs at https://cdk.tf/bug
from constructs import Construct
from cdktf import Token, TerraformStack
#
# Provider bindings are generated by running `cdktf get`.
# See https://cdk.tf/provider-generation for more details.
#
from imports.aws.lambda_alias import LambdaAlias
from imports.aws.lambda_function_event_invoke_config import LambdaFunctionEventInvokeConfig
class MyConvertedCode(TerraformStack):
    def __init__(self, scope, name):
        super().__init__(scope, name)
        example = LambdaAlias(self, "example",
            description="Production alias",
            function_name=Token.as_string(aws_lambda_function_example.function_name),
            function_version=Token.as_string(aws_lambda_function_example.version),
            name="production"
        )
        aws_lambda_function_event_invoke_config_example =
        LambdaFunctionEventInvokeConfig(self, "example_1",
            destination_config=LambdaFunctionEventInvokeConfigDestinationConfig(
                on_failure=LambdaFunctionEventInvokeConfigDestinationConfigOnFailure(
                    destination=production_dlq.arn
                )
            ),
            function_name=Token.as_string(aws_lambda_function_example.function_name),
            maximum_event_age_in_seconds=1800,
            maximum_retry_attempts=2,
            qualifier=example.name
        )
        # This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.
        aws_lambda_function_event_invoke_config_example.override_logical_id("example")
```

### Configuration for Published Version

```python
# DO NOT EDIT. Code generated by 'cdktf convert' - Please report bugs at https://cdk.tf/bug
from constructs import Construct
from cdktf import Token, TerraformStack
#
# Provider bindings are generated by running `cdktf get`.
# See https://cdk.tf/provider-generation for more details.
#
from imports.aws.lambda_function_event_invoke_config import LambdaFunctionEventInvokeConfig
class MyConvertedCode(TerraformStack):
    def __init__(self, scope, name):
        super().__init__(scope, name)
        LambdaFunctionEventInvokeConfig(self, "example",
            destination_config=LambdaFunctionEventInvokeConfigDestinationConfig(
                on_failure=LambdaFunctionEventInvokeConfigDestinationConfigOnFailure(
                    destination=version_dlq.arn
                ),
                on_success=LambdaFunctionEventInvokeConfigDestinationConfigOnSuccess(
                    destination=version_success.arn
                )
            ),
            function_name=Token.as_string(aws_lambda_function_example.function_name),
            maximum_event_age_in_seconds=21600,
            maximum_retry_attempts=2,
            qualifier=Token.as_string(aws_lambda_function_example.version)
        )
```

### Configuration for Latest Version

```python
# DO NOT EDIT. Code generated by 'cdktf convert' - Please report bugs at https://cdk.tf/bug
from constructs import Construct
from cdktf import Token, TerraformStack
#
# Provider bindings are generated by running `cdktf get`.
# See https://cdk.tf/provider-generation for more details.
#
from imports.aws.lambda_function_event_invoke_config import LambdaFunctionEventInvokeConfig
class MyConvertedCode(TerraformStack):
    def __init__(self, scope, name):
        super().__init__(scope, name)
        LambdaFunctionEventInvokeConfig(self, "example",
            destination_config=LambdaFunctionEventInvokeConfigDestinationConfig(
                on_failure=LambdaFunctionEventInvokeConfigDestinationConfigOnFailure(
                    destination=dev_dlq.arn
                )
            ),
            function_name=Token.as_string(aws_lambda_function_example.function_name),
            maximum_event_age_in_seconds=120,
            maximum_retry_attempts=0,
            qualifier="$LATEST"
        )
```

### Multiple Destination Types

```python
# DO NOT EDIT. Code generated by 'cdktf convert' - Please report bugs at https://cdk.tf/bug
from constructs import Construct
from cdktf import Token, TerraformStack
#
# Provider bindings are generated by running `cdktf get`.
# See https://cdk.tf/provider-generation for more details.
#
from imports.aws.cloudwatch_event_bus import CloudwatchEventBus
from imports.aws.lambda_function_event_invoke_config import LambdaFunctionEventInvokeConfig
from imports.aws.s3_bucket import S3Bucket
class MyConvertedCode(TerraformStack):
    def __init__(self, scope, name):
        super().__init__(scope, name)
        lambda_failures = CloudwatchEventBus(self, "lambda_failures",
            name="lambda-failure-events"
        )
        lambda_success_archive = S3Bucket(self, "lambda_success_archive",
            bucket="lambda-success-archive-${" + bucket_suffix.hex + "}"
        )
        LambdaFunctionEventInvokeConfig(self, "example",
            destination_config=LambdaFunctionEventInvokeConfigDestinationConfig(
                on_failure=LambdaFunctionEventInvokeConfigDestinationConfigOnFailure(
                    destination=lambda_failures.arn
                ),
                on_success=LambdaFunctionEventInvokeConfigDestinationConfigOnSuccess(
                    destination=lambda_success_archive.arn
                )
            ),
            function_name=Token.as_string(aws_lambda_function_example.function_name)
        )
```

## Argument Reference

The following arguments are required:

* `function_name` - (Required) Name or ARN of the Lambda Function, omitting any version or alias qualifier.

The following arguments are optional:

* `destination_config` - (Optional) Configuration block with destination configuration. [See below](#destination_config-configuration-block).
* `maximum_event_age_in_seconds` - (Optional) Maximum age of a request that Lambda sends to a function for processing in seconds. Valid values between 60 and 21600.
* `maximum_retry_attempts` - (Optional) Maximum number of times to retry when the function returns an error. Valid values between 0 and 2. Defaults to 2.
* `qualifier` - (Optional) Lambda Function published version, `$LATEST`, or Lambda Alias name.
* `region` - (Optional) Region where this resource will be [managed](https://docs.aws.amazon.com/general/latest/gr/rande.html#regional-endpoints). Defaults to the Region set in the [provider configuration](https://registry.terraform.io/providers/hashicorp/aws/latest/docs#aws-configuration-reference).

### destination_config Configuration Block

~> **Note:** At least one of `on_failure` or `on_success` must be configured when using this configuration block, otherwise remove it completely to prevent perpetual differences in Terraform runs.

* `on_failure` - (Optional) Configuration block with destination configuration for failed asynchronous invocations. [See below](#destination_config-on_failure-configuration-block).
* `on_success` - (Optional) Configuration block with destination configuration for successful asynchronous invocations. [See below](#destination_config-on_success-configuration-block).

#### destination_config on_failure Configuration Block

* `destination` - (Required) ARN of the destination resource. See the [Lambda Developer Guide](https://docs.aws.amazon.com/lambda/latest/dg/invocation-async.html#invocation-async-destinations) for acceptable resource types and associated IAM permissions.

#### destination_config on_success Configuration Block

* `destination` - (Required) ARN of the destination resource. See the [Lambda Developer Guide](https://docs.aws.amazon.com/lambda/latest/dg/invocation-async.html#invocation-async-destinations) for acceptable resource types and associated IAM permissions.

## Attribute Reference

This resource exports the following attributes in addition to the arguments above:

* `id` - Fully qualified Lambda Function name or ARN.

## Import

In Terraform v1.5.0 and later, use an [`import` block](https://developer.hashicorp.com/terraform/language/import) to import Lambda Function Event Invoke Configs using the fully qualified Function name or ARN. For example:

ARN without qualifier (all versions and aliases):

```python
# DO NOT EDIT. Code generated by 'cdktf convert' - Please report bugs at https://cdk.tf/bug
from constructs import Construct
from cdktf import TerraformStack
#
# Provider bindings are generated by running `cdktf get`.
# See https://cdk.tf/provider-generation for more details.
#
from imports.aws.lambda_function_event_invoke_config import LambdaFunctionEventInvokeConfig
class MyConvertedCode(TerraformStack):
    def __init__(self, scope, name):
        super().__init__(scope, name)
        LambdaFunctionEventInvokeConfig.generate_config_for_import(self, "example", "arn:aws:lambda:us-east-1:123456789012:function:example")
```

ARN with qualifier:

```python
# DO NOT EDIT. Code generated by 'cdktf convert' - Please report bugs at https://cdk.tf/bug
from constructs import Construct
from cdktf import TerraformStack
#
# Provider bindings are generated by running `cdktf get`.
# See https://cdk.tf/provider-generation for more details.
#
from imports.aws.lambda_function_event_invoke_config import LambdaFunctionEventInvokeConfig
class MyConvertedCode(TerraformStack):
    def __init__(self, scope, name):
        super().__init__(scope, name)
        LambdaFunctionEventInvokeConfig.generate_config_for_import(self, "example", "arn:aws:lambda:us-east-1:123456789012:function:example:production")
```

Name without qualifier (all versions and aliases):

```python
# DO NOT EDIT. Code generated by 'cdktf convert' - Please report bugs at https://cdk.tf/bug
from constructs import Construct
from cdktf import TerraformStack
#
# Provider bindings are generated by running `cdktf get`.
# See https://cdk.tf/provider-generation for more details.
#
from imports.aws.lambda_function_event_invoke_config import LambdaFunctionEventInvokeConfig
class MyConvertedCode(TerraformStack):
    def __init__(self, scope, name):
        super().__init__(scope, name)
        LambdaFunctionEventInvokeConfig.generate_config_for_import(self, "example", "example")
```

Name with qualifier:

```python
# DO NOT EDIT. Code generated by 'cdktf convert' - Please report bugs at https://cdk.tf/bug
from constructs import Construct
from cdktf import TerraformStack
#
# Provider bindings are generated by running `cdktf get`.
# See https://cdk.tf/provider-generation for more details.
#
from imports.aws.lambda_function_event_invoke_config import LambdaFunctionEventInvokeConfig
class MyConvertedCode(TerraformStack):
    def __init__(self, scope, name):
        super().__init__(scope, name)
        LambdaFunctionEventInvokeConfig.generate_config_for_import(self, "example", "example:production")
```

For backwards compatibility, the following legacy `terraform import` commands are also supported:

Using ARN without qualifier:

```console
% terraform import aws_lambda_function_event_invoke_config.example arn:aws:lambda:us-east-1:123456789012:function:example
```

Using ARN with qualifier:

```console
% terraform import aws_lambda_function_event_invoke_config.example arn:aws:lambda:us-east-1:123456789012:function:example:production
```

Name without qualifier (all versions and aliases):

```console
% terraform import aws_lambda_function_event_invoke_config.example example
```

Name with qualifier:

```console
% terraform import aws_lambda_function_event_invoke_config.example example:production
```

<!-- cache-key: cdktf-0.20.8 input-676a3b4001afa4a199f6a8d13832deb406f12599914af6c19f0ccab43ed751b0 -->