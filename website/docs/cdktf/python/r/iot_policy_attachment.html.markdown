---
subcategory: "IoT Core"
layout: "aws"
page_title: "AWS: aws_iot_policy_attachment"
description: |-
  Provides an IoT policy attachment.
---


<!-- Please do not edit this file, it is generated. -->
# Resource: aws_iot_policy_attachment

Provides an IoT policy attachment.

## Example Usage

```python
# DO NOT EDIT. Code generated by 'cdktf convert' - Please report bugs at https://cdk.tf/bug
from constructs import Construct
from cdktf import Fn, Token, TerraformStack
#
# Provider bindings are generated by running `cdktf get`.
# See https://cdk.tf/provider-generation for more details.
#
from imports.aws.data_aws_iam_policy_document import DataAwsIamPolicyDocument
from imports.aws.iot_certificate import IotCertificate
from imports.aws.iot_policy import IotPolicy
from imports.aws.iot_policy_attachment import IotPolicyAttachment
class MyConvertedCode(TerraformStack):
    def __init__(self, scope, name):
        super().__init__(scope, name)
        cert = IotCertificate(self, "cert",
            active=True,
            csr=Token.as_string(Fn.file("csr.pem"))
        )
        pubsub = DataAwsIamPolicyDocument(self, "pubsub",
            statement=[DataAwsIamPolicyDocumentStatement(
                actions=["iot:*"],
                effect="Allow",
                resources=["*"]
            )
            ]
        )
        aws_iot_policy_pubsub = IotPolicy(self, "pubsub_2",
            name="PubSubToAnyTopic",
            policy=Token.as_string(pubsub.json)
        )
        # This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.
        aws_iot_policy_pubsub.override_logical_id("pubsub")
        IotPolicyAttachment(self, "att",
            policy=Token.as_string(aws_iot_policy_pubsub.name),
            target=cert.arn
        )
```

## Argument Reference

This resource supports the following arguments:

* `policy` - (Required) The name of the policy to attach.
* `target` - (Required) The identity to which the policy is attached.

## Attribute Reference

This resource exports no additional attributes.

<!-- cache-key: cdktf-0.20.8 input-a5726ca95eb3899fc8547f4e9540090bfecb315bb5fb71039782d36fac25dc91 -->