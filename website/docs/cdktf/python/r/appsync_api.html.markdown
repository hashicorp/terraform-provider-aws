---
subcategory: "AppSync"
layout: "aws"
page_title: "AWS: aws_appsync_api"
description: |-
  Manages an AWS AppSync Event API.
---


<!-- Please do not edit this file, it is generated. -->
# Resource: aws_appsync_api

Manages an [AWS AppSync Event API](https://docs.aws.amazon.com/appsync/latest/eventapi/event-api-concepts.html#API). Event APIs enable real-time subscriptions and event-driven communication in AppSync applications.

## Example Usage

### Basic Usage

```python
# DO NOT EDIT. Code generated by 'cdktf convert' - Please report bugs at https://cdk.tf/bug
from constructs import Construct
from cdktf import TerraformStack
#
# Provider bindings are generated by running `cdktf get`.
# See https://cdk.tf/provider-generation for more details.
#
from imports.aws.appsync_api import AppsyncApi
class MyConvertedCode(TerraformStack):
    def __init__(self, scope, name):
        super().__init__(scope, name)
        AppsyncApi(self, "example",
            event_config=[AppsyncApiEventConfig(
                auth_provider=[AppsyncApiEventConfigAuthProvider(
                    auth_type="API_KEY"
                )
                ],
                connection_auth_mode=[AppsyncApiEventConfigConnectionAuthMode(
                    auth_type="API_KEY"
                )
                ],
                default_publish_auth_mode=[AppsyncApiEventConfigDefaultPublishAuthMode(
                    auth_type="API_KEY"
                )
                ],
                default_subscribe_auth_mode=[AppsyncApiEventConfigDefaultSubscribeAuthMode(
                    auth_type="API_KEY"
                )
                ]
            )
            ],
            name="example-event-api"
        )
```

### With Cognito Authentication

```python
# DO NOT EDIT. Code generated by 'cdktf convert' - Please report bugs at https://cdk.tf/bug
from constructs import Construct
from cdktf import Token, TerraformStack
#
# Provider bindings are generated by running `cdktf get`.
# See https://cdk.tf/provider-generation for more details.
#
from imports.aws.appsync_api import AppsyncApi
from imports.aws.cognito_user_pool import CognitoUserPool
from imports.aws.data_aws_region import DataAwsRegion
class MyConvertedCode(TerraformStack):
    def __init__(self, scope, name):
        super().__init__(scope, name)
        example = CognitoUserPool(self, "example",
            name="example-user-pool"
        )
        current = DataAwsRegion(self, "current")
        aws_appsync_api_example = AppsyncApi(self, "example_2",
            event_config=[AppsyncApiEventConfig(
                auth_provider=[AppsyncApiEventConfigAuthProvider(
                    auth_type="AMAZON_COGNITO_USER_POOLS",
                    cognito_config=[AppsyncApiEventConfigAuthProviderCognitoConfig(
                        aws_region=Token.as_string(current.name),
                        user_pool_id=example.id
                    )
                    ]
                )
                ],
                connection_auth_mode=[AppsyncApiEventConfigConnectionAuthMode(
                    auth_type="AMAZON_COGNITO_USER_POOLS"
                )
                ],
                default_publish_auth_mode=[AppsyncApiEventConfigDefaultPublishAuthMode(
                    auth_type="AMAZON_COGNITO_USER_POOLS"
                )
                ],
                default_subscribe_auth_mode=[AppsyncApiEventConfigDefaultSubscribeAuthMode(
                    auth_type="AMAZON_COGNITO_USER_POOLS"
                )
                ]
            )
            ],
            name="example-event-api"
        )
        # This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.
        aws_appsync_api_example.override_logical_id("example")
```

### With Lambda Authorizer

```python
# DO NOT EDIT. Code generated by 'cdktf convert' - Please report bugs at https://cdk.tf/bug
from constructs import Construct
from cdktf import Token, TerraformStack
#
# Provider bindings are generated by running `cdktf get`.
# See https://cdk.tf/provider-generation for more details.
#
from imports.aws.appsync_api import AppsyncApi
class MyConvertedCode(TerraformStack):
    def __init__(self, scope, name):
        super().__init__(scope, name)
        AppsyncApi(self, "example",
            event_config=[AppsyncApiEventConfig(
                auth_provider=[AppsyncApiEventConfigAuthProvider(
                    auth_type="AWS_LAMBDA",
                    lambda_authorizer_config=[AppsyncApiEventConfigAuthProviderLambdaAuthorizerConfig(
                        authorizer_result_ttl_in_seconds=300,
                        authorizer_uri=Token.as_string(aws_lambda_function_example.invoke_arn)
                    )
                    ]
                )
                ],
                connection_auth_mode=[AppsyncApiEventConfigConnectionAuthMode(
                    auth_type="AWS_LAMBDA"
                )
                ],
                default_publish_auth_mode=[AppsyncApiEventConfigDefaultPublishAuthMode(
                    auth_type="AWS_LAMBDA"
                )
                ],
                default_subscribe_auth_mode=[AppsyncApiEventConfigDefaultSubscribeAuthMode(
                    auth_type="AWS_LAMBDA"
                )
                ]
            )
            ],
            name="example-event-api"
        )
```

## Argument Reference

The following arguments are required:

* `event_config` - (Required) Configuration for the Event API. See [Event Config](#event-config) below.
* `name` - (Required) Name of the Event API.

The following arguments are optional:

* `owner_contact` - (Optional) Contact information for the owner of the Event API.
* `region` - (Optional) Region where this resource will be [managed](https://docs.aws.amazon.com/general/latest/gr/rande.html#regional-endpoints). Defaults to the Region set in the [provider configuration](https://registry.terraform.io/providers/hashicorp/aws/latest/docs#aws-configuration-reference).
* `tags` - (Optional) Map of tags to assign to the resource. If configured with a provider [`default_tags` configuration block](https://registry.terraform.io/providers/hashicorp/aws/latest/docs#default_tags-configuration-block) present, tags with matching keys will overwrite those defined at the provider-level.

### Event Config

The `event_config` block supports the following:

* `auth_provider` - (Required) List of authentication providers. See [Auth Providers](#auth-providers) below.
* `connection_auth_mode` - (Required) List of authentication modes for connections. See [Auth Modes](#auth-modes) below.
* `default_publish_auth_mode` - (Required) List of default authentication modes for publishing. See [Auth Modes](#auth-modes) below.
* `default_subscribe_auth_mode` - (Required) List of default authentication modes for subscribing. See [Auth Modes](#auth-modes) below.
* `log_config` - (Optional) Logging configuration. See [Log Config](#log-config) below.

### Auth Providers

The `auth_provider` block supports the following:

* `auth_type` - (Required) Type of authentication provider. Valid values: `AMAZON_COGNITO_USER_POOLS`, `AWS_LAMBDA`, `OPENID_CONNECT`, `API_KEY`.
* `cognito_config` - (Optional) Configuration for Cognito user pool authentication. Required when `auth_type` is `AMAZON_COGNITO_USER_POOLS`. See [Cognito Config](#cognito-config) below.
* `lambda_authorizer_config` - (Optional) Configuration for Lambda authorization. Required when `auth_type` is `AWS_LAMBDA`. See [Lambda Authorizer Config](#lambda-authorizer-config) below.
* `openid_connect_config` - (Optional) Configuration for OpenID Connect. Required when `auth_type` is `OPENID_CONNECT`. See [OpenID Connect Config](#openid-connect-config) below.

### Cognito Config

The `cognito_config` block supports the following:

* `app_id_client_regex` - (Optional) Regular expression for matching the client ID.
* `aws_region` - (Required) AWS region where the user pool is located.
* `user_pool_id` - (Required) ID of the Cognito user pool.

### Lambda Authorizer Config

The `lambda_authorizer_config` block supports the following:

* `authorizer_result_ttl_in_seconds` - (Optional) TTL in seconds for the authorization result cache.
* `authorizer_uri` - (Required) URI of the Lambda function for authorization.
* `identity_validation_expression` - (Optional) Regular expression for identity validation.

### OpenID Connect Config

The `openid_connect_config` block supports the following:

* `auth_ttl` - (Optional) TTL in seconds for the authentication token.
* `client_id` - (Optional) Client ID for the OpenID Connect provider.
* `iat_ttl` - (Optional) TTL in seconds for the issued at time.
* `issuer` - (Required) Issuer URL for the OpenID Connect provider.

### Auth Modes

The `connection_auth_mode`, `default_publish_auth_mode`, and `default_subscribe_auth_mode` blocks support the following:

* `auth_type` - (Required) Type of authentication. Valid values: `API_KEY`, `AWS_IAM`, `AMAZON_COGNITO_USER_POOLS`, `OPENID_CONNECT`, `AWS_LAMBDA`.

### Log Config

The `log_config` block supports the following:

* `cloudwatch_logs_role_arn` - (Required) ARN of the IAM role for CloudWatch logs.
* `log_level` - (Required) Log level. Valid values: `NONE`, `ERROR`, `ALL`, `INFO`, `DEBUG`.

## Attribute Reference

This resource exports the following attributes in addition to the arguments above:

* `api_id` - ID of the Event API.
* `api_arn` - ARN of the Event API.
* `dns` - DNS configuration for the Event API.
* `tags_all` - Map of tags assigned to the resource, including those inherited from the provider [`default_tags` configuration block](https://registry.terraform.io/providers/hashicorp/aws/latest/docs#default_tags-configuration-block).
* `waf_web_acl_arn` - ARN of the associated WAF web ACL.

## Import

In Terraform v1.5.0 and later, use an [`import` block](https://developer.hashicorp.com/terraform/language/import) to import AppSync Event API using the `api_id`. For example:

```python
# DO NOT EDIT. Code generated by 'cdktf convert' - Please report bugs at https://cdk.tf/bug
from constructs import Construct
from cdktf import TerraformStack
#
# Provider bindings are generated by running `cdktf get`.
# See https://cdk.tf/provider-generation for more details.
#
from imports.aws.appsync_api import AppsyncApi
class MyConvertedCode(TerraformStack):
    def __init__(self, scope, name):
        super().__init__(scope, name)
        AppsyncApi.generate_config_for_import(self, "example", "example-api-id")
```

Using `terraform import`, import AppSync Event API using the `api_id`. For example:

```console
% terraform import aws_appsync_api.example example-api-id
```

<!-- cache-key: cdktf-0.20.8 input-7aad35e5a1b1cc865678d856567b2b1903c5a96019160119e25b683b6ae0add1 -->