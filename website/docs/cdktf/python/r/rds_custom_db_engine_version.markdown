---
subcategory: "RDS (Relational Database)"
layout: "aws"
page_title: "AWS: aws_rds_custom_db_engine_version"
description: |-
  Provides an custom engine version (CEV) resource for Amazon RDS Custom.
---


<!-- Please do not edit this file, it is generated. -->
# Resource: aws_rds_custom_db_engine_version

Provides an custom engine version (CEV) resource for Amazon RDS Custom. For additional information, see [Working with CEVs for RDS Custom for Oracle](https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/custom-cev.html) and [Working with CEVs for RDS Custom for SQL Server](https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/custom-cev-sqlserver.html) in the the [RDS User Guide](https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/Welcome.html).

## Example Usage

### RDS Custom for Oracle Usage

```python
# DO NOT EDIT. Code generated by 'cdktf convert' - Please report bugs at https://cdk.tf/bug
from constructs import Construct
from cdktf import TerraformStack
#
# Provider bindings are generated by running `cdktf get`.
# See https://cdk.tf/provider-generation for more details.
#
from imports.aws.kms_key import KmsKey
from imports.aws.rds_custom_db_engine_version import RdsCustomDbEngineVersion
class MyConvertedCode(TerraformStack):
    def __init__(self, scope, name):
        super().__init__(scope, name)
        example = KmsKey(self, "example",
            description="KMS symmetric key for RDS Custom for Oracle"
        )
        aws_rds_custom_db_engine_version_example = RdsCustomDbEngineVersion(self, "example_1",
            database_installation_files_s3_bucket_name="DOC-EXAMPLE-BUCKET",
            database_installation_files_s3_prefix="1915_GI/",
            engine="custom-oracle-ee-cdb",
            engine_version="19.cdb_cev1",
            kms_key_id=example.arn,
            manifest="  {\n\t\"databaseInstallationFileNames\":[\"V982063-01.zip\"]\n  }\n\n",
            tags={
                "Key": "value",
                "Name": "example"
            }
        )
        # This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.
        aws_rds_custom_db_engine_version_example.override_logical_id("example")
```

### RDS Custom for Oracle External Manifest Usage

```python
# DO NOT EDIT. Code generated by 'cdktf convert' - Please report bugs at https://cdk.tf/bug
from constructs import Construct
from cdktf import Fn, Token, TerraformStack
#
# Provider bindings are generated by running `cdktf get`.
# See https://cdk.tf/provider-generation for more details.
#
from imports.aws.kms_key import KmsKey
from imports.aws.rds_custom_db_engine_version import RdsCustomDbEngineVersion
class MyConvertedCode(TerraformStack):
    def __init__(self, scope, name):
        super().__init__(scope, name)
        example = KmsKey(self, "example",
            description="KMS symmetric key for RDS Custom for Oracle"
        )
        aws_rds_custom_db_engine_version_example = RdsCustomDbEngineVersion(self, "example_1",
            database_installation_files_s3_bucket_name="DOC-EXAMPLE-BUCKET",
            database_installation_files_s3_prefix="1915_GI/",
            engine="custom-oracle-ee-cdb",
            engine_version="19.cdb_cev1",
            filename="manifest_1915_GI.json",
            kms_key_id=example.arn,
            manifest_hash=Token.as_string(Fn.filebase64sha256(json)),
            tags={
                "Key": "value",
                "Name": "example"
            }
        )
        # This allows the Terraform resource name to match the original name. You can remove the call if you don't need them to match.
        aws_rds_custom_db_engine_version_example.override_logical_id("example")
```

### RDS Custom for SQL Server Usage

```python
# DO NOT EDIT. Code generated by 'cdktf convert' - Please report bugs at https://cdk.tf/bug
from constructs import Construct
from cdktf import TerraformStack
#
# Provider bindings are generated by running `cdktf get`.
# See https://cdk.tf/provider-generation for more details.
#
from imports.aws.rds_custom_db_engine_version import RdsCustomDbEngineVersion
class MyConvertedCode(TerraformStack):
    def __init__(self, scope, name):
        super().__init__(scope, name)
        RdsCustomDbEngineVersion(self, "test",
            engine="custom-sqlserver-se",
            engine_version="15.00.4249.2.cev-1",
            source_image_id="ami-0aa12345678a12ab1"
        )
```

### RDS Custom for SQL Server Usage with AMI from another region

```python
# DO NOT EDIT. Code generated by 'cdktf convert' - Please report bugs at https://cdk.tf/bug
from constructs import Construct
from cdktf import TerraformStack
#
# Provider bindings are generated by running `cdktf get`.
# See https://cdk.tf/provider-generation for more details.
#
from imports.aws.ami_copy import AmiCopy
from imports.aws.rds_custom_db_engine_version import RdsCustomDbEngineVersion
class MyConvertedCode(TerraformStack):
    def __init__(self, scope, name):
        super().__init__(scope, name)
        example = AmiCopy(self, "example",
            description="A copy of ami-xxxxxxxx",
            name="sqlserver-se-2019-15.00.4249.2",
            source_ami_id="ami-xxxxxxxx",
            source_ami_region="us-east-1"
        )
        RdsCustomDbEngineVersion(self, "test",
            engine="custom-sqlserver-se",
            engine_version="15.00.4249.2.cev-1",
            source_image_id=example.id
        )
```

## Argument Reference

This resource supports the following arguments:

* `database_installation_files_s3_bucket_name` - (Required) The name of the Amazon S3 bucket that contains the database installation files.
* `database_installation_files_s3_prefix` - (Required) The prefix for the Amazon S3 bucket that contains the database installation files.
* `description` - (Optional) The description of the CEV.
* `engine` - (Required) The name of the database engine. Valid values are `custom-oracle*`, `custom-sqlserver*`.
* `engine_version` - (Required) The version of the database engine.
* `filename` - (Optional) The name of the manifest file within the local filesystem. Conflicts with `manifest`.
* `kms_key_id` - (Optional) The ARN of the AWS KMS key that is used to encrypt the database installation files. Required for RDS Custom for Oracle.
* `manifest` - (Optional) The manifest file, in JSON format, that contains the list of database installation files. Conflicts with `filename`.
* `manifest_hash` - (Optional) Used to trigger updates. Must be set to a base64-encoded SHA256 hash of the manifest source specified with `filename`. The usual way to set this is filebase64sha256("manifest.json") where "manifest.json" is the local filename of the manifest source.
* `status` - (Optional) The status of the CEV. Valid values are `available`, `inactive`, `inactive-except-restore`.
* `source_image_id` - (Optional) The ID of the AMI to create the CEV from. Required for RDS Custom for SQL Server. For RDS Custom for Oracle, you can specify an AMI ID that was used in a different Oracle CEV.
* `tags` - (Optional) A mapping of tags to assign to the resource. If configured with a provider [`default_tags` configuration block](https://registry.terraform.io/providers/hashicorp/aws/latest/docs#default_tags-configuration-block) present, tags with matching keys will overwrite those defined at the provider-level.

## Attribute Reference

This resource exports the following attributes in addition to the arguments above:

* `arn` - The Amazon Resource Name (ARN) for the custom engine version.
* `create_time` - The date and time that the CEV was created.
* `db_parameter_group_family` - The name of the DB parameter group family for the CEV.
* `image_id` - The ID of the AMI that was created with the CEV.
* `major_engine_version` - The major version of the database engine.
* `manifest_computed` - The returned manifest file, in JSON format, service generated and often different from input `manifest`.
* `tags_all` - A map of tags assigned to the resource, including those inherited from the provider [`default_tags` configuration block](https://registry.terraform.io/providers/hashicorp/aws/latest/docs#default_tags-configuration-block).

## Timeouts

[Configuration options](https://developer.hashicorp.com/terraform/language/resources/syntax#operation-timeouts):

- `create` - (Default `240m`)
- `update` - (Default `10m`)
- `delete` - (Default `60m`)

## Import

In Terraform v1.5.0 and later, use an [`import` block](https://developer.hashicorp.com/terraform/language/import) to import custom engine versions for Amazon RDS custom using the `engine` and `engine_version` separated by a colon (`:`). For example:

```python
# DO NOT EDIT. Code generated by 'cdktf convert' - Please report bugs at https://cdk.tf/bug
from constructs import Construct
from cdktf import TerraformStack
#
# Provider bindings are generated by running `cdktf get`.
# See https://cdk.tf/provider-generation for more details.
#
from imports.aws.rds_custom_db_engine_version import RdsCustomDbEngineVersion
class MyConvertedCode(TerraformStack):
    def __init__(self, scope, name):
        super().__init__(scope, name)
        RdsCustomDbEngineVersion.generate_config_for_import(self, "example", "custom-oracle-ee-cdb:19.cdb_cev1")
```

Using `terraform import`, import custom engine versions for Amazon RDS custom using the `engine` and `engine_version` separated by a colon (`:`). For example:

```console
% terraform import aws_rds_custom_db_engine_version.example custom-oracle-ee-cdb:19.cdb_cev1
```

<!-- cache-key: cdktf-0.20.8 input-dae41bd3880415fe2e096d70a45f580b6bfa6f14fe785ee0edae92bb5abec604 -->