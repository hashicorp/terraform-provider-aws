---
subcategory: "DataSync"
layout: "aws"
page_title: "AWS: aws_datasync_location_fsx_ontap_file_system"
description: |-
  Terraform resource for managing an AWS DataSync Location FSx Ontap File System.
---


<!-- Please do not edit this file, it is generated. -->
# Resource: aws_datasync_location_fsx_ontap_file_system

Terraform resource for managing an AWS DataSync Location FSx Ontap File System.

## Example Usage

### Basic Usage

```python
# DO NOT EDIT. Code generated by 'cdktf convert' - Please report bugs at https://cdk.tf/bug
from constructs import Construct
from cdktf import Token, TerraformStack
#
# Provider bindings are generated by running `cdktf get`.
# See https://cdk.tf/provider-generation for more details.
#
from imports.aws.datasync_location_fsx_ontap_file_system import DatasyncLocationFsxOntapFileSystem
class MyConvertedCode(TerraformStack):
    def __init__(self, scope, name):
        super().__init__(scope, name)
        DatasyncLocationFsxOntapFileSystem(self, "test",
            fsx_filesystem_arn=Token.as_string(aws_fsx_ontap_file_system_test.arn),
            protocol=DatasyncLocationFsxOntapFileSystemProtocol(
                nfs=DatasyncLocationFsxOntapFileSystemProtocolNfs(
                    mount_options=DatasyncLocationFsxOntapFileSystemProtocolNfsMountOptions(
                        version="NFS3"
                    )
                )
            ),
            security_group_arns=[Token.as_string(aws_security_group_test.arn)],
            storage_virtual_machine_arn=Token.as_string(aws_fsx_ontap_storage_virtual_machine_test.arn)
        )
```

## Argument Reference

The following arguments are required:

* `protocol` - (Required) The data transfer protocol that DataSync uses to access your Amazon FSx file system. See [Protocol](#protocol) below.
* `security_group_arns` - (Required) The security groups that provide access to your file system's preferred subnet. The security groups must allow outbbound traffic on the following ports (depending on the protocol you use):
    * Network File System (NFS): TCP ports 111, 635, and 2049
    * Server Message Block (SMB): TCP port 445
* `storage_virtual_machine_arn` - (Required) The ARN of the SVM in your file system where you want to copy data to of from.

The following arguments are optional:

* `subdirectory` - (Optional) Path to the file share in the SVM where you'll copy your data. You can specify a junction path (also known as a mount point), qtree path (for NFS file shares), or share name (for SMB file shares) (e.g. `/vol1`, `/vol1/tree1`, `share1`).
* `tags` - (Optional) Key-value pairs of resource tags to assign to the DataSync Location. If configured with a provider [`default_tags` configuration block](https://registry.terraform.io/providers/hashicorp/aws/latest/docs#default_tags-configuration-block) present, tags with matching keys will overwrite those defined at the provider-level.

### Protocol

* `nfs` - Network File System (NFS) protocol that DataSync uses to access your FSx ONTAP file system. See [NFS](#nfs) below.
* `smb` - Server Message Block (SMB) protocol that DataSync uses to access your FSx ONTAP file system. See [SMB] (#smb) below.

### NFS

* `mount_options` - (Required) Mount options that are available for DataSync to access an NFS location. See [NFS Mount Options](#nfs-mount-options) below.

### NFS Mount Options

* `version` - (Optional) The specific NFS version that you want DataSync to use for mounting your NFS share. Valid values: `NFS3`. Default: `NFS3`

### SMB

* `domain` - Fully qualified domain name of the Microsoft Active Directory (AD) that your storage virtual machine belongs to.
* `mount_options` - Mount options that are available for DataSync to access an SMB location. See [SMB Mount Options](#smb-mount-options) below.
* `password` - Password of a user who has permission to access your SVM.
* `user` - Username that can mount the location and access the files, folders, and metadata that you need in the SVM.

### SMB Mount Options

* `version` - (Optional) SMB version that you want DataSync to use for mounting your SMB share. Valid values: `AUTOMATIC`, `SMB3`, `SMB2` `SMB2_0`. Default: `AUTOMATIC`

## Attribute Reference

This resource exports the following attributes in addition to the arguments above:

* `arn` - ARN of the DataSync Location for the FSx Ontap File System.
* `fsx_filesystem_arn` - ARN of the FSx Ontap File System.
* `uri` - URI of the FSx ONTAP file system location

## Import

In Terraform v1.5.0 and later, use an [`import` block](https://developer.hashicorp.com/terraform/language/import) to import `aws_datasync_location_fsx_ontap_file_system` using the `DataSync-ARN#FSx-ontap-svm-ARN`. For example:

```python
# DO NOT EDIT. Code generated by 'cdktf convert' - Please report bugs at https://cdk.tf/bug
from constructs import Construct
from cdktf import TerraformStack
#
# Provider bindings are generated by running `cdktf get`.
# See https://cdk.tf/provider-generation for more details.
#
from imports.aws.datasync_location_fsx_ontap_file_system import DatasyncLocationFsxOntapFileSystem
class MyConvertedCode(TerraformStack):
    def __init__(self, scope, name):
        super().__init__(scope, name)
        DatasyncLocationFsxOntapFileSystem.generate_config_for_import(self, "example", "arn:aws:datasync:us-west-2:123456789012:location/loc-12345678901234567#arn:aws:fsx:us-west-2:123456789012:storage-virtual-machine/svm-12345678abcdef123")
```

Using `terraform import`, import `aws_datasync_location_fsx_ontap_file_system` using the `DataSync-ARN#FSx-ontap-svm-ARN`. For example:

```console
% terraform import aws_datasync_location_fsx_ontap_file_system.example arn:aws:datasync:us-west-2:123456789012:location/loc-12345678901234567#arn:aws:fsx:us-west-2:123456789012:storage-virtual-machine/svm-12345678abcdef123
```

<!-- cache-key: cdktf-0.20.8 input-fdb2898abac9131a1e6f0aedf0c516dba5a11e0930534026410c35d320db2ff2 -->